(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function Bu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Ev(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var s=i.default;if(typeof s=="function"){var l=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var u=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(l,r,u.get?u:{enumerable:!0,get:function(){return i[r]}})}),l}var hu={exports:{}},Zi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Av(){if(Dm)return Zi;Dm=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:i,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Zi.Fragment=s,Zi.jsx=l,Zi.jsxs=l,Zi}var Um;function Tv(){return Um||(Um=1,hu.exports=Av()),hu.exports}var d=Tv(),mu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Ov(){if(Mm)return pe;Mm=1;var i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,q={};function K(j,G,I){this.props=j,this.context=G,this.refs=q,this.updater=I||T}K.prototype.isReactComponent={},K.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},K.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=K.prototype;function B(j,G,I){this.props=j,this.context=G,this.refs=q,this.updater=I||T}var P=B.prototype=new U;P.constructor=B,O(P,K.prototype),P.isPureReactComponent=!0;var ge=Array.isArray;function Z(){}var Q={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function Re(j,G,I){var te=I.ref;return{$$typeof:i,type:j,key:G,ref:te!==void 0?te:null,props:I}}function rt(j,G){return Re(j.type,G,j.props)}function dt(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function Ie(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(I){return G[I]})}var ae=/\/+/g;function _e(j,G){return typeof j=="object"&&j!==null&&j.key!=null?Ie(""+j.key):G.toString(36)}function ze(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Z,Z):(j.status="pending",j.then(function(G){j.status==="pending"&&(j.status="fulfilled",j.value=G)},function(G){j.status==="pending"&&(j.status="rejected",j.reason=G)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function M(j,G,I,te,he){var we=typeof j;(we==="undefined"||we==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(we){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case i:case s:ye=!0;break;case y:return ye=j._init,M(ye(j._payload),G,I,te,he)}}if(ye)return he=he(j),ye=te===""?"."+_e(j,0):te,ge(he)?(I="",ye!=null&&(I=ye.replace(ae,"$&/")+"/"),M(he,G,I,"",function(Va){return Va})):he!=null&&(dt(he)&&(he=rt(he,I+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(ae,"$&/")+"/")+ye)),G.push(he)),1;ye=0;var ot=te===""?".":te+":";if(ge(j))for(var Ke=0;Ke<j.length;Ke++)te=j[Ke],we=ot+_e(te,Ke),ye+=M(te,G,I,we,he);else if(Ke=w(j),typeof Ke=="function")for(j=Ke.call(j),Ke=0;!(te=j.next()).done;)te=te.value,we=ot+_e(te,Ke++),ye+=M(te,G,I,we,he);else if(we==="object"){if(typeof j.then=="function")return M(ze(j),G,I,te,he);throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(j,G,I){if(j==null)return j;var te=[],he=0;return M(j,te,"","",function(we){return G.call(I,we,he++)}),te}function V(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(I){(j._status===0||j._status===-1)&&(j._status=1,j._result=I)},function(I){(j._status===0||j._status===-1)&&(j._status=2,j._result=I)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ve={map:X,forEach:function(j,G,I){X(j,function(){G.apply(this,arguments)},I)},count:function(j){var G=0;return X(j,function(){G++}),G},toArray:function(j){return X(j,function(G){return G})||[]},only:function(j){if(!dt(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return pe.Activity=x,pe.Children=ve,pe.Component=K,pe.Fragment=l,pe.Profiler=u,pe.PureComponent=B,pe.StrictMode=r,pe.Suspense=v,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,pe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Q.H.useMemoCache(j)}},pe.cache=function(j){return function(){return j.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(j,G,I){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=O({},j.props),he=j.key;if(G!=null)for(we in G.key!==void 0&&(he=""+G.key),G)!Ae.call(G,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&G.ref===void 0||(te[we]=G[we]);var we=arguments.length-2;if(we===1)te.children=I;else if(1<we){for(var ye=Array(we),ot=0;ot<we;ot++)ye[ot]=arguments[ot+2];te.children=ye}return Re(j.type,he,te)},pe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},pe.createElement=function(j,G,I){var te,he={},we=null;if(G!=null)for(te in G.key!==void 0&&(we=""+G.key),G)Ae.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(he[te]=G[te]);var ye=arguments.length-2;if(ye===1)he.children=I;else if(1<ye){for(var ot=Array(ye),Ke=0;Ke<ye;Ke++)ot[Ke]=arguments[Ke+2];he.children=ot}if(j&&j.defaultProps)for(te in ye=j.defaultProps,ye)he[te]===void 0&&(he[te]=ye[te]);return Re(j,we,he)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(j){return{$$typeof:g,render:j}},pe.isValidElement=dt,pe.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:V}},pe.memo=function(j,G){return{$$typeof:p,type:j,compare:G===void 0?null:G}},pe.startTransition=function(j){var G=Q.T,I={};Q.T=I;try{var te=j(),he=Q.S;he!==null&&he(I,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Z,ee)}catch(we){ee(we)}finally{G!==null&&I.types!==null&&(G.types=I.types),Q.T=G}},pe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},pe.use=function(j){return Q.H.use(j)},pe.useActionState=function(j,G,I){return Q.H.useActionState(j,G,I)},pe.useCallback=function(j,G){return Q.H.useCallback(j,G)},pe.useContext=function(j){return Q.H.useContext(j)},pe.useDebugValue=function(){},pe.useDeferredValue=function(j,G){return Q.H.useDeferredValue(j,G)},pe.useEffect=function(j,G){return Q.H.useEffect(j,G)},pe.useEffectEvent=function(j){return Q.H.useEffectEvent(j)},pe.useId=function(){return Q.H.useId()},pe.useImperativeHandle=function(j,G,I){return Q.H.useImperativeHandle(j,G,I)},pe.useInsertionEffect=function(j,G){return Q.H.useInsertionEffect(j,G)},pe.useLayoutEffect=function(j,G){return Q.H.useLayoutEffect(j,G)},pe.useMemo=function(j,G){return Q.H.useMemo(j,G)},pe.useOptimistic=function(j,G){return Q.H.useOptimistic(j,G)},pe.useReducer=function(j,G,I){return Q.H.useReducer(j,G,I)},pe.useRef=function(j){return Q.H.useRef(j)},pe.useState=function(j){return Q.H.useState(j)},pe.useSyncExternalStore=function(j,G,I){return Q.H.useSyncExternalStore(j,G,I)},pe.useTransition=function(){return Q.H.useTransition()},pe.version="19.2.4",pe}var Bm;function qu(){return Bm||(Bm=1,mu.exports=Ov()),mu.exports}var D=qu();const Cv=Bu(D);var gu={exports:{}},Pi={},pu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Rv(){return qm||(qm=1,(function(i){function s(M,X){var V=M.length;M.push(X);e:for(;0<V;){var ee=V-1>>>1,ve=M[ee];if(0<u(ve,X))M[ee]=X,M[V]=ve,V=ee;else break e}}function l(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var X=M[0],V=M.pop();if(V!==X){M[0]=V;e:for(var ee=0,ve=M.length,j=ve>>>1;ee<j;){var G=2*(ee+1)-1,I=M[G],te=G+1,he=M[te];if(0>u(I,V))te<ve&&0>u(he,I)?(M[ee]=he,M[te]=V,ee=te):(M[ee]=I,M[G]=V,ee=G);else if(te<ve&&0>u(he,V))M[ee]=he,M[te]=V,ee=te;else break e}}return X}function u(M,X){var V=M.sortIndex-X.sortIndex;return V!==0?V:M.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var v=[],p=[],y=1,x=null,N=3,w=!1,T=!1,O=!1,q=!1,K=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var X=l(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=M)r(p),X.sortIndex=X.expirationTime,s(v,X);else break;X=l(p)}}function ge(M){if(O=!1,P(M),!T)if(l(v)!==null)T=!0,Z||(Z=!0,Ie());else{var X=l(p);X!==null&&ze(ge,X.startTime-M)}}var Z=!1,Q=-1,Ae=5,Re=-1;function rt(){return q?!0:!(i.unstable_now()-Re<Ae)}function dt(){if(q=!1,Z){var M=i.unstable_now();Re=M;var X=!0;try{e:{T=!1,O&&(O=!1,U(Q),Q=-1),w=!0;var V=N;try{t:{for(P(M),x=l(v);x!==null&&!(x.expirationTime>M&&rt());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,N=x.priorityLevel;var ve=ee(x.expirationTime<=M);if(M=i.unstable_now(),typeof ve=="function"){x.callback=ve,P(M),X=!0;break t}x===l(v)&&r(v),P(M)}else r(v);x=l(v)}if(x!==null)X=!0;else{var j=l(p);j!==null&&ze(ge,j.startTime-M),X=!1}}break e}finally{x=null,N=V,w=!1}X=void 0}}finally{X?Ie():Z=!1}}}var Ie;if(typeof B=="function")Ie=function(){B(dt)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,_e=ae.port2;ae.port1.onmessage=dt,Ie=function(){_e.postMessage(null)}}else Ie=function(){K(dt,0)};function ze(M,X){Q=K(function(){M(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(M){switch(N){case 1:case 2:case 3:var X=3;break;default:X=N}var V=N;N=X;try{return M()}finally{N=V}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=N;N=M;try{return X()}finally{N=V}},i.unstable_scheduleCallback=function(M,X,V){var ee=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,M){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=V+ve,M={id:y++,callback:X,priorityLevel:M,startTime:V,expirationTime:ve,sortIndex:-1},V>ee?(M.sortIndex=V,s(p,M),l(v)===null&&M===l(p)&&(O?(U(Q),Q=-1):O=!0,ze(ge,V-ee))):(M.sortIndex=ve,s(v,M),T||w||(T=!0,Z||(Z=!0,Ie()))),M},i.unstable_shouldYield=rt,i.unstable_wrapCallback=function(M){var X=N;return function(){var V=N;N=X;try{return M.apply(this,arguments)}finally{N=V}}}})(vu)),vu}var Lm;function zv(){return Lm||(Lm=1,pu.exports=Rv()),pu.exports}var bu={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function Dv(){if(Hm)return jt;Hm=1;var i=qu();function s(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:v,containerInfo:p,implementation:y}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jt.createPortal=function(v,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return f(v,p,null,y)},jt.flushSync=function(v){var p=h.T,y=r.p;try{if(h.T=null,r.p=2,v)return v()}finally{h.T=p,r.p=y,r.d.f()}},jt.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(v,p))},jt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},jt.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var y=p.as,x=g(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:w}):y==="script"&&r.d.X(v,{crossOrigin:x,integrity:N,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},jt.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=g(p.as,p.crossOrigin);r.d.M(v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(v)},jt.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=g(y,p.crossOrigin);r.d.L(v,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},jt.preloadModule=function(v,p){if(typeof v=="string")if(p){var y=g(p.as,p.crossOrigin);r.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(v)},jt.requestFormReset=function(v){r.d.r(v)},jt.unstable_batchedUpdates=function(v,p){return v(p)},jt.useFormState=function(v,p,y){return h.H.useFormState(v,p,y)},jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},jt.version="19.2.4",jt}var $m;function Uv(){if($m)return bu.exports;$m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),bu.exports=Dv(),bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function Mv(){if(Gm)return Pi;Gm=1;var i=zv(),s=qu(),l=Uv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return v(o),e;if(c===n)return v(o),t;c=c.sibling}throw Error(r(188))}if(a.return!==n.return)a=o,n=c;else{for(var m=!1,b=o.child;b;){if(b===a){m=!0,a=o,n=c;break}if(b===n){m=!0,n=o,a=c;break}b=b.sibling}if(!m){for(b=c.child;b;){if(b===a){m=!0,a=c,n=o;break}if(b===n){m=!0,n=c,a=o;break}b=b.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=dt&&e[dt]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case K:return"Profiler";case q:return"StrictMode";case ge:return"Suspense";case Z:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case B:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var ze=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ee=[],ve=-1;function j(e){return{current:e}}function G(e){0>ve||(e.current=ee[ve],ee[ve]=null,ve--)}function I(e,t){ve++,ee[ve]=e.current,e.current=t}var te=j(null),he=j(null),we=j(null),ye=j(null);function ot(e,t){switch(I(we,t),I(he,e),I(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=nm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(te),I(te,e)}function Ke(){G(te),G(he),G(we)}function Va(e){e.memoizedState!==null&&I(ye,e);var t=te.current,a=nm(t,e.type);t!==a&&(I(he,e),I(te,a))}function Qe(e){he.current===e&&(G(te),G(he)),ye.current===e&&(G(ye),Qi._currentValue=V)}var va,ei;function kt(e){if(va===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);va=t&&t[1]||"",ei=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+e+ei}var ca=!1;function Js(e,t){if(!e||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(z){var C=z}Reflect.construct(e,[],$)}else{try{$.call()}catch(z){C=z}e.call($.prototype)}}else{try{throw Error()}catch(z){C=z}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(z){if(z&&C&&typeof z.stack=="string")return[z.stack,C.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],b=c[1];if(m&&b){var _=m.split(`
`),A=b.split(`
`);for(o=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(n===_.length||o===A.length)for(n=_.length-1,o=A.length-1;1<=n&&0<=o&&_[n]!==A[o];)o--;for(;1<=n&&0<=o;n--,o--)if(_[n]!==A[o]){if(n!==1||o!==1)do if(n--,o--,0>o||_[n]!==A[o]){var L=`
`+_[n].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=n&&0<=o);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kt(a):""}function Fr(e,t){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==t&&t!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return kt("Activity");default:return""}}function Is(e){try{var t="",a=null;do t+=Fr(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Zs=Object.prototype.hasOwnProperty,bs=i.unstable_scheduleCallback,ys=i.unstable_cancelCallback,dl=i.unstable_shouldYield,ti=i.unstable_requestPaint,St=i.unstable_now,fl=i.unstable_getCurrentPriorityLevel,ai=i.unstable_ImmediatePriority,ba=i.unstable_UserBlockingPriority,Ya=i.unstable_NormalPriority,si=i.unstable_LowPriority,ni=i.unstable_IdlePriority,ii=i.log,eo=i.unstable_setDisableYieldValue,ya=null,ft=null;function de(e){if(typeof ii=="function"&&eo(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(ya,e)}catch{}}var ht=Math.clz32?Math.clz32:xa,xs=Math.log,to=Math.LN2;function xa(e){return e>>>=0,e===0?32:31-(xs(e)/to|0)|0}var Ka=256,Ps=262144,Ws=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=n&134217727;return b!==0?(n=b&~c,n!==0?o=_a(n):(m&=b,m!==0?o=_a(m):a||(a=b&~e,a!==0&&(o=_a(a))))):(b=n&~c,b!==0?o=_a(b):m!==0?o=_a(m):a||(a=n&~e,a!==0&&(o=_a(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var e=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),e}function ri(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _s(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function so(e,t,a,n,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(a=m&~a;0<a;){var L=31-ht(a),$=1<<L;b[L]=0,_[L]=-1;var C=A[L];if(C!==null)for(A[L]=null,L=0;L<C.length;L++){var z=C[L];z!==null&&(z.lane&=-536870913)}a&=~$}n!==0&&hl(e,n,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function hl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ht(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function ml(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ht(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function gl(e,t){var a=t&-t;return a=(a&42)!==0?1:oi(a),(a&(e.suspendedLanes|t))!==0?0:a}function oi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pl(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Em(e.type))}function vl(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Tt=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Tt,mt="__reactProps$"+Tt,wa="__reactContainer$"+Tt,Kt="__reactEvents$"+Tt,no="__reactListeners$"+Tt,bl="__reactHandles$"+Tt,R="__reactResources$"+Tt,Y="__reactMarker$"+Tt;function W(e){delete e[Fe],delete e[mt],delete e[Kt],delete e[no],delete e[bl]}function J(e){var t=e[Fe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wa]||a[Fe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=dm(e);e!==null;){if(a=e[Fe])return a;e=dm(e)}return t}e=a,a=e.parentNode}return null}function ce(e){if(e=e[Fe]||e[wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ua(e){var t=e[R];return t||(t=e[R]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Y]=!0}var Ss=new Set,Ku={};function js(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(Ku[e]=t,e=0;e<t.length;e++)Ss.add(t[e])}var bg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Xu={};function yg(e){return Zs.call(Xu,e)?!0:Zs.call(Qu,e)?!1:bg.test(e)?Xu[e]=!0:(Qu[e]=!0,!1)}function yl(e,t,a){if(yg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Sa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function io(e){if(!e._valueTracker){var t=Ju(e)?"checked":"value";e._valueTracker=xg(e,t,""+e[t])}}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ju(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _g=/[\n"\\]/g;function Xt(e){return e.replace(_g,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lo(e,t,a,n,o,c,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?ro(e,m,Qt(t)):a!=null?ro(e,m,Qt(a)):n!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Qt(b):e.removeAttribute("name")}function Zu(e,t,a,n,o,c,m,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){io(e);return}a=a!=null?""+Qt(a):"",t=t!=null?""+Qt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=b?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),io(e)}function ro(e,t,a){t==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tn(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Qt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pu(e,t,a){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Qt(a):""}function Wu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(ze(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Qt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),io(e)}function an(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||wg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ed(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Fu(e,o,n)}else for(var c in t)t.hasOwnProperty(c)&&Fu(e,c,t[c])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return jg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ja(){}var co=null;function uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sn=null,nn=null;function td(e){var t=ce(e);if(t&&(e=t.stateNode)){var a=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[mt]||null;if(!o)throw Error(r(90));lo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Iu(n)}break e;case"textarea":Pu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&tn(e,!!a.multiple,t,!1)}}}var fo=!1;function ad(e,t,a){if(fo)return e(t,a);fo=!0;try{var n=e(t);return n}finally{if(fo=!1,(sn!==null||nn!==null)&&(cr(),sn&&(t=sn,e=nn,nn=sn=null,td(t),e)))for(t=0;t<e.length;t++)td(e[t])}}function ci(e,t){var a=e.stateNode;if(a===null)return null;var n=a[mt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(Na)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){ho=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{ho=!1}var Xa=null,mo=null,Sl=null;function sd(){if(Sl)return Sl;var e,t=mo,a=t.length,n,o="value"in Xa?Xa.value:Xa.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===o[c-n];n++);return Sl=o.slice(e,1<n?1-n:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function nd(){return!1}function Ot(e){function t(a,n,o,c,m){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Nl:nd,this.isPropagationStopped=nd,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Ot(Ns),di=x({},Ns,{view:0,detail:0}),Ng=Ot(di),go,po,fi,El=x({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(go=e.screenX-fi.screenX,po=e.screenY-fi.screenY):po=go=0,fi=e),go)},movementY:function(e){return"movementY"in e?e.movementY:po}}),id=Ot(El),kg=x({},El,{dataTransfer:0}),Eg=Ot(kg),Ag=x({},di,{relatedTarget:0}),vo=Ot(Ag),Tg=x({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=Ot(Tg),Cg=x({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rg=Ot(Cg),zg=x({},Ns,{data:0}),ld=Ot(zg),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mg[e])?!!t[e]:!1}function bo(){return Bg}var qg=x({},di,{key:function(e){if(e.key){var t=Dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=Ot(qg),Hg=x({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Ot(Hg),$g=x({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),Gg=Ot($g),Vg=x({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=Ot(Vg),Kg=x({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=Ot(Kg),Xg=x({},Ns,{newState:0,oldState:0}),Jg=Ot(Xg),Ig=[9,13,27,32],yo=Na&&"CompositionEvent"in window,hi=null;Na&&"documentMode"in document&&(hi=document.documentMode);var Zg=Na&&"TextEvent"in window&&!hi,od=Na&&(!yo||hi&&8<hi&&11>=hi),cd=" ",ud=!1;function dd(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function Pg(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(ud=!0,cd);case"textInput":return e=t.data,e===cd&&ud?null:e;default:return null}}function Wg(e,t){if(ln)return e==="compositionend"||!yo&&dd(e,t)?(e=sd(),Sl=mo=Xa=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fg[e.type]:t==="textarea"}function md(e,t,a,n){sn?nn?nn.push(n):nn=[n]:sn=n,t=pr(t,"onChange"),0<t.length&&(a=new kl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var mi=null,gi=null;function ep(e){Ph(e,0)}function Al(e){var t=gt(e);if(Iu(t))return e}function gd(e,t){if(e==="change")return t}var pd=!1;if(Na){var xo;if(Na){var _o="oninput"in document;if(!_o){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),_o=typeof vd.oninput=="function"}xo=_o}else xo=!1;pd=xo&&(!document.documentMode||9<document.documentMode)}function bd(){mi&&(mi.detachEvent("onpropertychange",yd),gi=mi=null)}function yd(e){if(e.propertyName==="value"&&Al(gi)){var t=[];md(t,gi,e,uo(e)),ad(ep,t)}}function tp(e,t,a){e==="focusin"?(bd(),mi=t,gi=a,mi.attachEvent("onpropertychange",yd)):e==="focusout"&&bd()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(gi)}function sp(e,t){if(e==="click")return Al(t)}function np(e,t){if(e==="input"||e==="change")return Al(t)}function ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:ip;function pi(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!Zs.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _d(e,t){var a=xd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xd(a)}}function wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_l(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=_l(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lp=Na&&"documentMode"in document&&11>=document.documentMode,rn=null,So=null,vi=null,jo=!1;function jd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jo||rn==null||rn!==_l(n)||(n=rn,"selectionStart"in n&&wo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vi&&pi(vi,n)||(vi=n,n=pr(So,"onSelect"),0<n.length&&(t=new kl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=rn)))}function ks(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var on={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},No={},Nd={};Na&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Es(e){if(No[e])return No[e];if(!on[e])return e;var t=on[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nd)return No[e]=t[a];return e}var kd=Es("animationend"),Ed=Es("animationiteration"),Ad=Es("animationstart"),rp=Es("transitionrun"),op=Es("transitionstart"),cp=Es("transitioncancel"),Td=Es("transitionend"),Od=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function aa(e,t){Od.set(e,t),js(t,[e])}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],cn=0,Eo=0;function Ol(){for(var e=cn,t=Eo=cn=0;t<e;){var a=Jt[t];Jt[t++]=null;var n=Jt[t];Jt[t++]=null;var o=Jt[t];Jt[t++]=null;var c=Jt[t];if(Jt[t++]=null,n!==null&&o!==null){var m=n.pending;m===null?o.next=o:(o.next=m.next,m.next=o),n.pending=o}c!==0&&Cd(a,o,c)}}function Cl(e,t,a,n){Jt[cn++]=e,Jt[cn++]=t,Jt[cn++]=a,Jt[cn++]=n,Eo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ao(e,t,a,n){return Cl(e,t,a,n),Rl(e)}function As(e,t){return Cl(e,null,null,t),Rl(e)}function Cd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-ht(a),e=c.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),c):null}function Rl(e){if(50<Li)throw Li=0,Bc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var un={};function up(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,a,n){return new up(e,t,a,n)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ka(e,t){var a=e.alternate;return a===null?(a=Bt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Rd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,a,n,o,c){var m=0;if(n=e,typeof e=="function")To(e)&&(m=1);else if(typeof e=="string")m=gv(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=Bt(31,a,t,o),e.elementType=Re,e.lanes=c,e;case O:return Ts(a.children,o,c,t);case q:m=8,o|=24;break;case K:return e=Bt(12,a,t,o|2),e.elementType=K,e.lanes=c,e;case ge:return e=Bt(13,a,t,o),e.elementType=ge,e.lanes=c,e;case Z:return e=Bt(19,a,t,o),e.elementType=Z,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:m=10;break e;case U:m=9;break e;case P:m=11;break e;case Q:m=14;break e;case Ae:m=16,n=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Bt(m,a,t,o),t.elementType=e,t.type=n,t.lanes=c,t}function Ts(e,t,a,n){return e=Bt(7,e,n,t),e.lanes=a,e}function Oo(e,t,a){return e=Bt(6,e,null,t),e.lanes=a,e}function zd(e){var t=Bt(18,null,null,0);return t.stateNode=e,t}function Co(e,t,a){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dd=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var a=Dd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Is(t)},Dd.set(e,t),t)}return{value:e,source:t,stack:Is(t)}}var dn=[],fn=0,Dl=null,bi=0,Zt=[],Pt=0,Ja=null,da=1,fa="";function Ea(e,t){dn[fn++]=bi,dn[fn++]=Dl,Dl=e,bi=t}function Ud(e,t,a){Zt[Pt++]=da,Zt[Pt++]=fa,Zt[Pt++]=Ja,Ja=e;var n=da;e=fa;var o=32-ht(n)-1;n&=~(1<<o),a+=1;var c=32-ht(t)+o;if(30<c){var m=o-o%5;c=(n&(1<<m)-1).toString(32),n>>=m,o-=m,da=1<<32-ht(t)+o|a<<o|n,fa=c+e}else da=1<<c|a<<o|n,fa=e}function Ro(e){e.return!==null&&(Ea(e,1),Ud(e,1,0))}function zo(e){for(;e===Dl;)Dl=dn[--fn],dn[fn]=null,bi=dn[--fn],dn[fn]=null;for(;e===Ja;)Ja=Zt[--Pt],Zt[Pt]=null,fa=Zt[--Pt],Zt[Pt]=null,da=Zt[--Pt],Zt[Pt]=null}function Md(e,t){Zt[Pt++]=da,Zt[Pt++]=fa,Zt[Pt++]=Ja,da=t.id,fa=t.overflow,Ja=e}var pt=null,Ge=null,Ee=!1,Ia=null,Wt=!1,Do=Error(r(519));function Za(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yi(It(t,e)),Do}function Bd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Fe]=e,t[mt]=n,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<$i.length;a++)je($i[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),Zu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Wu(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||tm(t.textContent,a)?(n.popover!=null&&(je("beforetoggle",t),je("toggle",t)),n.onScroll!=null&&je("scroll",t),n.onScrollEnd!=null&&je("scrollend",t),n.onClick!=null&&(t.onclick=ja),t=!0):t=!1,t||Za(e,!0)}function qd(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:pt=pt.return}}function hn(e){if(e!==pt)return!1;if(!Ee)return qd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wc(e.type,e.memoizedProps)),a=!a),a&&Ge&&Za(e),qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ge=um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ge=um(e)}else t===27?(t=Ge,us(e.type)?(e=su,su=null,Ge=e):Ge=t):Ge=pt?ea(e.stateNode.nextSibling):null;return!0}function Os(){Ge=pt=null,Ee=!1}function Uo(){var e=Ia;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Ia=null),e}function yi(e){Ia===null?Ia=[e]:Ia.push(e)}var Mo=j(null),Cs=null,Aa=null;function Pa(e,t,a){I(Mo,t._currentValue),t._currentValue=a}function Ta(e){e._currentValue=Mo.current,G(Mo)}function Bo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function qo(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var b=c;c=o;for(var _=0;_<t.length;_++)if(b.context===t[_]){c.lanes|=a,b=c.alternate,b!==null&&(b.lanes|=a),Bo(c.return,a,e),n||(m=null);break e}c=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),Bo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function mn(e,t,a,n){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var b=o.type;Mt(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===ye.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}o=o.return}e!==null&&qo(t,e,a,n),t.flags|=262144}function Ul(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){Cs=e,Aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Ld(Cs,e)}function Ml(e,t){return Cs===null&&Rs(e),Ld(e,t)}function Ld(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Aa===null){if(e===null)throw Error(r(308));Aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Aa=Aa.next=t;return a}var dp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},fp=i.unstable_scheduleCallback,hp=i.unstable_NormalPriority,et={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lo(){return{controller:new dp,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&fp(hp,function(){e.controller.abort()})}var _i=null,Ho=0,gn=0,pn=null;function mp(e,t){if(_i===null){var a=_i=[];Ho=0,gn=Vc(),pn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ho++,t.then(Hd,Hd),t}function Hd(){if(--Ho===0&&_i!==null){pn!==null&&(pn.status="fulfilled");var e=_i;_i=null,gn=0,pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var $d=M.S;M.S=function(e,t){Nh=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&mp(e,t),$d!==null&&$d(e,t)};var zs=j(null);function $o(){var e=zs.current;return e!==null?e:He.pooledCache}function Bl(e,t){t===null?I(zs,zs.current):I(zs,t.pool)}function Gd(){var e=$o();return e===null?null:{parent:et._currentValue,pool:e}}var vn=Error(r(460)),Go=Error(r(474)),ql=Error(r(542)),Ll={then:function(){}};function Vd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ja,ja),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e;default:if(typeof t.status=="string")t.then(ja,ja);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e}throw Us=t,vn}}function Ds(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,vn):a}}var Us=null;function Kd(){if(Us===null)throw Error(r(459));var e=Us;return Us=null,e}function Qd(e){if(e===vn||e===ql)throw Error(r(483))}var bn=null,wi=0;function Hl(e){var t=wi;return wi+=1,bn===null&&(bn=[]),Yd(bn,e,t)}function Si(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $l(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xd(e){function t(k,S){if(e){var E=k.deletions;E===null?(k.deletions=[S],k.flags|=16):E.push(S)}}function a(k,S){if(!e)return null;for(;S!==null;)t(k,S),S=S.sibling;return null}function n(k){for(var S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function o(k,S){return k=ka(k,S),k.index=0,k.sibling=null,k}function c(k,S,E){return k.index=E,e?(E=k.alternate,E!==null?(E=E.index,E<S?(k.flags|=67108866,S):E):(k.flags|=67108866,S)):(k.flags|=1048576,S)}function m(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,S,E,H){return S===null||S.tag!==6?(S=Oo(E,k.mode,H),S.return=k,S):(S=o(S,E),S.return=k,S)}function _(k,S,E,H){var le=E.type;return le===O?L(k,S,E.props.children,H,E.key):S!==null&&(S.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Ds(le)===S.type)?(S=o(S,E.props),Si(S,E),S.return=k,S):(S=zl(E.type,E.key,E.props,null,k.mode,H),Si(S,E),S.return=k,S)}function A(k,S,E,H){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=Co(E,k.mode,H),S.return=k,S):(S=o(S,E.children||[]),S.return=k,S)}function L(k,S,E,H,le){return S===null||S.tag!==7?(S=Ts(E,k.mode,H,le),S.return=k,S):(S=o(S,E),S.return=k,S)}function $(k,S,E){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Oo(""+S,k.mode,E),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w:return E=zl(S.type,S.key,S.props,null,k.mode,E),Si(E,S),E.return=k,E;case T:return S=Co(S,k.mode,E),S.return=k,S;case Ae:return S=Ds(S),$(k,S,E)}if(ze(S)||Ie(S))return S=Ts(S,k.mode,E,null),S.return=k,S;if(typeof S.then=="function")return $(k,Hl(S),E);if(S.$$typeof===B)return $(k,Ml(k,S),E);$l(k,S)}return null}function C(k,S,E,H){var le=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return le!==null?null:b(k,S,""+E,H);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return E.key===le?_(k,S,E,H):null;case T:return E.key===le?A(k,S,E,H):null;case Ae:return E=Ds(E),C(k,S,E,H)}if(ze(E)||Ie(E))return le!==null?null:L(k,S,E,H,null);if(typeof E.then=="function")return C(k,S,Hl(E),H);if(E.$$typeof===B)return C(k,S,Ml(k,E),H);$l(k,E)}return null}function z(k,S,E,H,le){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return k=k.get(E)||null,b(S,k,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return k=k.get(H.key===null?E:H.key)||null,_(S,k,H,le);case T:return k=k.get(H.key===null?E:H.key)||null,A(S,k,H,le);case Ae:return H=Ds(H),z(k,S,E,H,le)}if(ze(H)||Ie(H))return k=k.get(E)||null,L(S,k,H,le,null);if(typeof H.then=="function")return z(k,S,E,Hl(H),le);if(H.$$typeof===B)return z(k,S,E,Ml(S,H),le);$l(S,H)}return null}function se(k,S,E,H){for(var le=null,Te=null,ne=S,xe=S=0,ke=null;ne!==null&&xe<E.length;xe++){ne.index>xe?(ke=ne,ne=null):ke=ne.sibling;var Oe=C(k,ne,E[xe],H);if(Oe===null){ne===null&&(ne=ke);break}e&&ne&&Oe.alternate===null&&t(k,ne),S=c(Oe,S,xe),Te===null?le=Oe:Te.sibling=Oe,Te=Oe,ne=ke}if(xe===E.length)return a(k,ne),Ee&&Ea(k,xe),le;if(ne===null){for(;xe<E.length;xe++)ne=$(k,E[xe],H),ne!==null&&(S=c(ne,S,xe),Te===null?le=ne:Te.sibling=ne,Te=ne);return Ee&&Ea(k,xe),le}for(ne=n(ne);xe<E.length;xe++)ke=z(ne,k,xe,E[xe],H),ke!==null&&(e&&ke.alternate!==null&&ne.delete(ke.key===null?xe:ke.key),S=c(ke,S,xe),Te===null?le=ke:Te.sibling=ke,Te=ke);return e&&ne.forEach(function(gs){return t(k,gs)}),Ee&&Ea(k,xe),le}function oe(k,S,E,H){if(E==null)throw Error(r(151));for(var le=null,Te=null,ne=S,xe=S=0,ke=null,Oe=E.next();ne!==null&&!Oe.done;xe++,Oe=E.next()){ne.index>xe?(ke=ne,ne=null):ke=ne.sibling;var gs=C(k,ne,Oe.value,H);if(gs===null){ne===null&&(ne=ke);break}e&&ne&&gs.alternate===null&&t(k,ne),S=c(gs,S,xe),Te===null?le=gs:Te.sibling=gs,Te=gs,ne=ke}if(Oe.done)return a(k,ne),Ee&&Ea(k,xe),le;if(ne===null){for(;!Oe.done;xe++,Oe=E.next())Oe=$(k,Oe.value,H),Oe!==null&&(S=c(Oe,S,xe),Te===null?le=Oe:Te.sibling=Oe,Te=Oe);return Ee&&Ea(k,xe),le}for(ne=n(ne);!Oe.done;xe++,Oe=E.next())Oe=z(ne,k,xe,Oe.value,H),Oe!==null&&(e&&Oe.alternate!==null&&ne.delete(Oe.key===null?xe:Oe.key),S=c(Oe,S,xe),Te===null?le=Oe:Te.sibling=Oe,Te=Oe);return e&&ne.forEach(function(kv){return t(k,kv)}),Ee&&Ea(k,xe),le}function Le(k,S,E,H){if(typeof E=="object"&&E!==null&&E.type===O&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case w:e:{for(var le=E.key;S!==null;){if(S.key===le){if(le=E.type,le===O){if(S.tag===7){a(k,S.sibling),H=o(S,E.props.children),H.return=k,k=H;break e}}else if(S.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ae&&Ds(le)===S.type){a(k,S.sibling),H=o(S,E.props),Si(H,E),H.return=k,k=H;break e}a(k,S);break}else t(k,S);S=S.sibling}E.type===O?(H=Ts(E.props.children,k.mode,H,E.key),H.return=k,k=H):(H=zl(E.type,E.key,E.props,null,k.mode,H),Si(H,E),H.return=k,k=H)}return m(k);case T:e:{for(le=E.key;S!==null;){if(S.key===le)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){a(k,S.sibling),H=o(S,E.children||[]),H.return=k,k=H;break e}else{a(k,S);break}else t(k,S);S=S.sibling}H=Co(E,k.mode,H),H.return=k,k=H}return m(k);case Ae:return E=Ds(E),Le(k,S,E,H)}if(ze(E))return se(k,S,E,H);if(Ie(E)){if(le=Ie(E),typeof le!="function")throw Error(r(150));return E=le.call(E),oe(k,S,E,H)}if(typeof E.then=="function")return Le(k,S,Hl(E),H);if(E.$$typeof===B)return Le(k,S,Ml(k,E),H);$l(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,S!==null&&S.tag===6?(a(k,S.sibling),H=o(S,E),H.return=k,k=H):(a(k,S),H=Oo(E,k.mode,H),H.return=k,k=H),m(k)):a(k,S)}return function(k,S,E,H){try{wi=0;var le=Le(k,S,E,H);return bn=null,le}catch(ne){if(ne===vn||ne===ql)throw ne;var Te=Bt(29,ne,null,k.mode);return Te.lanes=H,Te.return=k,Te}finally{}}}var Ms=Xd(!0),Jd=Xd(!1),Wa=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ce&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=Rl(e),Cd(e,null,a),t}return Cl(e,n,t,a),Rl(e)}function ji(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ml(e,a)}}function Ko(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Qo=!1;function Ni(){if(Qo){var e=pn;if(e!==null)throw e}}function ki(e,t,a,n){Qo=!1;var o=e.updateQueue;Wa=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var _=b,A=_.next;_.next=null,m===null?c=A:m.next=A,m=_;var L=e.alternate;L!==null&&(L=L.updateQueue,b=L.lastBaseUpdate,b!==m&&(b===null?L.firstBaseUpdate=A:b.next=A,L.lastBaseUpdate=_))}if(c!==null){var $=o.baseState;m=0,L=A=_=null,b=c;do{var C=b.lane&-536870913,z=C!==b.lane;if(z?(Ne&C)===C:(n&C)===C){C!==0&&C===gn&&(Qo=!0),L!==null&&(L=L.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=e,oe=b;C=t;var Le=a;switch(oe.tag){case 1:if(se=oe.payload,typeof se=="function"){$=se.call(Le,$,C);break e}$=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,C=typeof se=="function"?se.call(Le,$,C):se,C==null)break e;$=x({},$,C);break e;case 2:Wa=!0}}C=b.callback,C!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[C]:z.push(C))}else z={lane:C,tag:b.tag,payload:b.payload,callback:b.callback,next:null},L===null?(A=L=z,_=$):L=L.next=z,m|=C;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;z=b,b=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);L===null&&(_=$),o.baseState=_,o.firstBaseUpdate=A,o.lastBaseUpdate=L,c===null&&(o.shared.lanes=0),is|=m,e.lanes=m,e.memoizedState=$}}function Id(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Id(a[e],t)}var yn=j(null),Gl=j(0);function Pd(e,t){e=qa,I(Gl,e),I(yn,t),qa=e|t.baseLanes}function Xo(){I(Gl,qa),I(yn,yn.current)}function Jo(){qa=Gl.current,G(yn),G(Gl)}var qt=j(null),Ft=null;function ts(e){var t=e.alternate;I(Pe,Pe.current&1),I(qt,e),Ft===null&&(t===null||yn.current!==null||t.memoizedState!==null)&&(Ft=e)}function Io(e){I(Pe,Pe.current),I(qt,e),Ft===null&&(Ft=e)}function Wd(e){e.tag===22?(I(Pe,Pe.current),I(qt,e),Ft===null&&(Ft=e)):as()}function as(){I(Pe,Pe.current),I(qt,qt.current)}function Lt(e){G(qt),Ft===e&&(Ft=null),G(Pe)}var Pe=j(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tu(a)||au(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=0,be=null,Be=null,tt=null,Yl=!1,xn=!1,Bs=!1,Kl=0,Ei=0,_n=null,pp=0;function Xe(){throw Error(r(321))}function Zo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function Po(e,t,a,n,o,c){return Oa=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Mf:fc,Bs=!1,c=a(n,o),Bs=!1,xn&&(c=ef(t,a,n,o)),Fd(e),c}function Fd(e){M.H=Oi;var t=Be!==null&&Be.next!==null;if(Oa=0,tt=Be=be=null,Yl=!1,Ei=0,_n=null,t)throw Error(r(300));e===null||at||(e=e.dependencies,e!==null&&Ul(e)&&(at=!0))}function ef(e,t,a,n){be=e;var o=0;do{if(xn&&(_n=null),Ei=0,xn=!1,25<=o)throw Error(r(301));if(o+=1,tt=Be=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=Bf,c=t(a,n)}while(xn);return c}function vp(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(be.flags|=1024),t}function Wo(){var e=Kl!==0;return Kl=0,e}function Fo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ec(e){if(Yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yl=!1}Oa=0,tt=Be=be=null,xn=!1,Ei=Kl=0,_n=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?be.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Be===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=tt===null?be.memoizedState:tt.next;if(t!==null)tt=t,Be=e;else{if(e===null)throw be.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?be.memoizedState=tt=e:tt=tt.next=e}return tt}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ei;return Ei+=1,_n===null&&(_n=[]),e=Yd(_n,e,t),t=be,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Mf:fc),e}function Xl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===B)return vt(e)}throw Error(r(438,String(e)))}function tc(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=be.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ql(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=rt;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=We();return ac(t,Be,e)}function ac(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var o=e.baseQueue,c=n.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,n.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var b=m=null,_=null,A=t,L=!1;do{var $=A.lane&-536870913;if($!==A.lane?(Ne&$)===$:(Oa&$)===$){var C=A.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),$===gn&&(L=!0);else if((Oa&C)===C){A=A.next,C===gn&&(L=!0);continue}else $={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(b=_=$,m=c):_=_.next=$,be.lanes|=C,is|=C;$=A.action,Bs&&a(c,$),c=A.hasEagerState?A.eagerState:a(c,$)}else C={lane:$,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(b=_=C,m=c):_=_.next=C,be.lanes|=$,is|=$;A=A.next}while(A!==null&&A!==t);if(_===null?m=c:_.next=b,!Mt(c,e.memoizedState)&&(at=!0,L&&(a=pn,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=_,n.lastRenderedState=c}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function sc(e){var t=We(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);Mt(c,t.memoizedState)||(at=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function tf(e,t,a){var n=be,o=We(),c=Ee;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Mt((Be||o).memoizedState,a);if(m&&(o.memoizedState=a,at=!0),o=o.queue,lc(nf.bind(null,n,o,e),[e]),o.getSnapshot!==t||m||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,wn(9,{destroy:void 0},sf.bind(null,n,o,a,t),null),He===null)throw Error(r(349));c||(Oa&127)!==0||af(n,t,a)}return a}function af(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=Ql(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sf(e,t,a,n){t.value=a,t.getSnapshot=n,lf(t)&&rf(e)}function nf(e,t,a){return a(function(){lf(t)&&rf(e)})}function lf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function rf(e){var t=As(e,2);t!==null&&Ut(t,e,2)}function nc(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),Bs){de(!0);try{a()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function of(e,t,a,n){return e.baseState=a,ac(e,Be,typeof n=="function"?n:Ca)}function bp(e,t,a,n,o){if(Pl(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};M.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,cf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function cf(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var c=M.T,m={};M.T=m;try{var b=a(o,n),_=M.S;_!==null&&_(m,b),uf(e,t,b)}catch(A){ic(e,t,A)}finally{c!==null&&m.types!==null&&(c.types=m.types),M.T=c}}else try{c=a(o,n),uf(e,t,c)}catch(A){ic(e,t,A)}}function uf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){df(e,t,n)},function(n){return ic(e,t,n)}):df(e,t,a)}function df(e,t,a){t.status="fulfilled",t.value=a,ff(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,cf(e,a)))}function ic(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ff(t),t=t.next;while(t!==n)}e.action=null}function ff(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hf(e,t){return t}function mf(e,t){if(Ee){var a=He.formState;if(a!==null){e:{var n=be;if(Ee){if(Ge){t:{for(var o=Ge,c=Wt;o.nodeType!==8;){if(!c){o=null;break t}if(o=ea(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Ge=ea(o.nextSibling),n=o.data==="F!";break e}}Za(n)}n=!1}n&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:t},a.queue=n,a=zf.bind(null,be,n),n.dispatch=a,n=nc(!1),c=dc.bind(null,be,!1,n.queue),n=Et(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=bp.bind(null,be,o,c,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function gf(e){var t=We();return pf(t,Be,e)}function pf(e,t,a){if(t=ac(e,t,hf)[0],e=Jl(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ai(t)}catch(m){throw m===vn?ql:m}else n=t;t=We();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(be.flags|=2048,wn(9,{destroy:void 0},yp.bind(null,o,a),null)),[n,c,e]}function yp(e,t){e.action=t}function vf(e){var t=We(),a=Be;if(a!==null)return pf(t,a,e);We(),t=t.memoizedState,a=We();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function wn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=be.updateQueue,t===null&&(t=Ql(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function bf(){return We().memoizedState}function Il(e,t,a,n){var o=Et();be.flags|=e,o.memoizedState=wn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Zl(e,t,a,n){var o=We();n=n===void 0?null:n;var c=o.memoizedState.inst;Be!==null&&n!==null&&Zo(n,Be.memoizedState.deps)?o.memoizedState=wn(t,c,a,n):(be.flags|=e,o.memoizedState=wn(1|t,c,a,n))}function yf(e,t){Il(8390656,8,e,t)}function lc(e,t){Zl(2048,8,e,t)}function xp(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Ql(),be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xf(e){var t=We().memoizedState;return xp({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function _f(e,t){return Zl(4,2,e,t)}function wf(e,t){return Zl(4,4,e,t)}function Sf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jf(e,t,a){a=a!=null?a.concat([e]):null,Zl(4,4,Sf.bind(null,t,e),a)}function rc(){}function Nf(e,t){var a=We();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Zo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function kf(e,t){var a=We();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Zo(t,n[1]))return n[0];if(n=e(),Bs){de(!0);try{e()}finally{de(!1)}}return a.memoizedState=[n,t],n}function oc(e,t,a){return a===void 0||(Oa&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Eh(),be.lanes|=e,is|=e,a)}function Ef(e,t,a,n){return Mt(a,t)?a:yn.current!==null?(e=oc(e,a,n),Mt(e,t)||(at=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(Ne&261930)===0?(at=!0,e.memoizedState=a):(e=Eh(),be.lanes|=e,is|=e,t)}function Af(e,t,a,n,o){var c=X.p;X.p=c!==0&&8>c?c:8;var m=M.T,b={};M.T=b,dc(e,!1,t,a);try{var _=o(),A=M.S;if(A!==null&&A(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=gp(_,n);Ti(e,t,L,Gt(e))}else Ti(e,t,n,Gt(e))}catch($){Ti(e,t,{then:function(){},status:"rejected",reason:$},Gt())}finally{X.p=c,m!==null&&b.types!==null&&(m.types=b.types),M.T=m}}function _p(){}function cc(e,t,a,n){if(e.tag!==5)throw Error(r(476));var o=Tf(e).queue;Af(e,o,t,V,a===null?_p:function(){return Of(e),a(n)})}function Tf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:V},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Of(e){var t=Tf(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},Gt())}function uc(){return vt(Qi)}function Cf(){return We().memoizedState}function Rf(){return We().memoizedState}function wp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Gt();e=Fa(a);var n=es(t,e,a);n!==null&&(Ut(n,t,a),ji(n,t,a)),t={cache:Lo()},e.payload=t;return}t=t.return}}function Sp(e,t,a){var n=Gt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pl(e)?Df(t,a):(a=Ao(e,t,a,n),a!==null&&(Ut(a,e,n),Uf(a,t,n)))}function zf(e,t,a){var n=Gt();Ti(e,t,a,n)}function Ti(e,t,a,n){var o={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pl(e))Df(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,b=c(m,a);if(o.hasEagerState=!0,o.eagerState=b,Mt(b,m))return Cl(e,t,o,0),He===null&&Ol(),!1}catch{}finally{}if(a=Ao(e,t,o,n),a!==null)return Ut(a,e,n),Uf(a,t,n),!0}return!1}function dc(e,t,a,n){if(n={lane:2,revertLane:Vc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pl(e)){if(t)throw Error(r(479))}else t=Ao(e,a,n,2),t!==null&&Ut(t,e,2)}function Pl(e){var t=e.alternate;return e===be||t!==null&&t===be}function Df(e,t){xn=Yl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Uf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ml(e,a)}}var Oi={readContext:vt,use:Xl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Oi.useEffectEvent=Xe;var Mf={readContext:vt,use:Xl,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:yf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Il(4194308,4,Sf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){Il(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var n=e();if(Bs){de(!0);try{e()}finally{de(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Et();if(a!==void 0){var o=a(t);if(Bs){de(!0);try{a(t)}finally{de(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=Sp.bind(null,be,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=nc(e);var t=e.queue,a=zf.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:rc,useDeferredValue:function(e,t){var a=Et();return oc(a,e,t)},useTransition:function(){var e=nc(!1);return e=Af.bind(null,be,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=be,o=Et();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),He===null)throw Error(r(349));(Ne&127)!==0||af(n,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,yf(nf.bind(null,n,c,e),[e]),n.flags|=2048,wn(9,{destroy:void 0},sf.bind(null,n,c,a,t),null),a},useId:function(){var e=Et(),t=He.identifierPrefix;if(Ee){var a=fa,n=da;a=(n&~(1<<32-ht(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Kl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=pp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uc,useFormState:mf,useActionState:mf,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=dc.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:tc,useCacheRefresh:function(){return Et().memoizedState=wp.bind(null,be)},useEffectEvent:function(e){var t=Et(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},fc={readContext:vt,use:Xl,useCallback:Nf,useContext:vt,useEffect:lc,useImperativeHandle:jf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:kf,useReducer:Jl,useRef:bf,useState:function(){return Jl(Ca)},useDebugValue:rc,useDeferredValue:function(e,t){var a=We();return Ef(a,Be.memoizedState,e,t)},useTransition:function(){var e=Jl(Ca)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:tf,useId:Cf,useHostTransitionStatus:uc,useFormState:gf,useActionState:gf,useOptimistic:function(e,t){var a=We();return of(a,Be,e,t)},useMemoCache:tc,useCacheRefresh:Rf};fc.useEffectEvent=xf;var Bf={readContext:vt,use:Xl,useCallback:Nf,useContext:vt,useEffect:lc,useImperativeHandle:jf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:kf,useReducer:sc,useRef:bf,useState:function(){return sc(Ca)},useDebugValue:rc,useDeferredValue:function(e,t){var a=We();return Be===null?oc(a,e,t):Ef(a,Be.memoizedState,e,t)},useTransition:function(){var e=sc(Ca)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:tf,useId:Cf,useHostTransitionStatus:uc,useFormState:vf,useActionState:vf,useOptimistic:function(e,t){var a=We();return Be!==null?of(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:tc,useCacheRefresh:Rf};Bf.useEffectEvent=xf;function hc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Gt(),o=Fa(n);o.payload=t,a!=null&&(o.callback=a),t=es(e,o,n),t!==null&&(Ut(t,e,n),ji(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Gt(),o=Fa(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=es(e,o,n),t!==null&&(Ut(t,e,n),ji(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Gt(),n=Fa(a);n.tag=2,t!=null&&(n.callback=t),t=es(e,n,a),t!==null&&(Ut(t,e,a),ji(t,e,a))}};function qf(e,t,a,n,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,m):t.prototype&&t.prototype.isPureReactComponent?!pi(a,n)||!pi(o,c):!0}function Lf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function qs(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Hf(e){Tl(e)}function $f(e){console.error(e)}function Gf(e){Tl(e)}function Wl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Vf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function gc(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Wl(e,t)},a}function Yf(e){return e=Fa(e),e.tag=3,e}function Kf(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=n.value;e.payload=function(){return o(c)},e.callback=function(){Vf(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Vf(t,a,n),typeof o!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})})}function jp(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&mn(t,a,o,!0),a=qt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?ur():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===Ll?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Hc(e,n,o)),!1;case 22:return a.flags|=65536,n===Ll?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Hc(e,n,o)),!1}throw Error(r(435,a.tag))}return Hc(e,n,o),ur(),!1}if(Ee)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==Do&&(e=Error(r(422),{cause:n}),yi(It(e,a)))):(n!==Do&&(t=Error(r(423),{cause:n}),yi(It(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=It(n,a),o=gc(e.stateNode,n,o),Ko(e,o),Je!==4&&(Je=2)),!1;var c=Error(r(520),{cause:n});if(c=It(c,a),qi===null?qi=[c]:qi.push(c),Je!==4&&(Je=2),t===null)return!0;n=It(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=gc(a.stateNode,n,e),Ko(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ls===null||!ls.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Yf(o),Kf(o,e,a,n),Ko(a,o),!1}a=a.return}while(a!==null);return!1}var pc=Error(r(461)),at=!1;function bt(e,t,a,n){t.child=e===null?Jd(t,null,a,n):Ms(t,e.child,a,n)}function Qf(e,t,a,n,o){a=a.render;var c=t.ref;if("ref"in n){var m={};for(var b in n)b!=="ref"&&(m[b]=n[b])}else m=n;return Rs(t),n=Po(e,t,a,m,c,o),b=Wo(),e!==null&&!at?(Fo(e,t,o),Ra(e,t,o)):(Ee&&b&&Ro(t),t.flags|=1,bt(e,t,n,o),t.child)}function Xf(e,t,a,n,o){if(e===null){var c=a.type;return typeof c=="function"&&!To(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Jf(e,t,c,n,o)):(e=zl(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!jc(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:pi,a(m,n)&&e.ref===t.ref)return Ra(e,t,o)}return t.flags|=1,e=ka(c,n),e.ref=t.ref,e.return=t,t.child=e}function Jf(e,t,a,n,o){if(e!==null){var c=e.memoizedProps;if(pi(c,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=c,jc(e,o))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Ra(e,t,o)}return vc(e,t,a,n,o)}function If(e,t,a,n){var o=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(n=t.child=e.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;n=o&~c}else n=0,t.child=null;return Zf(e,t,c,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(t,c!==null?c.cachePool:null),c!==null?Pd(t,c):Xo(),Wd(t);else return n=t.lanes=536870912,Zf(e,t,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(Bl(t,c.cachePool),Pd(t,c),as(),t.memoizedState=null):(e!==null&&Bl(t,null),Xo(),as());return bt(e,t,o,a),t.child}function Ci(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zf(e,t,a,n,o){var c=$o();return c=c===null?null:{parent:et._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Bl(t,null),Xo(),Wd(t),e!==null&&mn(e,t,n,!0),t.childLanes=o,null}function Fl(e,t){return t=tr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pf(e,t,a){return Ms(t,e.child,null,a),e=Fl(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function Np(e,t,a){var n=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(n.mode==="hidden")return e=Fl(t,n),t.lanes=536870912,Ci(null,e);if(Io(t),(e=Ge)?(e=cm(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,pt=t,Ge=null)):e=null,e===null)throw Za(t);return t.lanes=536870912,null}return Fl(t,n)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(Io(t),o)if(t.flags&256)t.flags&=-257,t=Pf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(at||mn(e,t,a,!1),o=(a&e.childLanes)!==0,at||o){if(n=He,n!==null&&(m=gl(n,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,As(e,m),Ut(n,e,m),pc;ur(),t=Pf(e,t,a)}else e=c.treeContext,Ge=ea(m.nextSibling),pt=t,Ee=!0,Ia=null,Wt=!1,e!==null&&Md(t,e),t=Fl(t,n),t.flags|=4096;return t}return e=ka(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function er(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vc(e,t,a,n,o){return Rs(t),a=Po(e,t,a,n,void 0,o),n=Wo(),e!==null&&!at?(Fo(e,t,o),Ra(e,t,o)):(Ee&&n&&Ro(t),t.flags|=1,bt(e,t,a,o),t.child)}function Wf(e,t,a,n,o,c){return Rs(t),t.updateQueue=null,a=ef(t,n,a,o),Fd(e),n=Wo(),e!==null&&!at?(Fo(e,t,c),Ra(e,t,c)):(Ee&&n&&Ro(t),t.flags|=1,bt(e,t,a,c),t.child)}function Ff(e,t,a,n,o){if(Rs(t),t.stateNode===null){var c=un,m=a.contextType;typeof m=="object"&&m!==null&&(c=vt(m)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=mc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},Vo(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?vt(m):un,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(hc(t,a,m,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&mc.enqueueReplaceState(c,c.state,null),ki(t,n,c,o),Ni(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var b=t.memoizedProps,_=qs(a,b);c.props=_;var A=c.context,L=a.contextType;m=un,typeof L=="object"&&L!==null&&(m=vt(L));var $=a.getDerivedStateFromProps;L=typeof $=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||A!==m)&&Lf(t,c,n,m),Wa=!1;var C=t.memoizedState;c.state=C,ki(t,n,c,o),Ni(),A=t.memoizedState,b||C!==A||Wa?(typeof $=="function"&&(hc(t,a,$,n),A=t.memoizedState),(_=Wa||qf(t,a,_,n,C,A,m))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),c.props=n,c.state=A,c.context=m,n=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Yo(e,t),m=t.memoizedProps,L=qs(a,m),c.props=L,$=t.pendingProps,C=c.context,A=a.contextType,_=un,typeof A=="object"&&A!==null&&(_=vt(A)),b=a.getDerivedStateFromProps,(A=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==$||C!==_)&&Lf(t,c,n,_),Wa=!1,C=t.memoizedState,c.state=C,ki(t,n,c,o),Ni();var z=t.memoizedState;m!==$||C!==z||Wa||e!==null&&e.dependencies!==null&&Ul(e.dependencies)?(typeof b=="function"&&(hc(t,a,b,n),z=t.memoizedState),(L=Wa||qf(t,a,L,n,C,z,_)||e!==null&&e.dependencies!==null&&Ul(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,z,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,z,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=z),c.props=n,c.state=z,c.context=_,n=L):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,er(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Ms(t,e.child,null,o),t.child=Ms(t,null,a,o)):bt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Ra(e,t,o),e}function eh(e,t,a,n){return Os(),t.flags|=256,bt(e,t,a,n),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:Gd()}}function xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function th(e,t,a){var n=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?ts(t):as(),(e=Ge)?(e=cm(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,pt=t,Ge=null)):e=null,e===null)throw Za(t);return au(e)?t.lanes=32:t.lanes=536870912,null}var b=n.children;return n=n.fallback,o?(as(),o=t.mode,b=tr({mode:"hidden",children:b},o),n=Ts(n,o,a,null),b.return=t,n.return=t,b.sibling=n,t.child=b,n=t.child,n.memoizedState=yc(a),n.childLanes=xc(e,m,a),t.memoizedState=bc,Ci(null,n)):(ts(t),_c(t,b))}var _=e.memoizedState;if(_!==null&&(b=_.dehydrated,b!==null)){if(c)t.flags&256?(ts(t),t.flags&=-257,t=wc(e,t,a)):t.memoizedState!==null?(as(),t.child=e.child,t.flags|=128,t=null):(as(),b=n.fallback,o=t.mode,n=tr({mode:"visible",children:n.children},o),b=Ts(b,o,a,null),b.flags|=2,n.return=t,b.return=t,n.sibling=b,t.child=n,Ms(t,e.child,null,a),n=t.child,n.memoizedState=yc(a),n.childLanes=xc(e,m,a),t.memoizedState=bc,t=Ci(null,n));else if(ts(t),au(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var A=m.dgst;m=A,n=Error(r(419)),n.stack="",n.digest=m,yi({value:n,source:null,stack:null}),t=wc(e,t,a)}else if(at||mn(e,t,a,!1),m=(a&e.childLanes)!==0,at||m){if(m=He,m!==null&&(n=gl(m,a),n!==0&&n!==_.retryLane))throw _.retryLane=n,As(e,n),Ut(m,e,n),pc;tu(b)||ur(),t=wc(e,t,a)}else tu(b)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ge=ea(b.nextSibling),pt=t,Ee=!0,Ia=null,Wt=!1,e!==null&&Md(t,e),t=_c(t,n.children),t.flags|=4096);return t}return o?(as(),b=n.fallback,o=t.mode,_=e.child,A=_.sibling,n=ka(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,A!==null?b=ka(A,b):(b=Ts(b,o,a,null),b.flags|=2),b.return=t,n.return=t,n.sibling=b,t.child=n,Ci(null,n),n=t.child,b=e.child.memoizedState,b===null?b=yc(a):(o=b.cachePool,o!==null?(_=et._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=Gd(),b={baseLanes:b.baseLanes|a,cachePool:o}),n.memoizedState=b,n.childLanes=xc(e,m,a),t.memoizedState=bc,Ci(e.child,n)):(ts(t),a=e.child,e=a.sibling,a=ka(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function _c(e,t){return t=tr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function tr(e,t){return e=Bt(22,e,null,t),e.lanes=0,e}function wc(e,t,a){return Ms(t,e.child,null,a),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ah(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bo(e.return,t,a)}function Sc(e,t,a,n,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function sh(e,t,a){var n=t.pendingProps,o=n.revealOrder,c=n.tail;n=n.children;var m=Pe.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,I(Pe,m),bt(e,t,n,a),n=Ee?bi:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,a,t);else if(e.tag===19)ah(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Vl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Sc(t,!1,o,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Sc(t,!0,a,null,c,n);break;case"together":Sc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(mn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ka(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ka(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function jc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ul(e)))}function kp(e,t,a){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Pa(t,et,e.memoizedState.cache),Os();break;case 27:case 5:Va(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Io(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ts(t),t.flags|=128,null):(a&t.child.childLanes)!==0?th(e,t,a):(ts(t),e=Ra(e,t,a),e!==null?e.sibling:null);ts(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(mn(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return sh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Pe,Pe.current),n)break;return null;case 22:return t.lanes=0,If(e,t,a,t.pendingProps);case 24:Pa(t,et,e.memoizedState.cache)}return Ra(e,t,a)}function nh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!jc(e,a)&&(t.flags&128)===0)return at=!1,kp(e,t,a);at=(e.flags&131072)!==0}else at=!1,Ee&&(t.flags&1048576)!==0&&Ud(t,bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ds(t.elementType),t.type=e,typeof e=="function")To(e)?(n=qs(e,n),t.tag=1,t=Ff(null,t,e,n,a)):(t.tag=0,t=vc(null,t,e,n,a));else{if(e!=null){var o=e.$$typeof;if(o===P){t.tag=11,t=Qf(null,t,e,n,a);break e}else if(o===Q){t.tag=14,t=Xf(null,t,e,n,a);break e}}throw t=_e(e)||e,Error(r(306,t,""))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=qs(n,t.pendingProps),Ff(e,t,n,o,a);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var c=t.memoizedState;o=c.element,Yo(e,t),ki(t,n,null,a);var m=t.memoizedState;if(n=m.cache,Pa(t,et,n),n!==c.cache&&qo(t,[et],a,!0),Ni(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=eh(e,t,n,a);break e}else if(n!==o){o=It(Error(r(424)),t),yi(o),t=eh(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=ea(e.firstChild),pt=t,Ee=!0,Ia=null,Wt=!0,a=Jd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Os(),n===o){t=Ra(e,t,a);break e}bt(e,t,n,a)}t=t.child}return t;case 26:return er(e,t),e===null?(a=gm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,n=vr(we.current).createElement(a),n[Fe]=t,n[mt]=e,yt(n,a,e),Ze(n),t.stateNode=n):t.memoizedState=gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Va(t),e===null&&Ee&&(n=t.stateNode=fm(t.type,t.pendingProps,we.current),pt=t,Wt=!0,o=Ge,us(t.type)?(su=o,Ge=ea(n.firstChild)):Ge=o),bt(e,t,t.pendingProps.children,a),er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=n=Ge)&&(n=av(n,t.type,t.pendingProps,Wt),n!==null?(t.stateNode=n,pt=t,Ge=ea(n.firstChild),Wt=!1,o=!0):o=!1),o||Za(t)),Va(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,n=c.children,Wc(o,c)?n=null:m!==null&&Wc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Po(e,t,vp,null,null,a),Qi._currentValue=o),er(e,t),bt(e,t,n,a),t.child;case 6:return e===null&&Ee&&((e=a=Ge)&&(a=sv(a,t.pendingProps,Wt),a!==null?(t.stateNode=a,pt=t,Ge=null,e=!0):e=!1),e||Za(t)),null;case 13:return th(e,t,a);case 4:return ot(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,a):bt(e,t,n,a),t.child;case 11:return Qf(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Pa(t,t.type,n.value),bt(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,Rs(t),o=vt(o),n=n(o),t.flags|=1,bt(e,t,n,a),t.child;case 14:return Xf(e,t,t.type,t.pendingProps,a);case 15:return Jf(e,t,t.type,t.pendingProps,a);case 19:return sh(e,t,a);case 31:return Np(e,t,a);case 22:return If(e,t,a,t.pendingProps);case 24:return Rs(t),n=vt(et),e===null?(o=$o(),o===null&&(o=He,c=Lo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:n,cache:o},Vo(t),Pa(t,et,o)):((e.lanes&a)!==0&&(Yo(e,t),ki(t,null,null,a),Ni()),o=e.memoizedState,c=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Pa(t,et,n)):(n=c.cache,Pa(t,et,n),n!==o.cache&&qo(t,[et],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function za(e){e.flags|=4}function Nc(e,t,a,n,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Ch())e.flags|=8192;else throw Us=Ll,Go}else e.flags&=-16777217}function ih(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xm(t))if(Ch())e.flags|=8192;else throw Us=Ll,Go}function ar(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?li():536870912,e.lanes|=t,kn|=t)}function Ri(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ep(e,t,a){var n=t.pendingProps;switch(zo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ta(et),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?za(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Uo())),Ve(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(za(t),c!==null?(Ve(t),ih(t,c)):(Ve(t),Nc(t,o,null,n,a))):c?c!==e.memoizedState?(za(t),Ve(t),ih(t,c)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&za(t),Ve(t),Nc(t,o,e,n,a)),null;case 27:if(Qe(t),a=we.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=te.current,hn(t)?Bd(t):(e=fm(o,n,a),t.stateNode=e,za(t))}return Ve(t),null;case 5:if(Qe(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(c=te.current,hn(t))Bd(t);else{var m=vr(we.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?m.createElement(o,{is:n.is}):m.createElement(o)}}c[Fe]=t,c[mt]=n;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(yt(c,o,n),o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&za(t)}}return Ve(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&za(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=we.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=pt,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||tm(e.nodeValue,a)),e||Za(t,!0)}else e=vr(e).createTextNode(n),e[Fe]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=hn(t),a!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Fe]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ve(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=hn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[Fe]=t}else Os(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==o&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ar(t,t.updateQueue),Ve(t),null);case 4:return Ke(),e===null&&Xc(t.stateNode.containerInfo),Ve(t),null;case 10:return Ta(t.type),Ve(t),null;case 19:if(G(Pe),n=t.memoizedState,n===null)return Ve(t),null;if(o=(t.flags&128)!==0,c=n.rendering,c===null)if(o)Ri(n,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Vl(e),c!==null){for(t.flags|=128,Ri(n,!1),e=c.updateQueue,t.updateQueue=e,ar(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Rd(a,e),a=a.sibling;return I(Pe,Pe.current&1|2),Ee&&Ea(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&St()>rr&&(t.flags|=128,o=!0,Ri(n,!1),t.lanes=4194304)}else{if(!o)if(e=Vl(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ar(t,e),Ri(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!Ee)return Ve(t),null}else 2*St()-n.renderingStartTime>rr&&a!==536870912&&(t.flags|=128,o=!0,Ri(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=St(),e.sibling=null,a=Pe.current,I(Pe,o?a&1|2:a&1),Ee&&Ea(t,n.treeForkCount),e):(Ve(t),null);case 22:case 23:return Lt(t),Jo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&ar(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&G(zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(et),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Ap(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(et),Ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qe(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Pe),null;case 4:return Ke(),null;case 10:return Ta(t.type),null;case 22:case 23:return Lt(t),Jo(),e!==null&&G(zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(et),null;case 25:return null;default:return null}}function lh(e,t){switch(zo(t),t.tag){case 3:Ta(et),Ke();break;case 26:case 27:case 5:Qe(t);break;case 4:Ke();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:G(Pe);break;case 10:Ta(t.type);break;case 22:case 23:Lt(t),Jo(),e!==null&&G(zs);break;case 24:Ta(et)}}function zi(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var c=a.create,m=a.inst;n=c(),m.destroy=n}a=a.next}while(a!==o)}}catch(b){Ue(t,t.return,b)}}function ss(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var c=o.next;n=c;do{if((n.tag&e)===e){var m=n.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var _=a,A=b;try{A()}catch(L){Ue(o,_,L)}}}n=n.next}while(n!==c)}}catch(L){Ue(t,t.return,L)}}function rh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Zd(t,a)}catch(n){Ue(e,e.return,n)}}}function oh(e,t,a){a.props=qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ue(e,t,n)}}function Di(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){Ue(e,t,o)}}function ha(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function ch(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function kc(e,t,a){try{var n=e.stateNode;Zp(n,e.type,a,t),n[mt]=t}catch(o){Ue(e,e.return,o)}}function uh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ja));else if(n!==4&&(n===27&&us(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ac(e,t,a),e=e.sibling;e!==null;)Ac(e,t,a),e=e.sibling}function sr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sr(e,t,a),e=e.sibling;e!==null;)sr(e,t,a),e=e.sibling}function dh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);yt(t,n,a),t[Fe]=e,t[mt]=a}catch(c){Ue(e,e.return,c)}}var Da=!1,st=!1,Tc=!1,fh=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Tp(e,t){if(e=e.containerInfo,Zc=jr,e=Sd(e),wo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,b=-1,_=-1,A=0,L=0,$=e,C=null;t:for(;;){for(var z;$!==a||o!==0&&$.nodeType!==3||(b=m+o),$!==c||n!==0&&$.nodeType!==3||(_=m+n),$.nodeType===3&&(m+=$.nodeValue.length),(z=$.firstChild)!==null;)C=$,$=z;for(;;){if($===e)break t;if(C===a&&++A===o&&(b=m),C===c&&++L===n&&(_=m),(z=$.nextSibling)!==null)break;$=C,C=$.parentNode}$=z}a=b===-1||_===-1?null:{start:b,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pc={focusedElem:e,selectionRange:a},jr=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var se=qs(a.type,o);e=n.getSnapshotBeforeUpdate(se,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)eu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function hh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ma(e,a),n&4&&zi(5,a);break;case 1:if(Ma(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ue(a,a.return,m)}else{var o=qs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ue(a,a.return,m)}}n&64&&rh(a),n&512&&Di(a,a.return);break;case 3:if(Ma(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Zd(e,t)}catch(m){Ue(a,a.return,m)}}break;case 27:t===null&&n&4&&dh(a);case 26:case 5:Ma(e,a),t===null&&n&4&&ch(a),n&512&&Di(a,a.return);break;case 12:Ma(e,a);break;case 31:Ma(e,a),n&4&&ph(e,a);break;case 13:Ma(e,a),n&4&&vh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qp.bind(null,a),nv(e,a))));break;case 22:if(n=a.memoizedState!==null||Da,!n){t=t!==null&&t.memoizedState!==null||st,o=Da;var c=st;Da=n,(st=t)&&!c?Ba(e,a,(a.subtreeFlags&8772)!==0):Ma(e,a),Da=o,st=c}break;case 30:break;default:Ma(e,a)}}function mh(e){var t=e.alternate;t!==null&&(e.alternate=null,mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&W(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Ct=!1;function Ua(e,t,a){for(a=a.child;a!==null;)gh(e,t,a),a=a.sibling}function gh(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ya,a)}catch{}switch(a.tag){case 26:st||ha(a,t),Ua(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||ha(a,t);var n=Ye,o=Ct;us(a.type)&&(Ye=a.stateNode,Ct=!1),Ua(e,t,a),Vi(a.stateNode),Ye=n,Ct=o;break;case 5:st||ha(a,t);case 6:if(n=Ye,o=Ct,Ye=null,Ua(e,t,a),Ye=n,Ct=o,Ye!==null)if(Ct)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(c){Ue(a,t,c)}else try{Ye.removeChild(a.stateNode)}catch(c){Ue(a,t,c)}break;case 18:Ye!==null&&(Ct?(e=Ye,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dn(e)):rm(Ye,a.stateNode));break;case 4:n=Ye,o=Ct,Ye=a.stateNode.containerInfo,Ct=!0,Ua(e,t,a),Ye=n,Ct=o;break;case 0:case 11:case 14:case 15:ss(2,a,t),st||ss(4,a,t),Ua(e,t,a);break;case 1:st||(ha(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&oh(a,t,n)),Ua(e,t,a);break;case 21:Ua(e,t,a);break;case 22:st=(n=st)||a.memoizedState!==null,Ua(e,t,a),st=n;break;default:Ua(e,t,a)}}function ph(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dn(e)}catch(a){Ue(t,t.return,a)}}}function vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dn(e)}catch(a){Ue(t,t.return,a)}}function Op(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fh),t;default:throw Error(r(435,e.tag))}}function nr(e,t){var a=Op(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var o=Lp.bind(null,e,n);n.then(o,o)}})}function Rt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],c=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(us(b.type)){Ye=b.stateNode,Ct=!1;break e}break;case 5:Ye=b.stateNode,Ct=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,Ct=!0;break e}b=b.return}if(Ye===null)throw Error(r(160));gh(c,m,o),Ye=null,Ct=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}var sa=null;function bh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),zt(e),n&4&&(ss(3,e,e.return),zi(3,e),ss(5,e,e.return));break;case 1:Rt(t,e),zt(e),n&512&&(st||a===null||ha(a,a.return)),n&64&&Da&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=sa;if(Rt(t,e),zt(e),n&512&&(st||a===null||ha(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Y]||c[Fe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(n),o.head.insertBefore(c,o.querySelector("head > title"))),yt(c,n,a),c[Fe]=e,Ze(c),n=c;break e;case"link":var m=bm("link","href",o).get(n+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(c=m[b],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}c=o.createElement(n),yt(c,n,a),o.head.appendChild(c);break;case"meta":if(m=bm("meta","content",o).get(n+(a.content||""))){for(b=0;b<m.length;b++)if(c=m[b],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}c=o.createElement(n),yt(c,n,a),o.head.appendChild(c);break;default:throw Error(r(468,n))}c[Fe]=e,Ze(c),n=c}e.stateNode=n}else ym(o,e.type,e.stateNode);else e.stateNode=vm(o,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?ym(o,e.type,e.stateNode):vm(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&kc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rt(t,e),zt(e),n&512&&(st||a===null||ha(a,a.return)),a!==null&&n&4&&kc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rt(t,e),zt(e),n&512&&(st||a===null||ha(a,a.return)),e.flags&32){o=e.stateNode;try{an(o,"")}catch(se){Ue(e,e.return,se)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,kc(e,o,a!==null?a.memoizedProps:o)),n&1024&&(Tc=!0);break;case 6:if(Rt(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(se){Ue(e,e.return,se)}}break;case 3:if(xr=null,o=sa,sa=br(t.containerInfo),Rt(t,e),sa=o,zt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(se){Ue(e,e.return,se)}Tc&&(Tc=!1,yh(e));break;case 4:n=sa,sa=br(e.stateNode.containerInfo),Rt(t,e),zt(e),sa=n;break;case 12:Rt(t,e),zt(e);break;case 31:Rt(t,e),zt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,nr(e,n)));break;case 13:Rt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lr=St()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,nr(e,n)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,A=Da,L=st;if(Da=A||o,st=L||_,Rt(t,e),st=L,Da=A,zt(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||Da||st||Ls(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=_.stateNode;var $=_.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(se){Ue(_,_.return,se)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(se){Ue(_,_.return,se)}}}else if(t.tag===18){if(a===null){_=t;try{var z=_.stateNode;o?om(z,!0):om(_.stateNode,!1)}catch(se){Ue(_,_.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,nr(e,a))));break;case 19:Rt(t,e),zt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,nr(e,n)));break;case 30:break;case 21:break;default:Rt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(uh(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,c=Ec(e);sr(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(an(m,""),a.flags&=-33);var b=Ec(e);sr(e,b,m);break;case 3:case 4:var _=a.stateNode.containerInfo,A=Ec(e);Ac(e,A,_);break;default:throw Error(r(161))}}catch(L){Ue(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hh(e,t.alternate,t),t=t.sibling}function Ls(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ss(4,t,t.return),Ls(t);break;case 1:ha(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&oh(t,t.return,a),Ls(t);break;case 27:Vi(t.stateNode);case 26:case 5:ha(t,t.return),Ls(t);break;case 22:t.memoizedState===null&&Ls(t);break;case 30:Ls(t);break;default:Ls(t)}e=e.sibling}}function Ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Ba(o,c,a),zi(4,c);break;case 1:if(Ba(o,c,a),n=c,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ue(n,n.return,A)}if(n=c,o=n.updateQueue,o!==null){var b=n.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Id(_[o],b)}catch(A){Ue(n,n.return,A)}}a&&m&64&&rh(c),Di(c,c.return);break;case 27:dh(c);case 26:case 5:Ba(o,c,a),a&&n===null&&m&4&&ch(c),Di(c,c.return);break;case 12:Ba(o,c,a);break;case 31:Ba(o,c,a),a&&m&4&&ph(o,c);break;case 13:Ba(o,c,a),a&&m&4&&vh(o,c);break;case 22:c.memoizedState===null&&Ba(o,c,a),Di(c,c.return);break;case 30:break;default:Ba(o,c,a)}t=t.sibling}}function Oc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xi(a))}function Cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e))}function na(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xh(e,t,a,n),t=t.sibling}function xh(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:na(e,t,a,n),o&2048&&zi(9,t);break;case 1:na(e,t,a,n);break;case 3:na(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e)));break;case 12:if(o&2048){na(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,b=c.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ue(t,t.return,_)}}else na(e,t,a,n);break;case 31:na(e,t,a,n);break;case 13:na(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?na(e,t,a,n):Ui(e,t):c._visibility&2?na(e,t,a,n):(c._visibility|=2,Sn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Oc(m,t);break;case 24:na(e,t,a,n),o&2048&&Cc(t.alternate,t);break;default:na(e,t,a,n)}}function Sn(e,t,a,n,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,b=a,_=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:Sn(c,m,b,_,o),zi(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Sn(c,m,b,_,o):Ui(c,m):(L._visibility|=2,Sn(c,m,b,_,o)),o&&A&2048&&Oc(m.alternate,m);break;case 24:Sn(c,m,b,_,o),o&&A&2048&&Cc(m.alternate,m);break;default:Sn(c,m,b,_,o)}t=t.sibling}}function Ui(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:Ui(a,n),o&2048&&Oc(n.alternate,n);break;case 24:Ui(a,n),o&2048&&Cc(n.alternate,n);break;default:Ui(a,n)}t=t.sibling}}var Mi=8192;function jn(e,t,a){if(e.subtreeFlags&Mi)for(e=e.child;e!==null;)_h(e,t,a),e=e.sibling}function _h(e,t,a){switch(e.tag){case 26:jn(e,t,a),e.flags&Mi&&e.memoizedState!==null&&pv(a,sa,e.memoizedState,e.memoizedProps);break;case 5:jn(e,t,a);break;case 3:case 4:var n=sa;sa=br(e.stateNode.containerInfo),jn(e,t,a),sa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Mi,Mi=16777216,jn(e,t,a),Mi=n):jn(e,t,a));break;default:jn(e,t,a)}}function wh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ct=n,jh(n,e)}wh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sh(e),e=e.sibling}function Sh(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ir(e)):Bi(e);break;default:Bi(e)}}function ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ct=n,jh(n,e)}wh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ss(8,t,t.return),ir(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ir(t));break;default:ir(t)}e=e.sibling}}function jh(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:ss(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:xi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ct=n;else e:for(a=e;ct!==null;){n=ct;var o=n.sibling,c=n.return;if(mh(n),n===a){ct=null;break e}if(o!==null){o.return=c,ct=o;break e}ct=c}}}var Cp={getCacheForType:function(e){var t=vt(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(et).controller.signal}},Rp=typeof WeakMap=="function"?WeakMap:Map,Ce=0,He=null,Se=null,Ne=0,De=0,Ht=null,ns=!1,Nn=!1,Rc=!1,qa=0,Je=0,is=0,Hs=0,zc=0,$t=0,kn=0,qi=null,Dt=null,Dc=!1,lr=0,Nh=0,rr=1/0,or=null,ls=null,it=0,rs=null,En=null,La=0,Uc=0,Mc=null,kh=null,Li=0,Bc=null;function Gt(){return(Ce&2)!==0&&Ne!==0?Ne&-Ne:M.T!==null?Vc():pl()}function Eh(){if($t===0)if((Ne&536870912)===0||Ee){var e=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),$t=e}else $t=536870912;return e=qt.current,e!==null&&(e.flags|=32),$t}function Ut(e,t,a){(e===He&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(An(e,0),os(e,Ne,$t,!1)),_s(e,a),((Ce&2)===0||e!==He)&&(e===He&&((Ce&2)===0&&(Hs|=a),Je===4&&os(e,Ne,$t,!1)),ma(e))}function Ah(e,t,a){if((Ce&6)!==0)throw Error(r(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Qa(e,t),o=n?Up(e,t):Lc(e,t,!0),c=n;do{if(o===0){Nn&&!n&&os(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!zp(a)){o=Lc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=qi;var _=b.current.memoizedState.isDehydrated;if(_&&(An(b,m).flags|=256),m=Lc(b,m,!1),m!==2){if(Rc&&!_){b.errorRecoveryDisabledLanes|=c,Hs|=c,o=4;break e}c=Dt,Dt=o,c!==null&&(Dt===null?Dt=c:Dt.push.apply(Dt,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){An(e,0),os(e,t,0,!0);break}e:{switch(n=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:os(n,t,$t,!ns);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=lr+300-St(),10<o)){if(os(n,t,$t,!ns),Fs(n,0,!0)!==0)break e;La=t,n.timeoutHandle=im(Th.bind(null,n,a,Dt,or,Dc,t,$t,Hs,kn,ns,c,"Throttled",-0,0),o);break e}Th(n,a,Dt,or,Dc,t,$t,Hs,kn,ns,c,null,-0,0)}}break}while(!0);ma(e)}function Th(e,t,a,n,o,c,m,b,_,A,L,$,C,z){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},_h(t,c,$);var se=(c&62914560)===c?lr-St():(c&4194048)===c?Nh-St():0;if(se=vv($,se),se!==null){La=c,e.cancelPendingCommit=se(Bh.bind(null,e,t,c,a,n,o,m,b,_,L,$,null,C,z)),os(e,c,m,!A);return}}Bh(e,t,c,a,n,o,m,b,_)}function zp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],c=o.getSnapshot;o=o.value;try{if(!Mt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t,a,n){t&=~zc,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var c=31-ht(o),m=1<<c;n[c]=-1,o&=~m}a!==0&&hl(e,a,t)}function cr(){return(Ce&6)===0?(Hi(0),!1):!0}function qc(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,Aa=Cs=null,ec(e),bn=null,wi=0,e=Se;for(;e!==null;)lh(e.alternate,e),e=e.return;Se=null}}function An(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),La=0,qc(),He=e,Se=a=ka(e.current,null),Ne=t,De=0,Ht=null,ns=!1,Nn=Qa(e,t),Rc=!1,kn=$t=zc=Hs=is=Je=0,Dt=qi=null,Dc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-ht(n),c=1<<o;t|=e[o],n&=~c}return qa=t,Ol(),a}function Oh(e,t){be=null,M.H=Oi,t===vn||t===ql?(t=Kd(),De=3):t===Go?(t=Kd(),De=4):De=t===pc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,Se===null&&(Je=1,Wl(e,It(t,e.current)))}function Ch(){var e=qt.current;return e===null?!0:(Ne&4194048)===Ne?Ft===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Ft:!1}function Rh(){var e=M.H;return M.H=Oi,e===null?Oi:e}function zh(){var e=M.A;return M.A=Cp,e}function ur(){Je=4,ns||(Ne&4194048)!==Ne&&qt.current!==null||(Nn=!0),(is&134217727)===0&&(Hs&134217727)===0||He===null||os(He,Ne,$t,!1)}function Lc(e,t,a){var n=Ce;Ce|=2;var o=Rh(),c=zh();(He!==e||Ne!==t)&&(or=null,An(e,t)),t=!1;var m=Je;e:do try{if(De!==0&&Se!==null){var b=Se,_=Ht;switch(De){case 8:qc(),m=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var A=De;if(De=0,Ht=null,Tn(e,b,_,A),a&&Nn){m=0;break e}break;default:A=De,De=0,Ht=null,Tn(e,b,_,A)}}Dp(),m=Je;break}catch(L){Oh(e,L)}while(!0);return t&&e.shellSuspendCounter++,Aa=Cs=null,Ce=n,M.H=o,M.A=c,Se===null&&(He=null,Ne=0,Ol()),m}function Dp(){for(;Se!==null;)Dh(Se)}function Up(e,t){var a=Ce;Ce|=2;var n=Rh(),o=zh();He!==e||Ne!==t?(or=null,rr=St()+500,An(e,t)):Nn=Qa(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var c=Ht;t:switch(De){case 1:De=0,Ht=null,Tn(e,t,c,1);break;case 2:case 9:if(Vd(c)){De=0,Ht=null,Uh(t);break}t=function(){De!==2&&De!==9||He!==e||(De=7),ma(e)},c.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Vd(c)?(De=0,Ht=null,Uh(t)):(De=0,Ht=null,Tn(e,t,c,7));break;case 5:var m=null;switch(Se.tag){case 26:m=Se.memoizedState;case 5:case 27:var b=Se;if(m?xm(m):b.stateNode.complete){De=0,Ht=null;var _=b.sibling;if(_!==null)Se=_;else{var A=b.return;A!==null?(Se=A,dr(A)):Se=null}break t}}De=0,Ht=null,Tn(e,t,c,5);break;case 6:De=0,Ht=null,Tn(e,t,c,6);break;case 8:qc(),Je=6;break e;default:throw Error(r(462))}}Mp();break}catch(L){Oh(e,L)}while(!0);return Aa=Cs=null,M.H=n,M.A=o,Ce=a,Se!==null?0:(He=null,Ne=0,Ol(),Je)}function Mp(){for(;Se!==null&&!dl();)Dh(Se)}function Dh(e){var t=nh(e.alternate,e,qa);e.memoizedProps=e.pendingProps,t===null?dr(e):Se=t}function Uh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wf(a,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Wf(a,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:ec(t);default:lh(a,t),t=Se=Rd(t,qa),t=nh(a,t,qa)}e.memoizedProps=e.pendingProps,t===null?dr(e):Se=t}function Tn(e,t,a,n){Aa=Cs=null,ec(t),bn=null,wi=0;var o=t.return;try{if(jp(e,o,t,a,Ne)){Je=1,Wl(e,It(a,e.current)),Se=null;return}}catch(c){if(o!==null)throw Se=o,c;Je=1,Wl(e,It(a,e.current)),Se=null;return}t.flags&32768?(Ee||n===1?e=!0:Nn||(Ne&536870912)!==0?e=!1:(ns=e=!0,(n===2||n===9||n===3||n===6)&&(n=qt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Mh(t,e)):dr(t)}function dr(e){var t=e;do{if((t.flags&32768)!==0){Mh(t,ns);return}e=t.return;var a=Ep(t.alternate,t,qa);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Je===0&&(Je=5)}function Mh(e,t){do{var a=Ap(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Je=6,Se=null}function Bh(e,t,a,n,o,c,m,b,_){e.cancelPendingCommit=null;do fr();while(it!==0);if((Ce&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Eo,so(e,a,c,m,b,_),e===He&&(Se=He=null,Ne=0),En=t,rs=e,La=a,Uc=c,Mc=o,kh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hp(Ya,function(){return Gh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,o=X.p,X.p=2,m=Ce,Ce|=4;try{Tp(e,t,a)}finally{Ce=m,X.p=o,M.T=n}}it=1,qh(),Lh(),Hh()}}function qh(){if(it===1){it=0;var e=rs,t=En,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var n=X.p;X.p=2;var o=Ce;Ce|=4;try{bh(t,e);var c=Pc,m=Sd(e.containerInfo),b=c.focusedElem,_=c.selectionRange;if(m!==b&&b&&b.ownerDocument&&wd(b.ownerDocument.documentElement,b)){if(_!==null&&wo(b)){var A=_.start,L=_.end;if(L===void 0&&(L=A),"selectionStart"in b)b.selectionStart=A,b.selectionEnd=Math.min(L,b.value.length);else{var $=b.ownerDocument||document,C=$&&$.defaultView||window;if(C.getSelection){var z=C.getSelection(),se=b.textContent.length,oe=Math.min(_.start,se),Le=_.end===void 0?oe:Math.min(_.end,se);!z.extend&&oe>Le&&(m=Le,Le=oe,oe=m);var k=_d(b,oe),S=_d(b,Le);if(k&&S&&(z.rangeCount!==1||z.anchorNode!==k.node||z.anchorOffset!==k.offset||z.focusNode!==S.node||z.focusOffset!==S.offset)){var E=$.createRange();E.setStart(k.node,k.offset),z.removeAllRanges(),oe>Le?(z.addRange(E),z.extend(S.node,S.offset)):(E.setEnd(S.node,S.offset),z.addRange(E))}}}}for($=[],z=b;z=z.parentNode;)z.nodeType===1&&$.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var H=$[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}jr=!!Zc,Pc=Zc=null}finally{Ce=o,X.p=n,M.T=a}}e.current=t,it=2}}function Lh(){if(it===2){it=0;var e=rs,t=En,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var n=X.p;X.p=2;var o=Ce;Ce|=4;try{hh(e,t.alternate,t)}finally{Ce=o,X.p=n,M.T=a}}it=3}}function Hh(){if(it===4||it===3){it=0,ti();var e=rs,t=En,a=La,n=kh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,En=rs=null,$h(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ls=null),ws(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ya,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=M.T,o=X.p,X.p=2,M.T=null;try{for(var c=e.onRecoverableError,m=0;m<n.length;m++){var b=n[m];c(b.value,{componentStack:b.stack})}}finally{M.T=t,X.p=o}}(La&3)!==0&&fr(),ma(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Bc?Li++:(Li=0,Bc=e):Li=0,Hi(0)}}function $h(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xi(t)))}function fr(){return qh(),Lh(),Hh(),Gh()}function Gh(){if(it!==5)return!1;var e=rs,t=Uc;Uc=0;var a=ws(La),n=M.T,o=X.p;try{X.p=32>a?32:a,M.T=null,a=Mc,Mc=null;var c=rs,m=La;if(it=0,En=rs=null,La=0,(Ce&6)!==0)throw Error(r(331));var b=Ce;if(Ce|=4,Sh(c.current),xh(c,c.current,m,a),Ce=b,Hi(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ya,c)}catch{}return!0}finally{X.p=o,M.T=n,$h(e,t)}}function Vh(e,t,a){t=It(a,t),t=gc(e.stateNode,t,2),e=es(e,t,2),e!==null&&(_s(e,2),ma(e))}function Ue(e,t,a){if(e.tag===3)Vh(e,e,a);else for(;t!==null;){if(t.tag===3){Vh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ls===null||!ls.has(n))){e=It(a,e),a=Yf(2),n=es(t,a,2),n!==null&&(Kf(a,n,t,e),_s(n,2),ma(n));break}}t=t.return}}function Hc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Rp;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||(Rc=!0,o.add(a),e=Bp.bind(null,e,t,a),t.then(e,e))}function Bp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(Ne&a)===a&&(Je===4||Je===3&&(Ne&62914560)===Ne&&300>St()-lr?(Ce&2)===0&&An(e,0):zc|=a,kn===Ne&&(kn=0)),ma(e)}function Yh(e,t){t===0&&(t=li()),e=As(e,t),e!==null&&(_s(e,t),ma(e))}function qp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Yh(e,a)}function Lp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Yh(e,a)}function Hp(e,t){return bs(e,t)}var hr=null,On=null,$c=!1,mr=!1,Gc=!1,cs=0;function ma(e){e!==On&&e.next===null&&(On===null?hr=On=e:On=On.next=e),mr=!0,$c||($c=!0,Gp())}function Hi(e,t){if(!Gc&&mr){Gc=!0;do for(var a=!1,n=hr;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var c=0;else{var m=n.suspendedLanes,b=n.pingedLanes;c=(1<<31-ht(42|e)+1)-1,c&=o&~(m&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Jh(n,c))}else c=Ne,c=Fs(n,n===He?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Qa(n,c)||(a=!0,Jh(n,c));n=n.next}while(a);Gc=!1}}function $p(){Kh()}function Kh(){mr=$c=!1;var e=0;cs!==0&&Wp()&&(e=cs);for(var t=St(),a=null,n=hr;n!==null;){var o=n.next,c=Qh(n,t);c===0?(n.next=null,a===null?hr=o:a.next=o,o===null&&(On=a)):(a=n,(e!==0||(c&3)!==0)&&(mr=!0)),n=o}it!==0&&it!==5||Hi(e),cs!==0&&(cs=0)}function Qh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-ht(c),b=1<<m,_=o[m];_===-1?((b&a)===0||(b&n)!==0)&&(o[m]=ao(b,t)):_<=t&&(e.expiredLanes|=b),c&=~b}if(t=He,a=Ne,a=Fs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ys(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ys(n),ws(a)){case 2:case 8:a=ba;break;case 32:a=Ya;break;case 268435456:a=ni;break;default:a=Ya}return n=Xh.bind(null,e),a=bs(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ys(n),e.callbackPriority=2,e.callbackNode=null,2}function Xh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fr()&&e.callbackNode!==a)return null;var n=Ne;return n=Fs(e,e===He?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ah(e,n,t),Qh(e,St()),e.callbackNode!=null&&e.callbackNode===a?Xh.bind(null,e):null)}function Jh(e,t){if(fr())return null;Ah(e,t,!0)}function Gp(){ev(function(){(Ce&6)!==0?bs(ai,$p):Kh()})}function Vc(){if(cs===0){var e=gn;e===0&&(e=Ka,Ka<<=1,(Ka&261888)===0&&(Ka=256)),cs=e}return cs}function Ih(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function Zh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Vp(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var c=Ih((o[mt]||null).action),m=n.submitter;m&&(t=(t=m[mt]||null)?Ih(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var b=new kl("action","action",null,n,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(cs!==0){var _=m?Zh(o,m):new FormData(o);cc(a,{pending:!0,data:_,method:o.method,action:c},null,_)}}else typeof c=="function"&&(b.preventDefault(),_=m?Zh(o,m):new FormData(o),cc(a,{pending:!0,data:_,method:o.method,action:c},c,_))},currentTarget:o}]})}}for(var Yc=0;Yc<ko.length;Yc++){var Kc=ko[Yc],Yp=Kc.toLowerCase(),Kp=Kc[0].toUpperCase()+Kc.slice(1);aa(Yp,"on"+Kp)}aa(kd,"onAnimationEnd"),aa(Ed,"onAnimationIteration"),aa(Ad,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(rp,"onTransitionRun"),aa(op,"onTransitionStart"),aa(cp,"onTransitionCancel"),aa(Td,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function Ph(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var m=n.length-1;0<=m;m--){var b=n[m],_=b.instance,A=b.currentTarget;if(b=b.listener,_!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=A;try{c(o)}catch(L){Tl(L)}o.currentTarget=null,c=_}else for(m=0;m<n.length;m++){if(b=n[m],_=b.instance,A=b.currentTarget,b=b.listener,_!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=A;try{c(o)}catch(L){Tl(L)}o.currentTarget=null,c=_}}}}function je(e,t){var a=t[Kt];a===void 0&&(a=t[Kt]=new Set);var n=e+"__bubble";a.has(n)||(Wh(t,e,2,!1),a.add(n))}function Qc(e,t,a){var n=0;t&&(n|=4),Wh(a,e,n,t)}var gr="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[gr]){e[gr]=!0,Ss.forEach(function(a){a!=="selectionchange"&&(Qp.has(a)||Qc(a,!1,e),Qc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gr]||(t[gr]=!0,Qc("selectionchange",!1,t))}}function Wh(e,t,a,n){switch(Em(t)){case 2:var o=xv;break;case 8:o=_v;break;default:o=ou}a=o.bind(null,t,a,e),o=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Jc(e,t,a,n,o){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var b=n.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=n.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=J(b),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){n=c=m;continue e}b=b.parentNode}}n=n.return}ad(function(){var A=c,L=uo(a),$=[];e:{var C=Od.get(e);if(C!==void 0){var z=kl,se=e;switch(e){case"keypress":if(jl(a)===0)break e;case"keydown":case"keyup":z=Lg;break;case"focusin":se="focus",z=vo;break;case"focusout":se="blur",z=vo;break;case"beforeblur":case"afterblur":z=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Gg;break;case kd:case Ed:case Ad:z=Og;break;case Td:z=Yg;break;case"scroll":case"scrollend":z=Ng;break;case"wheel":z=Qg;break;case"copy":case"cut":case"paste":z=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=rd;break;case"toggle":case"beforetoggle":z=Jg}var oe=(t&4)!==0,Le=!oe&&(e==="scroll"||e==="scrollend"),k=oe?C!==null?C+"Capture":null:C;oe=[];for(var S=A,E;S!==null;){var H=S;if(E=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||E===null||k===null||(H=ci(S,k),H!=null&&oe.push(Gi(S,H,E))),Le)break;S=S.return}0<oe.length&&(C=new z(C,se,null,a,L),$.push({event:C,listeners:oe}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",C&&a!==co&&(se=a.relatedTarget||a.fromElement)&&(J(se)||se[wa]))break e;if((z||C)&&(C=L.window===L?L:(C=L.ownerDocument)?C.defaultView||C.parentWindow:window,z?(se=a.relatedTarget||a.toElement,z=A,se=se?J(se):null,se!==null&&(Le=f(se),oe=se.tag,se!==Le||oe!==5&&oe!==27&&oe!==6)&&(se=null)):(z=null,se=A),z!==se)){if(oe=id,H="onMouseLeave",k="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(oe=rd,H="onPointerLeave",k="onPointerEnter",S="pointer"),Le=z==null?C:gt(z),E=se==null?C:gt(se),C=new oe(H,S+"leave",z,a,L),C.target=Le,C.relatedTarget=E,H=null,J(L)===A&&(oe=new oe(k,S+"enter",se,a,L),oe.target=E,oe.relatedTarget=Le,H=oe),Le=H,z&&se)t:{for(oe=Xp,k=z,S=se,E=0,H=k;H;H=oe(H))E++;H=0;for(var le=S;le;le=oe(le))H++;for(;0<E-H;)k=oe(k),E--;for(;0<H-E;)S=oe(S),H--;for(;E--;){if(k===S||S!==null&&k===S.alternate){oe=k;break t}k=oe(k),S=oe(S)}oe=null}else oe=null;z!==null&&Fh($,C,z,oe,!1),se!==null&&Le!==null&&Fh($,Le,se,oe,!0)}}e:{if(C=A?gt(A):window,z=C.nodeName&&C.nodeName.toLowerCase(),z==="select"||z==="input"&&C.type==="file")var Te=gd;else if(hd(C))if(pd)Te=np;else{Te=ap;var ne=tp}else z=C.nodeName,!z||z.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&oo(A.elementType)&&(Te=gd):Te=sp;if(Te&&(Te=Te(e,A))){md($,Te,a,L);break e}ne&&ne(e,C,A),e==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&ro(C,"number",C.value)}switch(ne=A?gt(A):window,e){case"focusin":(hd(ne)||ne.contentEditable==="true")&&(rn=ne,So=A,vi=null);break;case"focusout":vi=So=rn=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,jd($,a,L);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":jd($,a,L)}var xe;if(yo)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ln?dd(e,a)&&(ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(od&&a.locale!=="ko"&&(ln||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ln&&(xe=sd()):(Xa=L,mo="value"in Xa?Xa.value:Xa.textContent,ln=!0)),ne=pr(A,ke),0<ne.length&&(ke=new ld(ke,e,null,a,L),$.push({event:ke,listeners:ne}),xe?ke.data=xe:(xe=fd(a),xe!==null&&(ke.data=xe)))),(xe=Zg?Pg(e,a):Wg(e,a))&&(ke=pr(A,"onBeforeInput"),0<ke.length&&(ne=new ld("onBeforeInput","beforeinput",null,a,L),$.push({event:ne,listeners:ke}),ne.data=xe)),Vp($,e,A,a,L)}Ph($,t)})}function Gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function pr(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ci(e,a),o!=null&&n.unshift(Gi(e,o,c)),o=ci(e,t),o!=null&&n.push(Gi(e,o,c))),e.tag===3)return n;e=e.return}return[]}function Xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fh(e,t,a,n,o){for(var c=t._reactName,m=[];a!==null&&a!==n;){var b=a,_=b.alternate,A=b.stateNode;if(b=b.tag,_!==null&&_===n)break;b!==5&&b!==26&&b!==27||A===null||(_=A,o?(A=ci(a,c),A!=null&&m.unshift(Gi(a,A,_))):o||(A=ci(a,c),A!=null&&m.push(Gi(a,A,_)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Jp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(Jp,`
`).replace(Ip,"")}function tm(e,t){return t=em(t),em(e)===t}function qe(e,t,a,n,o,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||an(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&an(e,""+n);break;case"className":xl(e,"class",n);break;case"tabIndex":xl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(e,a,n);break;case"style":ed(e,n,c);break;case"data":if(t!=="object"){xl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=wl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=wl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ja);break;case"onScroll":n!=null&&je("scroll",e);break;case"onScrollEnd":n!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=wl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":je("beforetoggle",e),je("toggle",e),yl(e,"popover",n);break;case"xlinkActuate":Sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Sa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Sa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Sa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Sa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":yl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sg.get(a)||a,yl(e,a,n))}}function Ic(e,t,a,n,o,c){switch(a){case"style":ed(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?an(e,n):(typeof n=="number"||typeof n=="bigint")&&an(e,""+n);break;case"onScroll":n!=null&&je("scroll",e);break;case"onScrollEnd":n!=null&&je("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[mt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):yl(e,a,n)}}}function yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var n=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,c,m,a,null)}}o&&qe(e,t,"srcSet",a.srcSet,a,null),n&&qe(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var b=c=m=o=null,_=null,A=null;for(n in a)if(a.hasOwnProperty(n)){var L=a[n];if(L!=null)switch(n){case"name":o=L;break;case"type":m=L;break;case"checked":_=L;break;case"defaultChecked":A=L;break;case"value":c=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:qe(e,t,n,L,a,null)}}Zu(e,c,b,_,A,m,o,!1);return;case"select":je("invalid",e),n=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":c=b;break;case"defaultValue":m=b;break;case"multiple":n=b;default:qe(e,t,o,b,a,null)}t=c,a=m,e.multiple=!!n,t!=null?tn(e,!!n,t,!1):a!=null&&tn(e,!!n,a,!0);return;case"textarea":je("invalid",e),c=o=n=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":n=b;break;case"defaultValue":o=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:qe(e,t,m,b,a,null)}Wu(e,n,o,c);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:qe(e,t,_,n,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(n=0;n<$i.length;n++)je($i[n],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(n=a[A],n!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,A,n,a,null)}return;default:if(oo(t)){for(L in a)a.hasOwnProperty(L)&&(n=a[L],n!==void 0&&Ic(e,t,L,n,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(n=a[b],n!=null&&qe(e,t,b,n,a,null))}function Zp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,b=null,_=null,A=null,L=null;for(z in a){var $=a[z];if(a.hasOwnProperty(z)&&$!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=$;default:n.hasOwnProperty(z)||qe(e,t,z,null,n,$)}}for(var C in n){var z=n[C];if($=a[C],n.hasOwnProperty(C)&&(z!=null||$!=null))switch(C){case"type":c=z;break;case"name":o=z;break;case"checked":A=z;break;case"defaultChecked":L=z;break;case"value":m=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==$&&qe(e,t,C,z,n,$)}}lo(e,m,b,_,A,L,c,o);return;case"select":z=m=b=C=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":z=_;default:n.hasOwnProperty(c)||qe(e,t,c,null,n,_)}for(o in n)if(c=n[o],_=a[o],n.hasOwnProperty(o)&&(c!=null||_!=null))switch(o){case"value":C=c;break;case"defaultValue":b=c;break;case"multiple":m=c;default:c!==_&&qe(e,t,o,c,n,_)}t=b,a=m,n=z,C!=null?tn(e,!!a,C,!1):!!n!=!!a&&(t!=null?tn(e,!!a,t,!0):tn(e,!!a,a?[]:"",!1));return;case"textarea":z=C=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!n.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:qe(e,t,b,null,n,o)}for(m in n)if(o=n[m],c=a[m],n.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":C=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&qe(e,t,m,o,n,c)}Pu(e,C,z);return;case"option":for(var se in a)if(C=a[se],a.hasOwnProperty(se)&&C!=null&&!n.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:qe(e,t,se,null,n,C)}for(_ in n)if(C=n[_],z=a[_],n.hasOwnProperty(_)&&C!==z&&(C!=null||z!=null))switch(_){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:qe(e,t,_,C,n,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)C=a[oe],a.hasOwnProperty(oe)&&C!=null&&!n.hasOwnProperty(oe)&&qe(e,t,oe,null,n,C);for(A in n)if(C=n[A],z=a[A],n.hasOwnProperty(A)&&C!==z&&(C!=null||z!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:qe(e,t,A,C,n,z)}return;default:if(oo(t)){for(var Le in a)C=a[Le],a.hasOwnProperty(Le)&&C!==void 0&&!n.hasOwnProperty(Le)&&Ic(e,t,Le,void 0,n,C);for(L in n)C=n[L],z=a[L],!n.hasOwnProperty(L)||C===z||C===void 0&&z===void 0||Ic(e,t,L,C,n,z);return}}for(var k in a)C=a[k],a.hasOwnProperty(k)&&C!=null&&!n.hasOwnProperty(k)&&qe(e,t,k,null,n,C);for($ in n)C=n[$],z=a[$],!n.hasOwnProperty($)||C===z||C==null&&z==null||qe(e,t,$,C,n,z)}function am(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var o=a[n],c=o.transferSize,m=o.initiatorType,b=o.duration;if(c&&b&&am(m)){for(m=0,b=o.responseEnd,n+=1;n<a.length;n++){var _=a[n],A=_.startTime;if(A>b)break;var L=_.transferSize,$=_.initiatorType;L&&am($)&&(_=_.responseEnd,m+=L*(_<b?1:(b-A)/(_-A)))}if(--n,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zc=null,Pc=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=null;function Wp(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,ev=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(tv)}:im;function tv(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function rm(e,t){var a=t,n=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(o),Dn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vi(a);for(var c=a.firstChild;c;){var m=c.nextSibling,b=c.nodeName;c[Y]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&Vi(e.ownerDocument.body);a=o}while(a);Dn(t)}function om(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":eu(a),W(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function av(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Y])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function sv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ea(e.nextSibling),e===null))return null;return e}function cm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function tu(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var su=null;function um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ea(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function fm(e,t,a){switch(t=vr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);W(e)}var ta=new Map,hm=new Set;function br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ha=X.d;X.d={f:iv,r:lv,D:rv,C:ov,L:cv,m:uv,X:fv,S:dv,M:hv};function iv(){var e=Ha.f(),t=cr();return e||t}function lv(e){var t=ce(e);t!==null&&t.tag===5&&t.type==="form"?Of(t):Ha.r(e)}var Cn=typeof document>"u"?null:document;function mm(e,t,a){var n=Cn;if(n&&typeof t=="string"&&t){var o=Xt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),hm.has(o)||(hm.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),yt(t,"link",e),Ze(t),n.head.appendChild(t)))}}function rv(e){Ha.D(e),mm("dns-prefetch",e,null)}function ov(e,t){Ha.C(e,t),mm("preconnect",e,t)}function cv(e,t,a){Ha.L(e,t,a);var n=Cn;if(n&&e&&t){var o='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Xt(a.imageSizes)+'"]')):o+='[href="'+Xt(e)+'"]';var c=o;switch(t){case"style":c=Rn(e);break;case"script":c=zn(e)}ta.has(c)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ta.set(c,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(Yi(c))||t==="script"&&n.querySelector(Ki(c))||(t=n.createElement("link"),yt(t,"link",e),Ze(t),n.head.appendChild(t)))}}function uv(e,t){Ha.m(e,t);var a=Cn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Xt(n)+'"][href="'+Xt(e)+'"]',c=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=zn(e)}if(!ta.has(c)&&(e=x({rel:"modulepreload",href:e},t),ta.set(c,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ki(c)))return}n=a.createElement("link"),yt(n,"link",e),Ze(n),a.head.appendChild(n)}}}function dv(e,t,a){Ha.S(e,t,a);var n=Cn;if(n&&e){var o=ua(n).hoistableStyles,c=Rn(e);t=t||"default";var m=o.get(c);if(!m){var b={loading:0,preload:null};if(m=n.querySelector(Yi(c)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ta.get(c))&&nu(e,a);var _=m=n.createElement("link");Ze(_),yt(_,"link",e),_._p=new Promise(function(A,L){_.onload=A,_.onerror=L}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,yr(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(c,m)}}}function fv(e,t){Ha.X(e,t);var a=Cn;if(a&&e){var n=ua(a).hoistableScripts,o=zn(e),c=n.get(o);c||(c=a.querySelector(Ki(o)),c||(e=x({src:e,async:!0},t),(t=ta.get(o))&&iu(e,t),c=a.createElement("script"),Ze(c),yt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(o,c))}}function hv(e,t){Ha.M(e,t);var a=Cn;if(a&&e){var n=ua(a).hoistableScripts,o=zn(e),c=n.get(o);c||(c=a.querySelector(Ki(o)),c||(e=x({src:e,async:!0,type:"module"},t),(t=ta.get(o))&&iu(e,t),c=a.createElement("script"),Ze(c),yt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(o,c))}}function gm(e,t,a,n){var o=(o=we.current)?br(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rn(a.href),a=ua(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rn(a.href);var c=ua(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(Yi(e)))&&!c._p&&(m.instance=c,m.state.loading=5),ta.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ta.set(e,a),c||mv(o,e,a,m.state))),t&&n===null)throw Error(r(528,""));return m}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zn(a),a=ua(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rn(e){return'href="'+Xt(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function pm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function mv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),yt(t,"link",a),Ze(t),e.head.appendChild(t))}function zn(e){return'[src="'+Xt(e)+'"]'}function Ki(e){return"script[async]"+e}function vm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(n)return t.instance=n,Ze(n),n;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ze(n),yt(n,"style",o),yr(n,a.precedence,e),t.instance=n;case"stylesheet":o=Rn(a.href);var c=e.querySelector(Yi(o));if(c)return t.state.loading|=4,t.instance=c,Ze(c),c;n=pm(a),(o=ta.get(o))&&nu(n,o),c=(e.ownerDocument||e).createElement("link"),Ze(c);var m=c;return m._p=new Promise(function(b,_){m.onload=b,m.onerror=_}),yt(c,"link",n),t.state.loading|=4,yr(c,a.precedence,e),t.instance=c;case"script":return c=zn(a.src),(o=e.querySelector(Ki(c)))?(t.instance=o,Ze(o),o):(n=a,(o=ta.get(c))&&(n=x({},a),iu(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ze(o),yt(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,yr(n,a.precedence,e));return t.instance}function yr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,c=o,m=0;m<n.length;m++){var b=n[m];if(b.dataset.precedence===t)c=b;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xr=null;function bm(e,t,a){if(xr===null){var n=new Map,o=xr=new Map;o.set(a,n)}else o=xr,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Y]||c[Fe]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var b=n.get(m);b?b.push(c):n.set(m,[c])}}return n}function ym(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Rn(n.href),c=t.querySelector(Yi(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_r.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,Ze(c);return}c=t.ownerDocument||t,n=pm(n),(o=ta.get(o))&&nu(n,o),c=c.createElement("link"),Ze(c);var m=c;m._p=new Promise(function(b,_){m.onload=b,m.onerror=_}),yt(c,"link",n),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_r.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var lu=0;function vv(e,t){return e.stylesheets&&e.count===0&&Sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&lu===0&&(lu=62500*Pp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>lu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(o)}}:null}function _r(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wr=null;function Sr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wr=new Map,t.forEach(bv,e),wr=null,_r.call(e))}function bv(e,t){if(!(t.state.loading&4)){var a=wr.get(e);if(a)var n=a.get(null);else{a=new Map,wr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||n,c===n&&a.set(null,o),a.set(m,o),this.count++,n=_r.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:B,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function yv(e,t,a,n,o,c,m,b,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function _m(e,t,a,n,o,c,m,b,_,A,L,$){return e=new yv(e,t,a,m,_,A,L,$,b),t=1,c===!0&&(t|=24),c=Bt(3,null,null,t),e.current=c,c.stateNode=e,t=Lo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},Vo(c),e}function wm(e){return e?(e=un,e):un}function Sm(e,t,a,n,o,c){o=wm(o),n.context===null?n.context=o:n.pendingContext=o,n=Fa(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=es(e,n,t),a!==null&&(Ut(a,e,t),ji(a,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ru(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=As(e,67108864);t!==null&&Ut(t,e,67108864),ru(e,67108864)}}function km(e){if(e.tag===13||e.tag===31){var t=Gt();t=oi(t);var a=As(e,t);a!==null&&Ut(a,e,t),ru(e,t)}}var jr=!0;function xv(e,t,a,n){var o=M.T;M.T=null;var c=X.p;try{X.p=2,ou(e,t,a,n)}finally{X.p=c,M.T=o}}function _v(e,t,a,n){var o=M.T;M.T=null;var c=X.p;try{X.p=8,ou(e,t,a,n)}finally{X.p=c,M.T=o}}function ou(e,t,a,n){if(jr){var o=cu(n);if(o===null)Jc(e,t,n,Nr,a),Am(e,n);else if(Sv(o,e,t,a,n))n.stopPropagation();else if(Am(e,n),t&4&&-1<wv.indexOf(e)){for(;o!==null;){var c=ce(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=_a(c.pendingLanes);if(m!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var _=1<<31-ht(m);b.entanglements[1]|=_,m&=~_}ma(c),(Ce&6)===0&&(rr=St()+500,Hi(0))}}break;case 31:case 13:b=As(c,2),b!==null&&Ut(b,c,2),cr(),ru(c,2)}if(c=cu(n),c===null&&Jc(e,t,n,Nr,a),c===o)break;o=c}o!==null&&n.stopPropagation()}else Jc(e,t,n,null,a)}}function cu(e){return e=uo(e),uu(e)}var Nr=null;function uu(e){if(Nr=null,e=J(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nr=e,null}function Em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case ai:return 2;case ba:return 8;case Ya:case si:return 32;case ni:return 268435456;default:return 32}default:return 32}}var du=!1,ds=null,fs=null,hs=null,Xi=new Map,Ji=new Map,ms=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function Ii(e,t,a,n,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[o]},t!==null&&(t=ce(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sv(e,t,a,n,o){switch(t){case"focusin":return ds=Ii(ds,e,t,a,n,o),!0;case"dragenter":return fs=Ii(fs,e,t,a,n,o),!0;case"mouseover":return hs=Ii(hs,e,t,a,n,o),!0;case"pointerover":var c=o.pointerId;return Xi.set(c,Ii(Xi.get(c)||null,e,t,a,n,o)),!0;case"gotpointercapture":return c=o.pointerId,Ji.set(c,Ii(Ji.get(c)||null,e,t,a,n,o)),!0}return!1}function Tm(e){var t=J(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,vl(e.priority,function(){km(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,vl(e.priority,function(){km(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);co=n,a.target.dispatchEvent(n),co=null}else return t=ce(a),t!==null&&Nm(t),e.blockedOn=a,!1;t.shift()}return!0}function Om(e,t,a){kr(e)&&a.delete(t)}function jv(){du=!1,ds!==null&&kr(ds)&&(ds=null),fs!==null&&kr(fs)&&(fs=null),hs!==null&&kr(hs)&&(hs=null),Xi.forEach(Om),Ji.forEach(Om)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jv)))}var Ar=null;function Cm(e){Ar!==e&&(Ar=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ar===e&&(Ar=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(uu(n||a)===null)continue;break}var c=ce(a);c!==null&&(e.splice(t,3),t-=3,cc(c,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function Dn(e){function t(_){return Er(_,e)}ds!==null&&Er(ds,e),fs!==null&&Er(fs,e),hs!==null&&Er(hs,e),Xi.forEach(t),Ji.forEach(t);for(var a=0;a<ms.length;a++){var n=ms[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)Tm(a),a.blockedOn===null&&ms.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],c=a[n+1],m=o[mt]||null;if(typeof c=="function")m||Cm(a);else if(m){var b=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[mt]||null)b=m.formAction;else if(uu(o)!==null)continue}else b=m.action;typeof b=="function"?a[n+1]=b:(a.splice(n,3),n-=3),Cm(a)}}}function Rm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function fu(e){this._internalRoot=e}Tr.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Gt();Sm(a,n,e,t,null,null)},Tr.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sm(e.current,2,null,e,null,null),cr(),t[wa]=null}};function Tr(e){this._internalRoot=e}Tr.prototype.unstable_scheduleHydration=function(e){if(e){var t=pl();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ms.length&&t!==0&&t<ms[a].priority;a++);ms.splice(a,0,e),a===0&&Tm(e)}};var zm=s.version;if(zm!=="19.2.4")throw Error(r(527,zm,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Nv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{ya=Or.inject(Nv),ft=Or}catch{}}return Pi.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,n="",o=Hf,c=$f,m=Gf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=_m(e,1,!1,null,null,a,n,null,o,c,m,Rm),e[wa]=t.current,Xc(e),new fu(t)},Pi.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var n=!1,o="",c=Hf,m=$f,b=Gf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=_m(e,1,!0,t,a??null,n,o,_,c,m,b,Rm),t.context=wm(null),a=t.current,n=Gt(),n=oi(n),o=Fa(n),o.callback=null,es(a,o,n),a=n,t.current.lanes=a,_s(t,a),ma(t),e[wa]=t.current,Xc(e),new Tr(t)},Pi.version="19.2.4",Pi}var Vm;function Bv(){if(Vm)return gu.exports;Vm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),gu.exports=Mv(),gu.exports}var qv=Bv();const Lv=Bu(qv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=(...i)=>i.filter((s,l,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===l).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,l,r)=>r?r.toUpperCase():l.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=i=>{const s=$v(i);return s.charAt(0).toUpperCase()+s.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=i=>{for(const s in i)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=D.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:u="",children:f,iconNode:h,...g},v)=>D.createElement("svg",{ref:v,...Gv,width:s,height:s,stroke:i,strokeWidth:r?Number(l)*24/Number(s):l,className:q0("lucide",u),...!f&&!Vv(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,y])=>D.createElement(p,y)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(i,s)=>{const l=D.forwardRef(({className:r,...u},f)=>D.createElement(Yv,{ref:f,iconNode:s,className:q0(`lucide-${Hv(Ym(i))}`,`lucide-${i}`,r),...u}));return l.displayName=Ym(i),l};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cr=me("arrow-left",Kv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xv=me("arrow-right",Qv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hr=me("bell",Jv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],L0=me("calendar",Iv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pv=me("check",Zv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],el=me("circle-alert",Wv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pn=me("circle-check",Fv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Jn=me("circle-plus",eb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H0=me("circle-x",tb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lu=me("clock",ab);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nb=me("ellipsis-vertical",sb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$0=me("heart",ib);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Km=me("house",lb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$r=me("image",rb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],cb=me("inbox",ob);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],db=me("key-round",ub);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],yu=me("lightbulb",fb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],At=me("loader-circle",hb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gb=me("lock",mb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vb=me("log-out",pb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yb=me("mail",bb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],G0=me("map-pin",xb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Qm=me("menu",_b);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gr=me("message-square",wb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xm=me("moon",Sb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Nb=me("panel-left-close",jb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Eb=me("panel-left-open",kb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Vr=me("pencil",Ab);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yr=me("plus",Tb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Cb=me("rocket",Ob);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hu=me("save",Rb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Lr=me("school",zb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tl=me("search",Db);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],V0=me("send",Ub);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bb=me("settings",Mb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jr=me("shield-check",qb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hb=me("shield",Lb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jm=me("sun",$b);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vb=me("tag",Gb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kb=me("target",Yb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Xb=me("thumbs-up",Qb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ga=me("trash-2",Jb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zb=me("upload",Ib);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$u=me("user",Pb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Im=me("users",Wb);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=me("x",Fb);var Nt=(i=>(i.STUDENT="",i.TEACHER="",i.SCHOOL_ADMIN=" ",i.PARENT="",i.DIRECTOR="",i.ADMIN="",i.ADMINISTRATOR="",i))(Nt||{});const Zm={:"200705"," ":"197822",:"197923"};function wt(i){return i===" "||i===""||i===""||i===""}var re=(i=>(i.HOME="home",i.SEARCH="search",i.STARTUPS="startups",i.LOST_FOUND="lost_found",i.CREATE="create",i.TRUST_BOX="trust_box",i.PROFILE="profile",i.NOTIFICATIONS="notifications",i.SERVICES="services",i.SCHEDULE="schedule",i.ADMIN="admin",i))(re||{});const Pm=({post:i,isLiked:s=!1,currentUser:l,onUserClick:r,onCommentClick:u,onImageClick:f,onLikeClick:h,onDeletePost:g})=>{const[v,p]=D.useState(!1),y=i.author.role===Nt.DIRECTOR||i.author.role===Nt.SCHOOL_ADMIN,x=l&&g&&(l.id===i.author.id||wt(l.role)),N=()=>!i.images||i.images.length===0?null:i.images.length===1?d.jsx("div",{className:"mt-2 md:mt-3 rounded-none md:rounded-xl overflow-hidden",children:d.jsx("img",{src:i.images[0],alt:"Post content",className:"w-full h-auto object-cover max-h-[70vh] md:max-h-[400px] cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>f(i.images[0])})}):i.images.length===2?d.jsx("div",{className:"mt-2 md:mt-3 grid grid-cols-2 gap-0.5 md:gap-1 rounded-none md:rounded-xl overflow-hidden",children:i.images.map((w,T)=>d.jsx("img",{src:w,alt:`Post content ${T}`,className:"w-full h-48 object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>f(w)},T))}):d.jsxs("div",{className:"mt-2 md:mt-3 grid grid-cols-2 gap-0.5 md:gap-1 rounded-none md:rounded-xl overflow-hidden",children:[d.jsx("img",{src:i.images[0],className:"w-full h-64 object-cover col-span-2 cursor-pointer",onClick:()=>f(i.images[0])}),d.jsx("img",{src:i.images[1],className:"w-full h-32 object-cover cursor-pointer",onClick:()=>f(i.images[1])}),d.jsxs("div",{className:"relative w-full h-32 cursor-pointer",onClick:()=>f(i.images[2]),children:[d.jsx("img",{src:i.images[2],className:"w-full h-32 object-cover"}),i.images.length>3&&d.jsxs("div",{className:"absolute inset-0 bg-slate-900/50 flex items-center justify-center text-white font-bold text-lg",children:["+",i.images.length-3]})]})]});return d.jsxs("div",{className:`
      relative bg-white dark:bg-[#171717] rounded-none md:rounded-2xl p-3 md:p-5 mb-0 md:mb-4 transition-all duration-200 border-x-0 border-t-0 md:border border-b border-[#efefef] dark:border-[#404040]
      ${i.isAnnouncement?"md:border-amber-200 dark:md:border-amber-700":""}
    `,children:[i.isAnnouncement&&d.jsxs("div",{className:"absolute -top-3 left-4 bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-200 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-1 shadow-sm border border-amber-200 dark:border-amber-700",children:[d.jsx(el,{size:12}),""]}),d.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[d.jsx("button",{onClick:()=>r(i.author),className:"focus:outline-none flex-shrink-0",children:d.jsx("img",{src:i.author.avatar,alt:i.author.name,className:`w-8 h-8 md:w-10 md:h-10 rounded-full object-cover ring-2 transition-transform active:scale-95 ${y?"ring-amber-400 dark:ring-amber-500":"ring-[#efefef] dark:ring-[#404040]"}`})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-wrap",children:[d.jsx("button",{onClick:()=>r(i.author),className:"font-semibold text-[#262626] dark:text-[#fafafa] text-xs md:text-sm hover:underline decoration-[#8e8e8e] dark:decoration-[#a3a3a3] underline-offset-2 truncate",children:i.author.name}),i.author.grade&&d.jsxs("span",{className:"text-[10px] text-[#8e8e8e] dark:text-[#a3a3a3]",children:[" ",i.author.grade]}),i.author.role!==Nt.STUDENT&&d.jsx("span",{className:`text-[9px] md:text-[10px] px-1.5 md:px-2 py-0.5 rounded-md font-bold hidden sm:inline ${y||i.author.role===Nt.SCHOOL_ADMIN?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-200":i.author.role===Nt.PARENT?"bg-violet-100 dark:bg-violet-900/40 text-violet-700 dark:text-violet-300":"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300"}`,children:i.author.role})]}),d.jsx("p",{className:"text-[10px] md:text-xs text-[#8e8e8e] dark:text-[#a3a3a3] font-medium",children:i.timestamp})]})]}),x&&d.jsxs("div",{className:"relative flex-shrink-0 ml-1",children:[d.jsx("button",{onClick:()=>p(!v),className:"p-1.5 md:p-2 rounded-full text-slate-400 dark:text-[#a3a3a3] hover:bg-slate-100 dark:hover:bg-[#262626] hover:text-slate-600 dark:hover:text-[#fafafa]",children:d.jsx(nb,{size:16,className:"md:w-[18px] md:h-[18px]"})}),v&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),d.jsx("div",{className:"absolute right-0 top-full mt-1 z-20 bg-white dark:bg-[#262626] rounded-xl shadow-lg border border-slate-200 dark:border-[#404040] py-1 min-w-[160px]",children:d.jsxs("button",{onClick:()=>{g(i),p(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-rose-600 hover:bg-rose-50",children:[d.jsx(ga,{size:16}),"  "]})})]})]})]}),d.jsxs("div",{className:"mb-2 md:mb-4",children:[d.jsx("p",{className:`text-[14px] md:text-[15px] leading-relaxed whitespace-pre-line ${y?"text-slate-900 dark:text-[#fafafa] font-medium":"text-slate-800 dark:text-[#e5e5e5]"}`,children:i.content}),N()]}),d.jsx("div",{className:"flex items-center pt-2 md:pt-3 border-t border-[#efefef] dark:border-[#404040]",children:d.jsxs("div",{className:"flex gap-3 md:gap-4",children:[d.jsxs("button",{onClick:()=>h==null?void 0:h(i),className:`flex items-center gap-1.5 md:gap-2 transition-colors group py-1 pr-1 -ml-1 rounded-lg hover:bg-[#f5f5f5] dark:hover:bg-[#262626] ${s?"text-rose-500":"text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-rose-500"}`,children:[d.jsx($0,{size:18,className:`transition-all stroke-2 flex-shrink-0 md:w-5 md:h-5 ${s?"fill-rose-500":"group-hover:fill-rose-500"}`}),d.jsx("span",{className:"text-xs md:text-sm font-semibold",children:i.likes})]}),d.jsxs("button",{onClick:()=>u(i),className:"flex items-center gap-1.5 md:gap-2 text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-[#0095f6] transition-colors py-1 pr-1 rounded-lg hover:bg-[#f5f5f5] dark:hover:bg-[#262626]",children:[d.jsx(Gr,{size:18,className:"stroke-2 flex-shrink-0 md:w-5 md:h-5"}),d.jsx("span",{className:"text-xs md:text-sm font-semibold",children:i.commentsCount})]})]})})]})},Me=({children:i,variant:s="primary",size:l="md",isLoading:r,className:u="",...f})=>{const h="inline-flex items-center justify-center rounded-xl font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none active:scale-95",g={primary:"bg-[#0095f6] text-white hover:bg-[#0084e0] focus:ring-[#0095f6]/50",secondary:"bg-white text-[#262626] border border-[#efefef] hover:bg-[#fafafa] hover:text-[#0095f6] focus:ring-[#0095f6]/30",ghost:"bg-transparent text-[#8e8e8e] hover:bg-[#f5f5f5] hover:text-[#262626]",danger:"bg-red-50 text-red-600 hover:bg-red-100 focus:ring-red-500"},v={sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"};return d.jsx("button",{className:`${h} ${g[s]} ${v[l]} ${u}`,...f,children:r?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):i})},ey=({startup:i,currentUser:s,isVoted:l=!1,myTeamRequest:r,pendingRequestsCount:u=0,onVote:f,onAccept:h,onReject:g,onDelete:v,onJoinTeam:p,onOpenTeamRequests:y})=>{const[x,N]=D.useState(!1),w=Math.min(100,Math.round(i.currentSupport/Math.max(1,i.goal)*100)),T=i.status==="accepted",O=i.status==="pending",q=s&&wt(s.role),K=s&&i.author.id===s.id;return d.jsxs("div",{className:`bg-white dark:bg-[#171717] rounded-2xl p-5 mb-4 border transition-all group ${T?"border-emerald-200 dark:border-emerald-700":"border-[#efefef] dark:border-[#404040]"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("div",{className:"bg-[#e0f4ff] dark:bg-indigo-900/30 p-1.5 rounded-lg text-[#0095f6] dark:text-indigo-400",children:d.jsx(Cb,{size:16})}),d.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 tracking-wide uppercase",children:""}),T&&d.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full flex items-center gap-1",children:[d.jsx(Pn,{size:12})," "]})]}),d.jsxs("span",{className:"text-xs text-slate-400 dark:text-[#a3a3a3]",children:[i.author.name,"  ",i.author.grade]})]}),d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-[#fafafa] mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:i.title}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-[#a3a3a3] mb-4 leading-relaxed",children:i.description}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags.map(U=>d.jsxs("span",{className:"text-[10px] px-2 py-1 bg-slate-50 dark:bg-[#262626] text-slate-500 dark:text-[#a3a3a3] rounded-md border border-slate-100 dark:border-[#404040]",children:["#",U]},U))}),d.jsxs("div",{className:"bg-slate-50 dark:bg-[#262626] rounded-xl p-3 mb-4 border border-slate-100 dark:border-[#404040]",children:[d.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[d.jsx("span",{className:"font-medium text-slate-700 dark:text-[#a3a3a3]",children:" ()"}),d.jsxs("span",{className:"font-bold text-indigo-600 dark:text-indigo-400",children:[i.currentSupport," / ",i.goal]})]}),d.jsx("div",{className:"w-full bg-slate-200 dark:bg-[#404040] rounded-full h-2 overflow-hidden",children:d.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${w}%`}})})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[s&&f&&d.jsxs(Me,{variant:"secondary",className:`w-full gap-2 ${l?"bg-[#e0f4ff] text-[#0095f6] border-[#0095f6]/30":""}`,onClick:async()=>{N(!0);try{await f(i)}finally{N(!1)}},disabled:x,children:[x?d.jsx(At,{size:16,className:"animate-spin"}):d.jsx(Xb,{size:16,className:l?"fill-current":""}),l?" ":" "]}),s&&!K&&p&&d.jsx(d.Fragment,{children:r?d.jsx("div",{className:`text-center py-2 px-3 rounded-xl text-sm font-medium ${r.status==="accepted"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":r.status==="rejected"?"bg-slate-100 dark:bg-[#262626] text-slate-500 dark:text-[#a3a3a3]":"bg-[#e0f4ff] dark:bg-indigo-900/30 text-[#0095f6] dark:text-indigo-400"}`,children:r.status==="accepted"?"   ":r.status==="rejected"?" ":" "}):d.jsxs(Me,{className:"w-full gap-2",onClick:()=>p(i),children:[d.jsx(Im,{size:16}),"  "]})}),K&&y&&d.jsxs(Me,{variant:"secondary",className:"w-full gap-2",onClick:()=>y(i),children:[d.jsx(Im,{size:16}),"   ",u>0&&`(${u})`]}),q&&O&&(h||g||v)&&d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100",children:[h&&d.jsxs(Me,{className:"flex-1 gap-1 bg-emerald-600 hover:bg-emerald-700 text-white text-sm py-2",onClick:()=>h(i),children:[d.jsx(Pn,{size:14})," "]}),g&&d.jsxs(Me,{variant:"secondary",className:"flex-1 gap-1 text-amber-700 border-amber-200 hover:bg-amber-50 text-sm py-2",onClick:()=>g(i),children:[d.jsx(H0,{size:14})," "]}),v&&d.jsx("button",{onClick:()=>v(i),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"",children:d.jsx(ga,{size:18})})]})]})]})},ty=({item:i,currentUser:s,onImageClick:l,onMarkFound:r,onDelete:u})=>{const[f,h]=D.useState(!1),g=i.status==="found",v=s&&(s.id===i.author.id||wt(s.role));return d.jsxs("div",{className:"bg-white dark:bg-[#171717] rounded-2xl overflow-hidden border border-[#efefef] dark:border-[#404040] mb-4 transition-all",children:[d.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${g?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-b border-emerald-100 dark:border-emerald-700":"bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 border-b border-rose-100 dark:border-rose-800"}`,children:[d.jsx("div",{className:"flex items-center gap-2 font-bold uppercase text-xs tracking-wider",children:g?d.jsxs(d.Fragment,{children:[d.jsx(Pn,{size:16}),"  / "]}):d.jsxs(d.Fragment,{children:[d.jsx(el,{size:16})," "]})}),d.jsx("span",{className:"text-[10px] font-medium opacity-80",children:i.date})]}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-28 h-28 flex-shrink-0 bg-slate-100 dark:bg-[#262626] rounded-xl overflow-hidden border border-slate-100 dark:border-[#404040] cursor-pointer hover:ring-2 hover:ring-indigo-200 dark:hover:ring-indigo-600 transition-all",children:d.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onClick:()=>l(i.image)})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-[#fafafa] mb-1.5 text-base",children:i.title}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-[#a3a3a3] mb-3 line-clamp-3",children:i.description}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500 dark:text-[#a3a3a3]",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("img",{src:i.author.avatar,alt:"",className:"w-5 h-5 rounded-full object-cover"}),d.jsx("span",{className:"font-medium text-slate-700 dark:text-[#e5e5e5]",children:i.author.name}),i.author.grade&&d.jsxs("span",{className:"text-slate-400",children:[" ",i.author.grade]})]}),i.contactInfo&&d.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[d.jsx(G0,{size:12}),d.jsx("span",{children:i.contactInfo})]})]})]})]}),v&&(r||u)&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex flex-wrap gap-2",children:[!g&&r&&d.jsxs(Me,{variant:"secondary",className:"gap-2 text-emerald-700 border-emerald-200 hover:bg-emerald-50",onClick:async()=>{h(!0);try{await r(i)}finally{h(!1)}},disabled:f,children:[d.jsx(Pn,{size:16}),"  "]}),u&&d.jsxs("button",{onClick:()=>u(i),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-rose-600 hover:bg-rose-50 rounded-xl border border-rose-200 transition-colors",children:[d.jsx(ga,{size:16}),""]})]})]})]})};function Ir(i,s){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(i);u<r.length;u++)s.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(i,r[u])&&(l[r[u]]=i[r[u]]);return l}function ay(i,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function g(y){try{p(r.next(y))}catch(x){h(x)}}function v(y){try{p(r.throw(y))}catch(x){h(x)}}function p(y){y.done?f(y.value):u(y.value).then(g,v)}p((r=r.apply(i,s||[])).next())})}const sy=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);class Gu extends Error{constructor(s,l="FunctionsError",r){super(s),this.name=l,this.context=r}}class ny extends Gu{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Wm extends Gu{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Fm extends Gu{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Eu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Eu||(Eu={}));class iy{constructor(s,{headers:l={},customFetch:r,region:u=Eu.Any}={}){this.url=s,this.headers=l,this.region=u,this.fetch=sy(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return ay(this,arguments,void 0,function*(l,r={}){var u;let f,h;try{const{headers:g,method:v,body:p,signal:y,timeout:x}=r;let N={},{region:w}=r;w||(w=this.region);const T=new URL(`${this.url}/${l}`);w&&w!=="any"&&(N["x-region"]=w,T.searchParams.set("forceFunctionRegion",w));let O;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",O=p):typeof p=="string"?(N["Content-Type"]="text/plain",O=p):typeof FormData<"u"&&p instanceof FormData?O=p:(N["Content-Type"]="application/json",O=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?O=JSON.stringify(p):O=p;let q=y;x&&(h=new AbortController,f=setTimeout(()=>h.abort(),x),y?(q=h.signal,y.addEventListener("abort",()=>h.abort())):q=h.signal);const K=yield this.fetch(T.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),g),body:O,signal:q}).catch(ge=>{throw new ny(ge)}),U=K.headers.get("x-relay-error");if(U&&U==="true")throw new Wm(K);if(!K.ok)throw new Fm(K);let B=((u=K.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),P;return B==="application/json"?P=yield K.json():B==="application/octet-stream"||B==="application/pdf"?P=yield K.blob():B==="text/event-stream"?P=K:B==="multipart/form-data"?P=yield K.formData():P=yield K.text(),{data:P,error:null,response:K}}catch(g){return{data:null,error:g,response:g instanceof Fm||g instanceof Wm?g.context:void 0}}finally{f&&clearTimeout(f)}})}}var ut={},Un={},Mn={},Bn={},qn={},Ln={},ly=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wn=ly();const ry=Wn.fetch,Y0=Wn.fetch.bind(Wn),K0=Wn.Headers,oy=Wn.Request,cy=Wn.Response,uy=Object.freeze(Object.defineProperty({__proto__:null,Headers:K0,Request:oy,Response:cy,default:Y0,fetch:ry},Symbol.toStringTag,{value:"Module"})),dy=Ev(uy);var Rr={},e0;function Q0(){if(e0)return Rr;e0=1,Object.defineProperty(Rr,"__esModule",{value:!0});class i extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return Rr.default=i,Rr}var t0;function X0(){if(t0)return Ln;t0=1;var i=Ln&&Ln.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ln,"__esModule",{value:!0});const s=i(dy),l=i(Q0());class r{constructor(f){var h,g;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(h=f.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=f.signal,this.isMaybeSingle=(g=f.isMaybeSingle)!==null&&g!==void 0?g:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,h){return this.headers=new Headers(this.headers),this.headers.set(f,h),this}then(f,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let v=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,x,N,w;let T=null,O=null,q=null,K=p.status,U=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Z=await p.text();Z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?O=Z:O=JSON.parse(Z))}const P=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),ge=(N=p.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");P&&ge&&ge.length>1&&(q=parseInt(ge[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(T={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,q=null,K=406,U="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const P=await p.text();try{T=JSON.parse(P),Array.isArray(T)&&p.status===404&&(O=[],T=null,K=200,U="OK")}catch{p.status===404&&P===""?(K=204,U="No Content"):T={message:P}}if(T&&this.isMaybeSingle&&(!((w=T==null?void 0:T.details)===null||w===void 0)&&w.includes("0 rows"))&&(T=null,K=200,U="OK"),T&&this.shouldThrowOnError)throw new l.default(T)}return{error:T,data:O,count:q,status:K,statusText:U}});return this.shouldThrowOnError||(v=v.catch(p=>{var y,x,N;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(N=p==null?void 0:p.code)!==null&&N!==void 0?N:""}`},data:null,count:null,status:0,statusText:""}})),v.then(f,h)}returns(){return this}overrideTypes(){return this}}return Ln.default=r,Ln}var a0;function J0(){if(a0)return qn;a0=1;var i=qn&&qn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qn,"__esModule",{value:!0});const s=i(X0());class l extends s.default{select(u){let f=!1;const h=(u??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:f=!0,nullsFirst:h,foreignTable:g,referencedTable:v=g}={}){const p=v?`${v}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${u}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:f,referencedTable:h=f}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,f,{foreignTable:h,referencedTable:g=h}={}){const v=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(p,`${f-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:f=!1,settings:h=!1,buffers:g=!1,wal:v=!1,format:p="text"}={}){var y;const x=[u?"analyze":null,f?"verbose":null,h?"settings":null,g?"buffers":null,v?"wal":null].filter(Boolean).join("|"),N=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${N}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return qn.default=l,qn}var s0;function Vu(){if(s0)return Bn;s0=1;var i=Bn&&Bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bn,"__esModule",{value:!0});const s=i(J0());class l extends s.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:g}={}){let v="";g==="plain"?v="pl":g==="phrase"?v="ph":g==="websearch"&&(v="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${v}fts${p}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}}return Bn.default=l,Bn}var n0;function I0(){if(n0)return Mn;n0=1;var i=Mn&&Mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mn,"__esModule",{value:!0});const s=i(Vu());class l{constructor(u,{headers:f={},schema:h,fetch:g}){this.url=u,this.headers=new Headers(f),this.schema=h,this.fetch=g}select(u,{head:f=!1,count:h}={}){const g=f?"HEAD":"GET";let v=!1;const p=(u??"*").split("").map(y=>/\s/.test(y)&&!v?"":(y==='"'&&(v=!v),y)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:f,defaultToNull:h=!0}={}){var g;const v="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(p.length>0){const y=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:f,ignoreDuplicates:h=!1,count:g,defaultToNull:v=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),g&&this.headers.append("Prefer",`count=${g}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const x=u.reduce((N,w)=>N.concat(Object.keys(w)),[]);if(x.length>0){const N=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",N.join(","))}}return new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:f}={}){var h;const g="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var f;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Mn.default=l,Mn}var i0;function fy(){if(i0)return Un;i0=1;var i=Un&&Un.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Un,"__esModule",{value:!0});const s=i(I0()),l=i(Vu());class r{constructor(f,{headers:h={},schema:g,fetch:v}={}){this.url=f,this.headers=new Headers(h),this.schemaName=g,this.fetch=v}from(f){const h=new URL(`${this.url}/${f}`);return new s.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new r(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:g=!1,get:v=!1,count:p}={}){var y;let x;const N=new URL(`${this.url}/rpc/${f}`);let w;g||v?(x=g?"HEAD":"GET",Object.entries(h).filter(([O,q])=>q!==void 0).map(([O,q])=>[O,Array.isArray(q)?`{${q.join(",")}}`:`${q}`]).forEach(([O,q])=>{N.searchParams.append(O,q)})):(x="POST",w=h);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new l.default({method:x,url:N,headers:T,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Un.default=r,Un}var l0;function hy(){if(l0)return ut;l0=1;var i=ut&&ut.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const s=i(fy());ut.PostgrestClient=s.default;const l=i(I0());ut.PostgrestQueryBuilder=l.default;const r=i(Vu());ut.PostgrestFilterBuilder=r.default;const u=i(J0());ut.PostgrestTransformBuilder=u.default;const f=i(X0());ut.PostgrestBuilder=f.default;const h=i(Q0());return ut.PostgrestError=h.default,ut.default={PostgrestClient:s.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:f.default,PostgrestError:h.default},ut}var my=hy();const gy=Bu(my),{PostgrestClient:py,PostgrestQueryBuilder:L2,PostgrestFilterBuilder:H2,PostgrestTransformBuilder:$2,PostgrestBuilder:G2,PostgrestError:V2}=gy;class vy{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const u=r.node,f=parseInt(u.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let l=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(l+=`

Suggested solution: ${s.workaround}`),new Error(l)}static createWebSocket(s,l){const r=this.getWebSocketConstructor();return new r(s,l)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const by="2.95.3",yy=`realtime-js/${by}`,xy="1.0.0",Z0="2.0.0",r0=Z0,Au=1e4,_y=1e3,wy=100;var ps;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ps||(ps={}));var lt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(lt||(lt={}));var ra;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ra||(ra={}));var Tu;(function(i){i.websocket="websocket"})(Tu||(Tu={}));var Ys;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ys||(Ys={}));class Sy{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,l){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(s));let r=[s.join_ref,s.ref,s.topic,s.event,s.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(s){var l;return this._isArrayBuffer((l=s.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var l,r;const u=(r=(l=s.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(s){var l,r;const u=(r=(l=s.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(s,l,r){var u,f;const h=s.topic,g=(u=s.ref)!==null&&u!==void 0?u:"",v=(f=s.join_ref)!==null&&f!==void 0?f:"",p=s.payload.event,y=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+g.length+h.length+p.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+N);let T=new DataView(w),O=0;T.setUint8(O++,this.KINDS.userBroadcastPush),T.setUint8(O++,v.length),T.setUint8(O++,g.length),T.setUint8(O++,h.length),T.setUint8(O++,p.length),T.setUint8(O++,x.length),T.setUint8(O++,l),Array.from(v,K=>T.setUint8(O++,K.charCodeAt(0))),Array.from(g,K=>T.setUint8(O++,K.charCodeAt(0))),Array.from(h,K=>T.setUint8(O++,K.charCodeAt(0))),Array.from(p,K=>T.setUint8(O++,K.charCodeAt(0))),Array.from(x,K=>T.setUint8(O++,K.charCodeAt(0)));var q=new Uint8Array(w.byteLength+r.byteLength);return q.set(new Uint8Array(w),0),q.set(new Uint8Array(r),w.byteLength),q.buffer}decode(s,l){if(this._isArrayBuffer(s)){let r=this._binaryDecode(s);return l(r)}if(typeof s=="string"){const r=JSON.parse(s),[u,f,h,g,v]=r;return l({join_ref:u,ref:f,topic:h,event:g,payload:v})}return l({})}_binaryDecode(s){const l=new DataView(s),r=l.getUint8(0),u=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,l,u)}}_decodeUserBroadcast(s,l,r){const u=l.getUint8(1),f=l.getUint8(2),h=l.getUint8(3),g=l.getUint8(4);let v=this.HEADER_LENGTH+4;const p=r.decode(s.slice(v,v+u));v=v+u;const y=r.decode(s.slice(v,v+f));v=v+f;const x=r.decode(s.slice(v,v+h));v=v+h;const N=s.slice(v,s.byteLength),w=g===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,T={type:this.BROADCAST_EVENT,event:y,payload:w};return h>0&&(T.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(s){var l;return s instanceof ArrayBuffer||((l=s==null?void 0:s.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(s,l){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([r])=>l.includes(r)))}}class P0{constructor(s,l){this.callback=s,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})($e||($e={}));const o0=(i,s,l={})=>{var r;const u=(r=l.skipTypes)!==null&&r!==void 0?r:[];return s?Object.keys(s).reduce((f,h)=>(f[h]=jy(h,i,s,u),f),{}):{}},jy=(i,s,l,r)=>{const u=s.find(g=>g.name===i),f=u==null?void 0:u.type,h=l[i];return f&&!r.includes(f)?W0(f,h):Ou(h)},W0=(i,s)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Ay(s,l)}switch(i){case $e.bool:return Ny(s);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return ky(s);case $e.json:case $e.jsonb:return Ey(s);case $e.timestamp:return Ty(s);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Ou(s);default:return Ou(s)}},Ou=i=>i,Ny=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},ky=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},Ey=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Ay=(i,s)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let f;const h=i.slice(1,l);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(g=>W0(s,g))}return i},Ty=i=>typeof i=="string"?i.replace(" ","T"):i,F0=i=>{const s=new URL(i);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class xu{constructor(s,l,r={},u=Au){this.channel=s,this.event=l,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,l){var r;return this._hasReceived(s)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:l}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(l))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var c0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(c0||(c0={}));class al{constructor(s,l){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=al.syncState(this.state,u,f,h),this.pendingDiffs.forEach(v=>{this.state=al.syncDiff(this.state,v,f,h)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},u=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=al.syncDiff(this.state,u,f,h),g())}),this.onJoin((u,f,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:h})}),this.onLeave((u,f,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,l,r,u){const f=this.cloneDeep(s),h=this.transformState(l),g={},v={};return this.map(f,(p,y)=>{h[p]||(v[p]=y)}),this.map(h,(p,y)=>{const x=f[p];if(x){const N=y.map(q=>q.presence_ref),w=x.map(q=>q.presence_ref),T=y.filter(q=>w.indexOf(q.presence_ref)<0),O=x.filter(q=>N.indexOf(q.presence_ref)<0);T.length>0&&(g[p]=T),O.length>0&&(v[p]=O)}else g[p]=y}),this.syncDiff(f,{joins:g,leaves:v},r,u)}static syncDiff(s,l,r,u){const{joins:f,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(f,(g,v)=>{var p;const y=(p=s[g])!==null&&p!==void 0?p:[];if(s[g]=this.cloneDeep(v),y.length>0){const x=s[g].map(w=>w.presence_ref),N=y.filter(w=>x.indexOf(w.presence_ref)<0);s[g].unshift(...N)}r(g,y,v)}),this.map(h,(g,v)=>{let p=s[g];if(!p)return;const y=v.map(x=>x.presence_ref);p=p.filter(x=>y.indexOf(x.presence_ref)<0),s[g]=p,u(g,p,v),p.length===0&&delete s[g]}),s}static map(s,l){return Object.getOwnPropertyNames(s).map(r=>l(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((l,r)=>{const u=s[r];return"metas"in u?l[r]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=u,l},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(u0||(u0={}));var sl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(sl||(sl={}));var $a;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class In{constructor(s,l={config:{}},r){var u,f;if(this.topic=s,this.params=l,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new xu(this,ra.join,this.params,this.timeout),this.rejoinTimer=new P0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ra.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new al(this),this.broadcastEndpointURL=F0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,l=this.timeout){var r,u,f;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:h,presence:g,private:v}}=this.params,p=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,x={},N={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:y}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>s==null?void 0:s($a.CHANNEL_ERROR,w)),this._onClose(()=>s==null?void 0:s($a.CLOSED)),this.updateJoinPayload(Object.assign({config:N},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:w})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){s==null||s($a.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,q=(T=O==null?void 0:O.length)!==null&&T!==void 0?T:0,K=[];for(let U=0;U<q;U++){const B=O[U],{filter:{event:P,schema:ge,table:Z,filter:Q}}=B,Ae=w&&w[U];if(Ae&&Ae.event===P&&In.isFilterValueEqual(Ae.schema,ge)&&In.isFilterValueEqual(Ae.table,Z)&&In.isFilterValueEqual(Ae.filter,Q))K.push(Object.assign(Object.assign({},B),{id:Ae.id}));else{this.unsubscribe(),this.state=lt.errored,s==null||s($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,s&&s($a.SUBSCRIBED);return}}).receive("error",w=>{this.state=lt.errored,s==null||s($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{s==null||s($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,l={}){return await this.send({type:"presence",event:"track",payload:s},l.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,l,r){return this.state===lt.joined&&s===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,l,r)}async httpSend(s,l,r={}){var u;if(l==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=r.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let v=g.statusText;try{const p=await g.json();v=p.error||p.message||v}catch{}return Promise.reject(new Error(v))}async send(s,l={}){var r,u;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=s,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,g,v;const p=this._push(s.type,s,l.timeout||this.timeout);s.type==="broadcast"&&!(!((v=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||v===void 0)&&v.ack)&&f("ok"),p.receive("ok",()=>f("ok")),p.receive("error",()=>f("error")),p.receive("timeout",()=>f("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=lt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new xu(this,ra.leave,{},s),r.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(s,l,r){const u=new AbortController,f=setTimeout(()=>u.abort(),r),h=await this.socket.fetch(s,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(f),h}_push(s,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new xu(this,s,l,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>wy){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(s,l,r){return l}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,l,r){var u,f;const h=s.toLocaleLowerCase(),{close:g,error:v,leave:p,join:y}=ra;if(r&&[g,v,p,y].indexOf(h)>=0&&r!==this._joinRef())return;let N=this._onMessage(h,l,r);if(l&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(w=>{var T,O,q;return((T=w.filter)===null||T===void 0?void 0:T.event)==="*"||((q=(O=w.filter)===null||O===void 0?void 0:O.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===h}).map(w=>w.callback(N,r)):(f=this.bindings[h])===null||f===void 0||f.filter(w=>{var T,O,q,K,U,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in w){const P=w.id,ge=(T=w.filter)===null||T===void 0?void 0:T.event;return P&&((O=l.ids)===null||O===void 0?void 0:O.includes(P))&&(ge==="*"||(ge==null?void 0:ge.toLocaleLowerCase())===((q=l.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const P=(U=(K=w==null?void 0:w.filter)===null||K===void 0?void 0:K.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return P==="*"||P===((B=l==null?void 0:l.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===h}).map(w=>{if(typeof N=="object"&&"ids"in N){const T=N.data,{schema:O,table:q,commit_timestamp:K,type:U,errors:B}=T;N=Object.assign(Object.assign({},{schema:O,table:q,commit_timestamp:K,eventType:U,new:{},old:{},errors:B}),this._getPayloadRecords(T))}w.callback(N,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,l,r){const u=s.toLocaleLowerCase(),f={type:u,filter:l,callback:r};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(s,l){const r=s.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&In.isEqual(u.filter,l))})),this}static isEqual(s,l){if(Object.keys(s).length!==Object.keys(l).length)return!1;for(const r in s)if(s[r]!==l[r])return!1;return!0}static isFilterValueEqual(s,l){return(s??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ra.close,{},s)}_onError(s){this._on(ra.error,{},l=>s(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const l={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(l.new=o0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(l.old=o0(s.columns,s.old_record)),l}}const _u=()=>{},zr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Oy=[1e3,2e3,5e3,1e4],Cy=1e4,Ry=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zy{constructor(s,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Au,this.transport=null,this.heartbeatIntervalMs=zr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_u,this.ref=0,this.reconnectTimer=null,this.vsn=r0,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new Sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...f)=>u(...f):(...f)=>fetch(...f),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${s}/${Tu.websocket}`,this.httpEndpoint=F0(s),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vy.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const l=s.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const l=await s.unsubscribe();return l==="ok"&&this._remove(s),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const s=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,l,r){this.logger(s,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return Ys.Connecting;case ps.open:return Ys.Open;case ps.closing:return Ys.Closing;default:return Ys.Closed}}isConnected(){return this.connectionState()===Ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,l={config:{}}){const r=`realtime:${s}`,u=this.getChannels().find(f=>f.topic===r);if(u)return u;{const f=new In(`realtime:${s}`,l,this);return this.channels.push(f),f}}push(s){const{topic:l,event:r,payload:u,ref:f}=s,h=()=>{this.encode(s,g=>{var v;(v=this.conn)===null||v===void 0||v.send(g)})};this.log("push",`${l} ${r} (${f})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(_y,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},zr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let l=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${s}"`),l.unsubscribe())}_remove(s){this.channels=this.channels.filter(l=>l.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:u,payload:f,ref:h}=l,g=h?`(${h})`:"",v=f.status||"";this.log("receive",`${v} ${r} ${u} ${g}`.trim(),f),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(u,f,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(s){var l;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===ps.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ps.open||this.conn.readyState===ps.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var l;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(s=>s._trigger(ra.error))}_appendParams(s,l){if(Object.keys(l).length===0)return s;const r=s.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${s}${r}${u}`}_workerObjectUrl(s){let l;if(s)l=s;else{const r=new Blob([Ry],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(s,l=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(s=null){let l,r=!1;if(s)l=s,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(u=>{const f={access_token:l,version:yy};l&&u.updateJoinPayload(f),u.joinedOnce&&u._isJoined()&&u._push(ra.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${s}`,l)})}_triggerStateCallbacks(s,l){try{this.stateChangeCallbacks[s].forEach(r=>{try{r(l)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(r){this.log("error",`error triggering ${s} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new P0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var l,r,u,f,h,g,v,p,y,x,N,w;switch(this.transport=(l=s==null?void 0:s.transport)!==null&&l!==void 0?l:null,this.timeout=(r=s==null?void 0:s.timeout)!==null&&r!==void 0?r:Au,this.heartbeatIntervalMs=(u=s==null?void 0:s.heartbeatIntervalMs)!==null&&u!==void 0?u:zr.HEARTBEAT_INTERVAL,this.worker=(f=s==null?void 0:s.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=s==null?void 0:s.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=s==null?void 0:s.heartbeatCallback)!==null&&g!==void 0?g:_u,this.vsn=(v=s==null?void 0:s.vsn)!==null&&v!==void 0?v:r0,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=s==null?void 0:s.reconnectAfterMs)!==null&&p!==void 0?p:(T=>Oy[T-1]||Cy),this.vsn){case xy:this.encode=(y=s==null?void 0:s.encode)!==null&&y!==void 0?y:((T,O)=>O(JSON.stringify(T))),this.decode=(x=s==null?void 0:s.decode)!==null&&x!==void 0?x:((T,O)=>O(JSON.parse(T)));break;case Z0:this.encode=(N=s==null?void 0:s.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(w=s==null?void 0:s.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}var il=class extends Error{constructor(i,s){var l;super(i),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&((l=s.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dy(i,s,l){const r=new URL(s,i);if(l)for(const[u,f]of Object.entries(l))f!==void 0&&r.searchParams.set(u,f);return r.toString()}async function Uy(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function My(i){const s=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:u,body:f,headers:h}){const g=Dy(i.baseUrl,r,u),v=await Uy(i.auth),p=await s(g,{method:l,headers:{...f?{"Content-Type":"application/json"}:{},...v,...h},body:f?JSON.stringify(f):void 0}),y=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),N=x&&y?JSON.parse(y):y;if(!p.ok){const w=x?N:void 0,T=w==null?void 0:w.error;throw new il((T==null?void 0:T.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:w})}return{status:p.status,headers:p.headers,data:N}}}}function Dr(i){return i.join("")}var By=class{constructor(i,s=""){this.client=i,this.prefix=s}async listNamespaces(i){const s=i?{parent:Dr(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,s){const l={namespace:i.namespace,properties:s==null?void 0:s.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dr(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dr(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dr(i.namespace)}`}),!0}catch(s){if(s instanceof il&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(i,s){try{return await this.createNamespace(i,s)}catch(l){if(l instanceof il&&l.status===409)return;throw l}}};function Hn(i){return i.join("")}var qy=class{constructor(i,s="",l){this.client=i,this.prefix=s,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables`})).data.identifiers}async createTable(i,s){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables`,body:s,headers:l})).data.metadata}async updateTable(i,s){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables/${i.name}`,body:s});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((s==null?void 0:s.purge)??!1)}})}async loadTable(i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables/${i.name}`,headers:s})).data.metadata}async tableExists(i){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hn(i.namespace)}/tables/${i.name}`,headers:s}),!0}catch(l){if(l instanceof il&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,s){try{return await this.createTable(i,s)}catch(l){if(l instanceof il&&l.status===409)return await this.loadTable({namespace:i.namespace,name:s.name});throw l}}},Ly=class{constructor(i){var r;let s="v1";i.catalogName&&(s+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=My({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new By(this.client,s),this.tableOps=new qy(this.client,s,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,s){return this.namespaceOps.createNamespace(i,s)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,s){return this.tableOps.createTable(i,s)}async updateTable(i,s){return this.tableOps.updateTable(i,s)}async dropTable(i,s){await this.tableOps.dropTable(i,s)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,s){return this.namespaceOps.createNamespaceIfNotExists(i,s)}async createTableIfNotExists(i,s){return this.tableOps.createTableIfNotExists(i,s)}},Zr=class extends Error{constructor(i,s="storage",l,r){super(i),this.__isStorageError=!0,this.namespace=s,this.name=s==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function Pr(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Ur=class extends Zr{constructor(i,s,l,r="storage"){super(i,r,s,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eg=class extends Zr{constructor(i,s,l="storage"){super(i,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=s}};const Hy=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),$y=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Cu=i=>{if(Array.isArray(i))return i.map(l=>Cu(l));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([l,r])=>{const u=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));s[u]=Cu(r)}),s},Gy=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function ll(i){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ll(i)}function Vy(i,s){if(ll(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,s);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function Yy(i){var s=Vy(i,"string");return ll(s)=="symbol"?s:s+""}function Ky(i,s,l){return(s=Yy(s))in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}function d0(i,s){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,r)}return l}function fe(i){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?d0(Object(l),!0).forEach(function(r){Ky(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):d0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const f0=i=>{var s;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(s=i.error)===null||s===void 0?void 0:s.message)||JSON.stringify(i)},Qy=async(i,s,l,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(l!=null&&l.noResolveJson)){const u=i,f=u.status||500;if(typeof u.json=="function")u.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||f+"";s(new Ur(f0(h),f,g,r))}).catch(()=>{if(r==="vectors"){const h=f+"";s(new Ur(u.statusText||`HTTP ${f} error`,f,h,r))}else{const h=f+"";s(new Ur(u.statusText||`HTTP ${f} error`,f,h,r))}});else{const h=f+"";s(new Ur(u.statusText||`HTTP ${f} error`,f,h,r))}}else s(new eg(f0(i),i,r))},Xy=(i,s,l,r)=>{const u={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"||i==="HEAD"||!r?fe(fe({},u),l):($y(r)?(u.headers=fe({"Content-Type":"application/json"},s==null?void 0:s.headers),u.body=JSON.stringify(r)):u.body=r,s!=null&&s.duplex&&(u.duplex=s.duplex),fe(fe({},u),l))};async function Wi(i,s,l,r,u,f,h){return new Promise((g,v)=>{i(l,Xy(s,r,u,f)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;if(h==="vectors"){const y=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!y||!y.includes("application/json"))return{}}return p.json()}).then(p=>g(p)).catch(p=>Qy(p,v,r,h))})}function tg(i="storage"){return{get:async(s,l,r,u)=>Wi(s,"GET",l,r,u,void 0,i),post:async(s,l,r,u,f)=>Wi(s,"POST",l,u,f,r,i),put:async(s,l,r,u,f)=>Wi(s,"PUT",l,u,f,r,i),head:async(s,l,r,u)=>Wi(s,"HEAD",l,fe(fe({},r),{},{noResolveJson:!0}),u,void 0,i),remove:async(s,l,r,u,f)=>Wi(s,"DELETE",l,u,f,r,i)}}const Jy=tg("storage"),{get:rl,post:la,put:Ru,head:Iy,remove:Yu}=Jy,Yt=tg("vectors");var Fn=class{constructor(i,s={},l,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=s,this.fetch=Hy(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var s=this;try{return{data:await i(),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Pr(l))return{data:null,error:l};throw l}}},Zy=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s}then(i,s){return this.execute().then(i,s)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Pr(s))return{data:null,error:s};throw s}}};let ag;ag=Symbol.toStringTag;var Py=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s,this[ag]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zy(this.downloadFn,this.shouldThrowOnError)}then(i,s){return this.getPromise().then(i,s)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Pr(s))return{data:null,error:s};throw s}}};const Wy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Fy=class extends Fn{constructor(i,s={},l,r){super(i,s,r,"storage"),this.bucketId=l}async uploadOrUpdate(i,s,l,r){var u=this;return u.handleOperation(async()=>{let f;const h=fe(fe({},h0),r);let g=fe(fe({},u.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),v&&f.append("metadata",u.encodeMetadata(v)),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),v&&!f.has("metadata")&&f.append("metadata",u.encodeMetadata(v))):(f=l,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,v&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(v))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),r!=null&&r.headers&&(g=fe(fe({},g),r.headers));const p=u._removeEmptyFolders(s),y=u._getFinalPath(p),x=await(i=="PUT"?Ru:la)(u.fetch,`${u.url}/object/${y}`,f,fe({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:p,id:x.Id,fullPath:x.Key}})}async upload(i,s,l){return this.uploadOrUpdate("POST",i,s,l)}async uploadToSignedUrl(i,s,l,r){var u=this;const f=u._removeEmptyFolders(i),h=u._getFinalPath(f),g=new URL(u.url+`/object/upload/sign/${h}`);return g.searchParams.set("token",s),u.handleOperation(async()=>{let v;const p=fe({upsert:h0.upsert},r),y=fe(fe({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&l instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",l)):typeof FormData<"u"&&l instanceof FormData?(v=l,v.append("cacheControl",p.cacheControl)):(v=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{path:f,fullPath:(await Ru(u.fetch,g.toString(),v,{headers:y})).Key}})}async createSignedUploadUrl(i,s){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(i);const u=fe({},l.headers);s!=null&&s.upsert&&(u["x-upsert"]="true");const f=await la(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:u}),h=new URL(l.url+f.url),g=h.searchParams.get("token");if(!g)throw new Zr("No token returned by API");return{signedUrl:h.toString(),path:i,token:g}})}async update(i,s,l){return this.uploadOrUpdate("PUT",i,s,l)}async move(i,s,l){var r=this;return r.handleOperation(async()=>await la(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}))}async copy(i,s,l){var r=this;return r.handleOperation(async()=>({path:(await la(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,s,l){var r=this;return r.handleOperation(async()=>{let u=r._getFinalPath(i),f=await la(r.fetch,`${r.url}/object/sign/${u}`,fe({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${h}`)}})}async createSignedUrls(i,s,l){var r=this;return r.handleOperation(async()=>{const u=await la(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:s,paths:i},{headers:r.headers}),f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u.map(h=>fe(fe({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${f}`):null}))})}download(i,s,l){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=u?`?${u}`:"",h=this._getFinalPath(i),g=()=>rl(this.fetch,`${this.url}/${r}/${h}${f}`,{headers:this.headers,noResolveJson:!0},l);return new Py(g,this.shouldThrowOnError)}async info(i){var s=this;const l=s._getFinalPath(i);return s.handleOperation(async()=>Cu(await rl(s.fetch,`${s.url}/object/info/${l}`,{headers:s.headers})))}async exists(i){var s=this;const l=s._getFinalPath(i);try{return await Iy(s.fetch,`${s.url}/object/${l}`,{headers:s.headers}),{data:!0,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Pr(r)&&r instanceof eg){const u=r.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,s){const l=this._getFinalPath(i),r=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&r.push(u);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});h!==""&&r.push(h);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${g}`)}}}async remove(i){var s=this;return s.handleOperation(async()=>await Yu(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:i},{headers:s.headers}))}async list(i,s,l){var r=this;return r.handleOperation(async()=>{const u=fe(fe(fe({},Wy),s),{},{prefix:i||""});return await la(r.fetch,`${r.url}/object/list/${r.bucketId}`,u,{headers:r.headers},l)})}async listV2(i,s){var l=this;return l.handleOperation(async()=>{const r=fe({},i);return await la(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},s)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}};const ex="2.95.3",ul={"X-Client-Info":`storage-js/${ex}`};var tx=class extends Fn{constructor(i,s={},l,r){const u=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const f=u.href.replace(/\/$/,""),h=fe(fe({},ul),s);super(f,h,l,"storage")}async listBuckets(i){var s=this;return s.handleOperation(async()=>{const l=s.listBucketOptionsToQueryString(i);return await rl(s.fetch,`${s.url}/bucket${l}`,{headers:s.headers})})}async getBucket(i){var s=this;return s.handleOperation(async()=>await rl(s.fetch,`${s.url}/bucket/${i}`,{headers:s.headers}))}async createBucket(i,s={public:!1}){var l=this;return l.handleOperation(async()=>await la(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:l.headers}))}async updateBucket(i,s){var l=this;return l.handleOperation(async()=>await Ru(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(i){var s=this;return s.handleOperation(async()=>await la(s.fetch,`${s.url}/bucket/${i}/empty`,{},{headers:s.headers}))}async deleteBucket(i){var s=this;return s.handleOperation(async()=>await Yu(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}))}listBucketOptionsToQueryString(i){const s={};return i&&("limit"in i&&(s.limit=String(i.limit)),"offset"in i&&(s.offset=String(i.offset)),i.search&&(s.search=i.search),i.sortColumn&&(s.sortColumn=i.sortColumn),i.sortOrder&&(s.sortOrder=i.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},ax=class extends Fn{constructor(i,s={},l){const r=i.replace(/\/$/,""),u=fe(fe({},ul),s);super(r,u,l,"storage")}async createBucket(i){var s=this;return s.handleOperation(async()=>await la(s.fetch,`${s.url}/bucket`,{name:i},{headers:s.headers}))}async listBuckets(i){var s=this;return s.handleOperation(async()=>{const l=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&l.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&l.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&l.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&l.set("sortOrder",i.sortOrder),i!=null&&i.search&&l.set("search",i.search);const r=l.toString(),u=r?`${s.url}/bucket?${r}`:`${s.url}/bucket`;return await rl(s.fetch,u,{headers:s.headers})})}async deleteBucket(i){var s=this;return s.handleOperation(async()=>await Yu(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}))}from(i){var s=this;if(!Gy(i))throw new Zr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Ly({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(u,f){const h=u[f];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(u,g),error:null}}catch(v){if(r)throw v;return{data:null,error:v}}}}})}},sx=class extends Fn{constructor(i,s={},l){const r=i.replace(/\/$/,""),u=fe(fe({},ul),{},{"Content-Type":"application/json"},s);super(r,u,l,"vectors")}async createIndex(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/CreateIndex`,i,{headers:s.headers})||{})}async getIndex(i,s){var l=this;return l.handleOperation(async()=>await Yt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:s},{headers:l.headers}))}async listIndexes(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/ListIndexes`,i,{headers:s.headers}))}async deleteIndex(i,s){var l=this;return l.handleOperation(async()=>await Yt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:s},{headers:l.headers})||{})}},nx=class extends Fn{constructor(i,s={},l){const r=i.replace(/\/$/,""),u=fe(fe({},ul),{},{"Content-Type":"application/json"},s);super(r,u,l,"vectors")}async putVectors(i){var s=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/PutVectors`,i,{headers:s.headers})||{})}async getVectors(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/GetVectors`,i,{headers:s.headers}))}async listVectors(i){var s=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/ListVectors`,i,{headers:s.headers}))}async queryVectors(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/QueryVectors`,i,{headers:s.headers}))}async deleteVectors(i){var s=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/DeleteVectors`,i,{headers:s.headers})||{})}},ix=class extends Fn{constructor(i,s={},l){const r=i.replace(/\/$/,""),u=fe(fe({},ul),{},{"Content-Type":"application/json"},s);super(r,u,l,"vectors")}async createBucket(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{})}async getBucket(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:i},{headers:s.headers}))}async listBuckets(i={}){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/ListVectorBuckets`,i,{headers:s.headers}))}async deleteBucket(i){var s=this;return s.handleOperation(async()=>await Yt.post(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{})}},lx=class extends ix{constructor(i,s={}){super(i,s.headers||{},s.fetch)}from(i){return new rx(this.url,this.headers,i,this.fetch)}async createBucket(i){var s=()=>super.createBucket,l=this;return s().call(l,i)}async getBucket(i){var s=()=>super.getBucket,l=this;return s().call(l,i)}async listBuckets(i={}){var s=()=>super.listBuckets,l=this;return s().call(l,i)}async deleteBucket(i){var s=()=>super.deleteBucket,l=this;return s().call(l,i)}},rx=class extends sx{constructor(i,s,l,r){super(i,s,r),this.vectorBucketName=l}async createIndex(i){var s=()=>super.createIndex,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var s=()=>super.listIndexes,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var s=()=>super.getIndex,l=this;return s().call(l,l.vectorBucketName,i)}async deleteIndex(i){var s=()=>super.deleteIndex,l=this;return s().call(l,l.vectorBucketName,i)}index(i){return new ox(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},ox=class extends nx{constructor(i,s,l,r,u){super(i,s,u),this.vectorBucketName=l,this.indexName=r}async putVectors(i){var s=()=>super.putVectors,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var s=()=>super.getVectors,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var s=()=>super.listVectors,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var s=()=>super.queryVectors,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var s=()=>super.deleteVectors,l=this;return s().call(l,fe(fe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},cx=class extends tx{constructor(i,s={},l,r){super(i,s,l,r)}from(i){return new Fy(this.url,this.headers,i,this.fetch)}get vectors(){return new lx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ax(this.url+"/iceberg",this.headers,this.fetch)}};const ux="2.39.3";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const dx={"X-Client-Info":`supabase-js-${Fi}/${ux}`};var fx=function(i,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function g(y){try{p(r.next(y))}catch(x){h(x)}}function v(y){try{p(r.throw(y))}catch(x){h(x)}}function p(y){y.done?f(y.value):u(y.value).then(g,v)}p((r=r.apply(i,s||[])).next())})};const hx=i=>{let s;return i?s=i:typeof fetch>"u"?s=Y0:s=fetch,(...l)=>s(...l)},mx=()=>typeof Headers>"u"?K0:Headers,gx=(i,s,l)=>{const r=hx(l),u=mx();return(f,h)=>fx(void 0,void 0,void 0,function*(){var g;const v=(g=yield s())!==null&&g!==void 0?g:i;let p=new u(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),r(f,Object.assign(Object.assign({},h),{headers:p}))})};function px(i){return i.replace(/\/$/,"")}function vx(i,s){const{db:l,auth:r,realtime:u,global:f}=i,{db:h,auth:g,realtime:v,global:p}=s;return{db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},g),r),realtime:Object.assign(Object.assign({},v),u),global:Object.assign(Object.assign({},p),f)}}const sg="2.95.3",Qn=30*1e3,zu=3,wu=zu*Qn,bx="http://localhost:9999",yx="supabase.auth.token",xx={"X-Client-Info":`gotrue-js/${sg}`},Du="X-Supabase-Api-Version",ng={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_x=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wx=600*1e3;class ol extends Error{constructor(s,l,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ie(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Sx extends ol{constructor(s,l,r){super(s,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function jx(i){return ie(i)&&i.name==="AuthApiError"}class Ks extends ol{constructor(s,l){super(s),this.name="AuthUnknownError",this.originalError=l}}class Ga extends ol{constructor(s,l,r,u){super(s,r,u),this.name=l,this.status=r}}class Vt extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Su(i){return ie(i)&&i.name==="AuthSessionMissingError"}class $n extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mr extends Ga{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Br extends Ga{constructor(s,l=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nx(i){return ie(i)&&i.name==="AuthImplicitGrantRedirectError"}class m0 extends Ga{constructor(s,l=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kx extends Ga{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uu extends Ga{constructor(s,l){super(s,"AuthRetryableFetchError",l,void 0)}}function ju(i){return ie(i)&&i.name==="AuthRetryableFetchError"}class g0 extends Ga{constructor(s,l,r){super(s,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Mu extends Ga{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p0=` 	
\r=`.split(""),Ex=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<p0.length;s+=1)i[p0[s].charCodeAt(0)]=-2;for(let s=0;s<Kr.length;s+=1)i[Kr[s].charCodeAt(0)]=s;return i})();function v0(i,s,l){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(Kr[r]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;l(Kr[r]),s.queuedBits-=6}}function ig(i,s,l){const r=Ex[i];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)l(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function b0(i){const s=[],l=h=>{s.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},f=h=>{Ox(h,r,l)};for(let h=0;h<i.length;h+=1)ig(i.charCodeAt(h),u,f);return s.join("")}function Ax(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Tx(i,s){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Ax(r,s)}}function Ox(i,s,l){if(s.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&l(s.codepoint)}}function Zn(i){const s=[],l={queue:0,queuedBits:0},r=u=>{s.push(u)};for(let u=0;u<i.length;u+=1)ig(i.charCodeAt(u),l,r);return new Uint8Array(s)}function Cx(i){const s=[];return Tx(i,l=>s.push(l)),new Uint8Array(s)}function Qs(i){const s=[],l={queue:0,queuedBits:0},r=u=>{s.push(u)};return i.forEach(u=>v0(u,l,r)),v0(null,l,r),s.join("")}function Rx(i){return Math.round(Date.now()/1e3)+i}function zx(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},lg=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function Dx(i){const s={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,f)=>{s[f]=u})}catch{}return l.searchParams.forEach((r,u)=>{s[u]=r}),s}const rg=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),Ux=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Xn=async(i,s,l)=>{await i.setItem(s,JSON.stringify(l))},Gs=async(i,s)=>{const l=await i.getItem(s);if(!l)return null;try{return JSON.parse(l)}catch{return l}},xt=async(i,s)=>{await i.removeItem(s)};class Wr{constructor(){this.promise=new Wr.promiseConstructor((s,l)=>{this.resolve=s,this.reject=l})}}Wr.promiseConstructor=Promise;function qr(i){const s=i.split(".");if(s.length!==3)throw new Mu("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!_x.test(s[r]))throw new Mu("JWT not in base64url format");return{header:JSON.parse(b0(s[0])),payload:JSON.parse(b0(s[1])),signature:Zn(s[2]),raw:{header:s[0],payload:s[1]}}}async function Mx(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function Bx(i,s){return new Promise((r,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await i(f);if(!s(f,null,h)){r(h);return}}catch(h){if(!s(f,h)){u(h);return}}})()})}function qx(i){return("0"+i.toString(16)).substr(-2)}function Lx(){const s=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let u="";for(let f=0;f<56;f++)u+=l.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(s),Array.from(s,qx).join("")}async function Hx(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(r);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}async function $x(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await Hx(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(i,s,l=!1){const r=Lx();let u=r;l&&(u+="/PASSWORD_RECOVERY"),await Xn(i,`${s}-code-verifier`,u);const f=await $x(r);return[f,r===f?"plain":"s256"]}const Gx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vx(i){const s=i.headers.get(Du);if(!s||!s.match(Gx))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Yx(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function Kx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(i){if(!Qx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nu(){const i={};return new Proxy(i,{get:(s,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xx(i,s){return new Proxy(i,{get:(l,r,u)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,u)}return!s.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(l,r,u)}})}function y0(i){return JSON.parse(JSON.stringify(i))}const Vs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Jx=[502,503,504];async function x0(i){var s;if(!Ux(i))throw new Uu(Vs(i),0);if(Jx.includes(i.status))throw new Uu(Vs(i),i.status);let l;try{l=await i.json()}catch(f){throw new Ks(Vs(f),f)}let r;const u=Vx(i);if(u&&u.getTime()>=ng["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new g0(Vs(l),i.status,((s=l.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new g0(Vs(l),i.status,l.weak_password.reasons);throw new Sx(Vs(l),i.status||500,r)}const Ix=(i,s,l,r)=>{const u={method:i,headers:(s==null?void 0:s.headers)||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),l))};async function ue(i,s,l,r){var u;const f=Object.assign({},r==null?void 0:r.headers);f[Du]||(f[Du]=ng["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(u=r==null?void 0:r.query)!==null&&u!==void 0?u:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await Zx(i,s,l+g,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function Zx(i,s,l,r,u,f){const h=Ix(s,r,u,f);let g;try{g=await i(l,Object.assign({},h))}catch(v){throw console.error(v),new Uu(Vs(v),0)}if(g.ok||await x0(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(v){await x0(v)}}function ia(i){var s;let l=null;Fx(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=Rx(i.expires_in)));const r=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:l,user:r},error:null}}function _0(i){const s=ia(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(s.data.weak_password=i.weak_password),s}function vs(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function Px(i){return{data:i,error:null}}function Wx(i){const{action_link:s,email_otp:l,hashed_token:r,redirect_to:u,verification_type:f}=i,h=Ir(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:l,hashed_token:r,redirect_to:u,verification_type:f},v=Object.assign({},h);return{data:{properties:g,user:v},error:null}}function w0(i){return i}function Fx(i){return i.access_token&&i.refresh_token&&i.expires_in}const ku=["global","local","others"];class e_{constructor({url:s="",headers:l={},fetch:r}){this.url=s,this.headers=l,this.fetch=rg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,l=ku[0]){if(ku.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ku.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,l={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:vs})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:l}=s,r=Ir(s,["options"]),u=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(u.new_email=r==null?void 0:r.newEmail,delete u.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Wx,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(ie(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(s){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:vs})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async listUsers(s){var l,r,u,f,h,g,v;try{const p={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(u=s==null?void 0:s.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:w0});if(y.error)throw y.error;const x=await y.json(),N=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(v=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return w.length>0&&(w.forEach(T=>{const O=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(T.split(";")[1].split("=")[1]);p[`${q}Page`]=O}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(s){Vn(s);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:vs})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async updateUserById(s,l){Vn(s);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:l,headers:this.headers,xform:vs})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,l=!1){Vn(s);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:l},xform:vs})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){Vn(s.userId);try{const{data:l,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:r}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteFactor(s){Vn(s.userId),Vn(s.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _listOAuthClients(s){var l,r,u,f,h,g,v;try{const p={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(u=s==null?void 0:s.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:w0});if(y.error)throw y.error;const x=await y.json(),N=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(v=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return w.length>0&&(w.forEach(T=>{const O=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(T.split(";")[1].split("=")[1]);p[`${q}Page`]=O}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(s){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _getOAuthClient(s){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _updateOAuthClient(s,l){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(s){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(s){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}}function S0(i={}){return{getItem:s=>i[s]||null,setItem:(s,l)=>{i[s]=l},removeItem:s=>{delete i[s]}}}const Yn={debug:!!(globalThis&&lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class og extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class t_ extends og{}async function a_(i,s,l){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await l()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(s===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new t_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Yn.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function s_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function n_(i){return parseInt(i,16)}function i_(i){const s=new TextEncoder().encode(i);return"0x"+Array.from(s,r=>r.toString(16).padStart(2,"0")).join("")}function l_(i){var s;const{chainId:l,domain:r,expirationTime:u,issuedAt:f=new Date,nonce:h,notBefore:g,requestId:v,resources:p,scheme:y,uri:x,version:N}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((s=i.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=cg(i.address),T=y?`${y}://${r}`:r,O=i.statement?`${i.statement}
`:"",q=`${T} wants you to sign in with your Ethereum account:
${w}

${O}`;let K=`URI: ${x}
Version: ${N}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(u&&(K+=`
Expiration Time: ${u.toISOString()}`),g&&(K+=`
Not Before: ${g.toISOString()}`),v&&(K+=`
Request ID: ${v}`),p){let U=`
Resources:`;for(const B of p){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);U+=`
- ${B}`}K+=U}return`${q}
${K}`}class nt extends Error{constructor({message:s,code:l,cause:r,name:u}){var f;super(s,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=u??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=l}}class Qr extends nt{constructor(s,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:s}),this.name="WebAuthnUnknownError",this.originalError=l}}function r_({error:i,options:s}){var l,r,u;const{publicKey:f}=s;if(!f)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=f.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(s.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=f.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new nt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(ug(h)){if(f.rp.id!==h)return new nt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function o_({error:i,options:s}){const{publicKey:l}=s;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new nt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(ug(r)){if(l.rpId!==r)return new nt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class c_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const u_=new c_;function d_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:s,user:l,excludeCredentials:r}=i,u=Ir(i,["challenge","user","excludeCredentials"]),f=Zn(s).buffer,h=Object.assign(Object.assign({},l),{id:Zn(l.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:f,user:h});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let v=0;v<r.length;v++){const p=r[v];g.excludeCredentials[v]=Object.assign(Object.assign({},p),{id:Zn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function f_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:s,allowCredentials:l}=i,r=Ir(i,["challenge","allowCredentials"]),u=Zn(s).buffer,f=Object.assign(Object.assign({},r),{challenge:u});if(l&&l.length>0){f.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const g=l[h];f.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Zn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function h_(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Qs(new Uint8Array(i.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(s=l.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function m_(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Qs(new Uint8Array(u.authenticatorData)),clientDataJSON:Qs(new Uint8Array(u.clientDataJSON)),signature:Qs(new Uint8Array(u.signature)),userHandle:u.userHandle?Qs(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(s=l.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function ug(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function j0(){var i,s;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function g_(i){try{const s=await navigator.credentials.create(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",s)}:{data:null,error:new Qr("Empty credential response",s)}}catch(s){return{data:null,error:r_({error:s,options:i})}}}async function p_(i){try{const s=await navigator.credentials.get(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",s)}:{data:null,error:new Qr("Empty credential response",s)}}catch(s){return{data:null,error:o_({error:s,options:i})}}}const v_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},b_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xr(...i){const s=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of i)if(u)for(const f in u){const h=u[f];if(h!==void 0)if(Array.isArray(h))r[f]=h;else if(l(h))r[f]=h;else if(s(h)){const g=r[f];s(g)?r[f]=Xr(g,h):r[f]=Xr(h)}else r[f]=h}return r}function y_(i,s){return Xr(v_,i,s||{})}function x_(i,s){return Xr(b_,i,s||{})}class __{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:l,friendlyName:r,signal:u},f){var h;try{const{data:g,error:v}=await this.client.mfa.challenge({factorId:s,webauthn:l});if(!g)return{data:null,error:v};const p=u??u_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:y}=g.webauthn.credential_options.publicKey;if(!y.name){const x=r;if(x)y.name=`${y.id}:${x}`;else{const w=(await this.client.getUser()).data.user,T=((h=w==null?void 0:w.user_metadata)===null||h===void 0?void 0:h.name)||(w==null?void 0:w.email)||(w==null?void 0:w.id)||"User";y.name=`${y.id}:${T}`}}y.displayName||(y.displayName=y.name)}switch(g.webauthn.type){case"create":{const y=y_(g.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:x,error:N}=await g_({publicKey:y,signal:p});return x?{data:{factorId:s,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:x}},error:null}:{data:null,error:N}}case"request":{const y=x_(g.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:x,error:N}=await p_(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:y,signal:p}));return x?{data:{factorId:s,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:x}},error:null}:{data:null,error:N}}}}catch(g){return ie(g)?{data:null,error:g}:{data:null,error:new Ks("Unexpected error in challenge",g)}}}async _verify({challengeId:s,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:s,webauthn:r})}async _authenticate({factorId:s,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},f){if(!l)return{data:null,error:new ol("rpId is required for WebAuthn authentication")};try{if(!j0())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:s,webauthn:{rpId:l,rpOrigins:r},signal:u},{request:f});if(!h)return{data:null,error:g};const{webauthn:v}=h;return this._verify({factorId:s,challengeId:h.challengeId,webauthn:{type:v.type,rpId:l,rpOrigins:r,credential_response:v.credential_response}})}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new Ks("Unexpected error in authenticate",h)}}}async _register({friendlyName:s,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},f){if(!l)return{data:null,error:new ol("rpId is required for WebAuthn registration")};try{if(!j0())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:s});if(!h)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===s&&N.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:g};const{data:v,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:u},{create:f});return v?this._verify({factorId:h.id,challengeId:v.challengeId,webauthn:{rpId:l,rpOrigins:r,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new Ks("Unexpected error in register",h)}}}}s_();const w_={url:bx,storageKey:yx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function N0(i,s,l){return await l()}const Kn={};class cl{get jwks(){var s,l;return(l=(s=Kn[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(s){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,l;return(l=(s=Kn[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{cachedAt:s})}constructor(s){var l,r,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},w_),s);if(this.storageKey=f.storageKey,this.instanceID=(l=cl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&_t()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new e_({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=rg(f.fetch),this.lock=f.lock||N0,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&_t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=a_:this.lock=N0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new __(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:lg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=S0(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=S0(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sg}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let l={},r="none";if(_t()&&(l=Dx(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Nx(f)){const v=(s=f.details)===null||s===void 0?void 0:s.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ie(l)?this._returnResult({error:l}):this._returnResult({error:new Ks("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var l,r,u;try{const f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=s==null?void 0:s.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=s==null?void 0:s.options)===null||u===void 0?void 0:u.captchaToken}},xform:ia}),{data:h,error:g}=f;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(f){if(ie(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(s){var l,r,u;try{let f;if("email"in s){const{email:y,password:x,options:N}=s;let w=null,T=null;this.flowType==="pkce"&&([w,T]=await Gn(this.storage,this.storageKey)),f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:y,password:x,data:(l=N==null?void 0:N.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:w,code_challenge_method:T},xform:ia})}else if("phone"in s){const{phone:y,password:x,options:N}=s;f=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(u=N==null?void 0:N.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:ia})}else throw new Mr("You must provide either an email or phone number and a password");const{data:h,error:g}=f;if(g||!h)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(f){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(s){try{let l;if("email"in s){const{email:f,password:h,options:g}=s;l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_0})}else if("phone"in s){const{phone:f,password:h,options:g}=s;l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_0})}else throw new Mr("You must provide either an email or phone number and a password");const{data:r,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!r||!r.session||!r.user){const f=new $n;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(s){var l,r,u,f;return await this._handleProviderSignIn(s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=s.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:l}=s;switch(l){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(s){var l,r,u,f,h,g,v,p,y,x,N;let w,T;if("message"in s)w=s.message,T=s.signature;else{const{chain:O,wallet:q,statement:K,options:U}=s;let B;if(_t())if(typeof q=="object")B=q;else{const Re=window;if("ethereum"in Re&&typeof Re.ethereum=="object"&&"request"in Re.ethereum&&typeof Re.ethereum.request=="function")B=Re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=q}const P=new URL((l=U==null?void 0:U.url)!==null&&l!==void 0?l:window.location.href),ge=await B.request({method:"eth_requestAccounts"}).then(Re=>Re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=cg(ge[0]);let Q=(r=U==null?void 0:U.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const Re=await B.request({method:"eth_chainId"});Q=n_(Re)}const Ae={domain:P.host,address:Z,statement:K,uri:P.href,version:"1",chainId:Q,nonce:(u=U==null?void 0:U.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(v=U==null?void 0:U.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=U==null?void 0:U.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=l_(Ae),T=await B.request({method:"personal_sign",params:[i_(w),Z]})}try{const{data:O,error:q}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:T},!((x=s.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(N=s.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ia});if(q)throw q;if(!O||!O.session||!O.user){const K=new $n;return this._returnResult({data:{user:null,session:null},error:K})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:q})}catch(O){if(ie(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(s){var l,r,u,f,h,g,v,p,y,x,N,w;let T,O;if("message"in s)T=s.message,O=s.signature;else{const{chain:q,wallet:K,statement:U,options:B}=s;let P;if(_t())if(typeof K=="object")P=K;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))P=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=K}const ge=new URL((l=B==null?void 0:B.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in P&&P.signIn){const Z=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),U?{statement:U}:null));let Q;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")Q=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)Q=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)T=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),O=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ge.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(u=(r=B==null?void 0:B.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((v=B==null?void 0:B.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((x=(y=B==null?void 0:B.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...B.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const Z=await P.signMessage(new TextEncoder().encode(T),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=Z}}try{const{data:q,error:K}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Qs(O)},!((N=s.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(w=s.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ia});if(K)throw K;if(!q||!q.session||!q.user){const U=new $n;return this._returnResult({data:{user:null,session:null},error:U})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:K})}catch(q){if(ie(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async _exchangeCodeForSession(s){const l=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new kx;const{data:f,error:h}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:ia});if(await xt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const g=new $n;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:u??null}),error:h})}catch(f){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(s){try{const{options:l,provider:r,token:u,access_token:f,nonce:h}=s,g=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ia}),{data:v,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v||!v.session||!v.user){const y=new $n;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:p})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(s){var l,r,u,f,h;try{if("email"in s){const{email:g,options:v}=s;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Gn(this.storage,this.storageKey));const{error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in s){const{phone:g,options:v}=s,{data:p,error:y}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=v==null?void 0:v.data)!==null&&u!==void 0?u:{},create_user:(f=v==null?void 0:v.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(h=v==null?void 0:v.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Mr("You must provide either an email or phone number.")}catch(g){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(s){var l,r;try{let u,f;"options"in s&&(u=(l=s.options)===null||l===void 0?void 0:l.redirectTo,f=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:g}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:ia});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,p=h.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(s){var l,r,u,f,h;try{let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Gn(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(l=s.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=s==null?void 0:s.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:v}),headers:this.headers,xform:Px});return!((f=p.data)===null||f===void 0)&&f.url&&_t()&&!(!((h=s.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;if(r)throw r;if(!l)throw new Vt;const{error:u}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const l=`${this.url}/resend`;if("email"in s){const{email:r,type:u,options:f}=s,{error:h}=await ue(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in s){const{phone:r,type:u,options:f}=s,{data:h,error:g}=await ue(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new Mr("You must provide either an email or phone number and a type")}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(s,l){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await s(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const l=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?s=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<wu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.userStorage){const h=await Gs(this.userStorage,this.storageKey+"-user");h!=null&&h.user?s.user=h.user:s.user=Nu()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};s.user=Xx(s.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:u,error:f}=await this._callRefreshToken(s.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(s){try{return s?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:vs}):await this._useSession(async l=>{var r,u,f;const{data:h,error:g}=l;if(g)throw g;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0,xform:vs})})}catch(l){if(ie(l))return Su(l)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(s,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(s,l))}async _updateUser(s,l={}){try{return await this._useSession(async r=>{const{data:u,error:f}=r;if(f)throw f;if(!u.session)throw new Vt;const h=u.session;let g=null,v=null;this.flowType==="pkce"&&s.email!=null&&([g,v]=await Gn(this.storage,this.storageKey));const{data:p,error:y}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:v}),jwt:h.access_token,xform:vs});if(y)throw y;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Vt;const l=Date.now()/1e3;let r=l,u=!0,f=null;const{payload:h}=qr(s.access_token);if(h.exp&&(r=h.exp,u=r<=l),u){const{data:g,error:v}=await this._callRefreshToken(s.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:v}=await this._getUser(s.access_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});f={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async l=>{var r;if(!s){const{data:h,error:g}=l;if(g)throw g;s=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new Vt;const{data:u,error:f}=await this._callRefreshToken(s.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(s,l){try{if(!_t())throw new Br("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Br(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new m0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Br("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new m0("No code detected.");const{data:U,error:B}=await this._exchangeCodeForSession(s.code);if(B)throw B;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:f,refresh_token:h,expires_in:g,expires_at:v,token_type:p}=s;if(!f||!g||!h||!p)throw new Br("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(g);let N=y+x;v&&(N=parseInt(v));const w=N-y;w*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const T=N-x;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,N,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,N,y);const{data:O,error:q}=await this._getUser(f);if(q)throw q;const K={provider_token:r,provider_refresh_token:u,access_token:f,expires_in:x,expires_at:N,refresh_token:h,token_type:p,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:K,redirectType:s.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const l=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&l)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:u,error:f}=l;if(f&&!Su(f))return this._returnResult({error:f});const h=(r=u.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:g}=await this.admin.signOut(h,s);if(g&&!(jx(g)&&(g.status===404||g.status===401||g.status===403)||Su(g)))return this._returnResult({error:g})}return s!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const l=zx(),r={id:l,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async l=>{var r,u;try{const{data:{session:f},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",s,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",f),console.error(f)}})}async resetPasswordForEmail(s,l={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await Gn(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var s;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(s=l.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var l;try{const{data:r,error:u}=await this._useSession(async f=>{var h,g,v,p,y;const{data:x,error:N}=f;if(N)throw N;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(v=s.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return _t()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:s.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:s.provider,url:null},error:r});throw r}}async linkIdentityIdToken(s){return await this._useSession(async l=>{var r;try{const{error:u,data:{session:f}}=l;if(u)throw u;const{options:h,provider:g,token:v,access_token:p,nonce:y}=s,x=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f==null?void 0:f.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:v,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ia}),{data:N,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new $n}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:w}))}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(s){try{return await this._useSession(async l=>{var r,u;const{data:f,error:h}=l;if(h)throw h;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(s){const l=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Bx(async u=>(u>0&&await Mx(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:ia})),(u,f)=>{const h=200*Math.pow(2,u);return f&&ju(f)&&Date.now()+h-r<Qn})}catch(r){if(this._debug(l,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",l,"url",r),_t()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await Gs(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Xn(this.userStorage,this.storageKey+"-user",h)),u.user=(s=h==null?void 0:h.user)!==null&&s!==void 0?s:Nu()}else if(u&&!u.user&&!u.user){const h=await Gs(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await xt(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,u)):u.user=Nu()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const f=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<wu;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${wu}s`),f){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),ju(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(u.access_token);!g&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var l,r;if(!s)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Wr;const{data:f,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!f.session)throw new Vt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(u,"error",f),ie(f)){const h={data:null,error:f};return ju(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,l,r=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:l});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,l)}catch(v){f.push(v)}});if(await Promise.all(h),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},s),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const f=y0(u);await Xn(this.storage,this.storageKey,f)}else{const u=y0(l);await Xn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-s)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Qn}ms, refresh threshold is ${zu} ticks`),u<=zu&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof og)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(s){this._debug("#visibilityChangedCallback","error",s)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const l=`#_onVisibilityChanged(${s})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,l,r){const u=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await Gn(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(g.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);u.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;return f?this._returnResult({data:null,error:f}):await ue(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(s){try{return await this._useSession(async l=>{var r,u;const{data:f,error:h}=l;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:v,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(s.factorType==="totp"&&v.type==="totp"&&(!((u=v==null?void 0:v.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _verify(s){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?h_(s.webauthn.credential_response):m_(s.webauthn.credential_response)})}:{code:s.code}),{data:g,error:v}=await ue(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:v}))})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(s){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:u,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=await ue(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:d_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:f_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(s){const{data:l,error:r}=await this._challenge({factorId:s.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:s.factorId,challengeId:l.id,code:s.code})}async _listFactors(){var s;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const f of(s=l==null?void 0:l.factors)!==null&&s!==void 0?s:[])u.all.push(f),f.status==="verified"&&u[f.factor_type].push(f);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(s){var l,r,u,f;if(s)try{const{payload:w}=qr(s);let T=null;w.aal&&(T=w.aal);let O=T;const{data:{user:q},error:K}=await this.getUser(s);if(K)return this._returnResult({data:null,error:K});((r=(l=q==null?void 0:q.factors)===null||l===void 0?void 0:l.filter(P=>P.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(O="aal2");const B=w.amr||[];return{data:{currentLevel:T,nextLevel:O,currentAuthenticationMethods:B},error:null}}catch(w){if(ie(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:h},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=qr(h.access_token);let p=null;v.aal&&(p=v.aal);let y=p;((f=(u=h.user.factors)===null||u===void 0?void 0:u.filter(w=>w.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(y="aal2");const N=v.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(s,l){try{return await this._useSession(async r=>{const{data:{session:u},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!u)return this._returnResult({data:null,error:new Vt});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(s,l){try{return await this._useSession(async r=>{const{data:{session:u},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!u)return this._returnResult({data:null,error:new Vt});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&_t()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:l},error:r}=s;return r?this._returnResult({data:null,error:r}):l?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async l=>{const{data:{session:r},error:u}=l;return u?this._returnResult({data:null,error:u}):r?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(s,l={keys:[]}){let r=l.keys.find(g=>g.kid===s);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(g=>g.kid===s),r&&this.jwks_cached_at+wx>u)return r;const{data:f,error:h}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=u,r=f.keys.find(g=>g.kid===s),!r)?null:r}async getClaims(s,l={}){try{let r=s;if(!r){const{data:w,error:T}=await this.getSession();if(T||!w.session)return this._returnResult({data:null,error:T});r=w.session.access_token}const{header:u,payload:f,signature:h,raw:{header:g,payload:v}}=qr(r);l!=null&&l.allowExpired||Yx(f.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!p){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:f,header:u,signature:h},error:null}}const y=Kx(u.alg),x=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,h,Cx(`${g}.${v}`)))throw new Mu("Invalid JWT signature");return{data:{claims:f,header:u,signature:h},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}cl.nextInstanceID={};class S_ extends cl{constructor(s){super(s)}}var j_=function(i,s,l,r){function u(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function g(y){try{p(r.next(y))}catch(x){h(x)}}function v(y){try{p(r.throw(y))}catch(x){h(x)}}function p(y){y.done?f(y.value):u(y.value).then(g,v)}p((r=r.apply(i,s||[])).next())})};const N_={headers:dx},k_={schema:"public"},E_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A_={};class T_{constructor(s,l,r){var u,f,h,g,v,p,y,x;if(this.supabaseUrl=s,this.supabaseKey=l,this.from=q=>this.rest.from(q),this.schema=q=>this.rest.schema(q),this.rpc=(q,K={},U)=>this.rest.rpc(q,K,U),!s)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const N=px(s);this.realtimeUrl=`${N}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${N}/auth/v1`,this.storageUrl=`${N}/storage/v1`,this.functionsUrl=`${N}/functions/v1`;const w=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,T={db:k_,realtime:A_,auth:Object.assign(Object.assign({},E_),{storageKey:w}),global:N_},O=vx(r??{},T);this.storageKey=(f=(u=O.auth)===null||u===void 0?void 0:u.storageKey)!==null&&f!==void 0?f:"",this.headers=(g=(h=O.global)===null||h===void 0?void 0:h.headers)!==null&&g!==void 0?g:{},this.auth=this._initSupabaseAuthClient((v=O.auth)!==null&&v!==void 0?v:{},this.headers,(p=O.global)===null||p===void 0?void 0:p.fetch),this.fetch=gx(l,this._getAccessToken.bind(this),(y=O.global)===null||y===void 0?void 0:y.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},O.realtime)),this.rest=new py(`${N}/rest/v1`,{headers:this.headers,schema:(x=O.db)===null||x===void 0?void 0:x.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new iy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cx(this.storageUrl,this.headers,this.fetch)}channel(s,l={config:{}}){return this.realtime.channel(s,l)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,l;return j_(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(l=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:u,storageKey:f,flowType:h,debug:g},v,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S_({url:this.authUrl,headers:Object.assign(Object.assign({},y),v),storageKey:f,autoRefreshToken:s,persistSession:l,detectSessionInUrl:r,storage:u,flowType:h,debug:g,fetch:p})}_initRealtimeClient(s){return new zy(this.realtimeUrl,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,l,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):s==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O_=(i,s,l)=>new T_(i,s,l),C_="https://znpsiawxdtcjyalfkmqn.supabase.co",R_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucHNpYXd4ZHRjanlhbGZrbXFuIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NzkxMjg5NCwiZXhwIjoyMDgzNDg4ODk0fQ.IET4CBOzZXUhWGNXji7H3zwiixB9h8wgUIidCd7jr-Q",F=O_(C_,R_),oa=i=>i?{id:i.id,name:i.name||"",email:i.email,role:i.role||Nt.STUDENT,grade:i.grade,avatar:i.avatar_url||`https://api.dicebear.com/7.x/initials/svg?seed=${i.id}`,bio:i.bio}:{id:"",name:"",email:"",role:Nt.STUDENT,avatar:"https://api.dicebear.com/7.x/initials/svg?seed=unknown",bio:""},z_=async()=>{const{data:{session:i}}=await F.auth.getSession();if(!i)return null;const{data:s}=await F.from("profiles").select("*").eq("id",i.user.id).single();return s?oa(s):{id:i.user.id,name:i.user.user_metadata.name||"User",role:i.user.user_metadata.role||Nt.STUDENT,grade:i.user.user_metadata.grade,avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${i.user.email}`,email:i.user.email}},D_=async(i,s)=>{const{data:l,error:r}=await F.from("profiles").update({name:s.name,grade:s.grade,bio:s.bio,avatar_url:s.avatar}).eq("id",i).select().single();if(r)throw r;return oa(l)},k0="post",E0="images",A0="portfolio",U_=async i=>{var f;const s=((f=i.name.split(".").pop())==null?void 0:f.toLowerCase())||"jpg",l=`${Date.now()}_${Math.random().toString(36).slice(2)}.${s}`,{error:r}=await F.storage.from(k0).upload(l,i,{upsert:!1});if(r)throw r;const{data:u}=F.storage.from(k0).getPublicUrl(l);return u.publicUrl},M_=async(i,s)=>U_(i),B_=async(i,s)=>{var h;const l=((h=s.name.split(".").pop())==null?void 0:h.toLowerCase())||"jpg",r=`${i}/${Date.now()}_${Math.random().toString(36).slice(2)}.${l}`,{error:u}=await F.storage.from(A0).upload(r,s,{upsert:!1});if(u)throw u;const{data:f}=F.storage.from(A0).getPublicUrl(r);return f.publicUrl},q_=async(i,s)=>{var h;const l=((h=s.name.split(".").pop())==null?void 0:h.toLowerCase())||"jpg",r=`avatars/${i}_${Date.now()}.${l}`,{error:u}=await F.storage.from(E0).upload(r,s,{upsert:!0});if(u)throw u;const{data:f}=F.storage.from(E0).getPublicUrl(r);return f.publicUrl},T0=async()=>{const{data:i,error:s}=await F.from("posts").select(`
      *,
      author:profiles(*),
      likes:likes(count),
      comments:comments(count)
    `).order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>{var r,u,f,h;return{id:l.id,author:oa(l.author??null),content:l.content,images:l.images||[],isAnnouncement:l.is_announcement,timestamp:new Date(l.created_at).toLocaleString("uk-UA",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),likes:((u=(r=l.likes)==null?void 0:r[0])==null?void 0:u.count)||0,commentsCount:((h=(f=l.comments)==null?void 0:f[0])==null?void 0:h.count)||0}})},L_=async(i,s,l,r)=>{const{data:u,error:f}=await F.from("posts").insert({author_id:i,content:s,images:l,is_announcement:r}).select("*, author:profiles(*)").single();if(f)throw f;return u},O0=async()=>{const{data:i,error:s}=await F.from("startups").select("*, author:profiles(*)").in("status",["pending","accepted"]).order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,author:oa(l.author??null),title:l.title,description:l.description,goal:l.goal,currentSupport:l.current_support??0,tags:l.tags||[],status:l.status||"pending"}))},C0=async i=>{const{data:s,error:l}=await F.from("startup_votes").select("startup_id").eq("user_id",i);return l?new Set:new Set((s||[]).map(r=>r.startup_id))},H_=async(i,s)=>{const{data:l}=await F.from("startup_votes").select("id").eq("startup_id",i).eq("user_id",s).maybeSingle();l?await F.from("startup_votes").delete().eq("startup_id",i).eq("user_id",s):await F.from("startup_votes").insert({startup_id:i,user_id:s});const{count:r}=await F.from("startup_votes").select("*",{count:"exact",head:!0}).eq("startup_id",i),u=r??0;return await F.from("startups").update({current_support:u}).eq("id",i),{currentSupport:u}},R0=async(i,s,l)=>{if(!wt(l))throw new Error(" ");const{error:r}=await F.from("startups").update({status:s}).eq("id",i);if(r)throw r},$_=async(i,s)=>{if(!wt(s))throw new Error(" ");const{error:l}=await F.from("startups").delete().eq("id",i);if(l)throw l},G_=async(i,s)=>{const{error:l}=await F.from("startups").insert({author_id:i,title:s.title,description:s.description,goal:s.goal,tags:s.tags,current_support:0,status:"pending"});if(l)throw l},z0=async()=>{const{data:i,error:s}=await F.from("lost_items").select("*, author:profiles(*)").order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,author:oa(l.author??null),title:l.title,description:l.description,status:l.status,date:new Date(l.created_at).toLocaleDateString("uk-UA"),image:l.image,contactInfo:l.contact_info}))},V_=async(i,s)=>{const{error:l}=await F.from("lost_items").insert({author_id:i,title:s.title,description:s.description,status:s.status,image:s.image,contact_info:s.contactInfo});if(l)throw l},Y_=async(i,s,l,r)=>{const{data:u}=await F.from("lost_items").select("author_id").eq("id",i).single();if(!u)throw new Error("  ");const f=wt(r);if(!(u.author_id===l)&&!f)throw new Error(" ");const{error:g}=await F.from("lost_items").update({status:s}).eq("id",i);if(g)throw g},K_=async(i,s,l)=>{const{data:r}=await F.from("lost_items").select("author_id").eq("id",i).single();if(!r)throw new Error("  ");const u=wt(l);if(!(r.author_id===s)&&!u)throw new Error("   ");const{error:h}=await F.from("lost_items").delete().eq("id",i);if(h)throw h},D0=async i=>{const{data:s,error:l}=await F.from("likes").select("post_id").eq("user_id",i);return l?new Set:new Set((s||[]).map(r=>r.post_id))},Q_=async(i,s)=>{const{data:l}=await F.from("likes").select("id").eq("post_id",i).eq("user_id",s).maybeSingle();l?await F.from("likes").delete().eq("post_id",i).eq("user_id",s):await F.from("likes").insert({post_id:i,user_id:s});const{count:r}=await F.from("likes").select("*",{count:"exact",head:!0}).eq("post_id",i);return{likes:r??0}},U0=async i=>{const{data:s,error:l}=await F.from("comments").select("*, author:profiles(*)").eq("post_id",i).order("created_at",{ascending:!0});if(l)throw l;return(s||[]).map(r=>({id:r.id,author:oa(r.author??null),text:r.text,timestamp:new Date(r.created_at).toLocaleString("uk-UA")}))},X_=async(i,s,l)=>{const{data:r}=await F.from("posts").select("author_id").eq("id",i).single();if(!r)throw new Error("  ");const u=wt(l);if(!(r.author_id===s)&&!u)throw new Error("   ");const{error:h}=await F.from("posts").delete().eq("id",i);if(h)throw h},J_=async(i,s,l)=>{const{data:r}=await F.from("comments").select("author_id").eq("id",i).single();if(!r)throw new Error("  ");const u=wt(l);if(!(r.author_id===s)&&!u)throw new Error("   ");const{error:h}=await F.from("comments").delete().eq("id",i);if(h)throw h},I_=async(i,s,l)=>{const{data:r,error:u}=await F.from("comments").insert({post_id:s,author_id:i,text:l}).select("*, author:profiles(*)").single();if(u)throw u;return{id:r.id,author:oa(r.author??null),text:r.text,timestamp:""}},Z_=async i=>{if(!i.trim())return[];const s=i.trim().replace(/%/g,"").slice(0,50);if(!s)return[];const{data:l,error:r}=await F.from("profiles").select("*").or(`name.ilike.%${s}%,grade.ilike.%${s}%`).limit(30);return r?[]:(l||[]).map(u=>oa(u))},P_=async i=>{const{error:s}=await F.from("trust_box").insert({message:i});if(s)throw s},M0=async()=>{const{data:i,error:s}=await F.from("trust_box").select("id, message, created_at").order("created_at",{ascending:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,message:l.message,created_at:new Date(l.created_at).toLocaleString("uk-UA",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}))},dg=async()=>{const{data:i,error:s}=await F.from("bell_schedule").select("*").order("lesson_number",{ascending:!0});if(s)throw s;return(i||[]).map(l=>({id:l.id,lesson_number:l.lesson_number,start_time:l.start_time?String(l.start_time).slice(0,5):"",end_time:l.end_time?String(l.end_time).slice(0,5):"",name:l.name||void 0}))},fg=async(i,s)=>{if(!wt(s))throw new Error(" ");for(const l of i){const{error:r}=await F.from("bell_schedule").upsert({lesson_number:l.lesson_number,start_time:l.start_time,end_time:l.end_time,name:l.name||null},{onConflict:"lesson_number"});if(r)throw r}},hg=async()=>{const{data:i,error:s}=await F.from("events").select("*").order("event_date",{ascending:!0}).order("event_time",{ascending:!0,nullsFirst:!1});if(s)throw s;return(i||[]).map(l=>({id:l.id,title:l.title,event_date:l.event_date,event_time:l.event_time?String(l.event_time).slice(0,5):void 0,description:l.description||void 0,created_at:l.created_at}))},mg=async(i,s,l)=>{if(!wt(l))throw new Error(" ");const{data:r,error:u}=await F.from("events").insert({title:i.title,event_date:i.event_date,event_time:i.event_time||null,description:i.description||null,created_by:s}).select().single();if(u)throw u;return{id:r.id,title:r.title,event_date:r.event_date,event_time:r.event_time?String(r.event_time).slice(0,5):void 0,description:r.description||void 0,created_at:r.created_at}},gg=async(i,s,l)=>{if(!wt(l))throw new Error(" ");const{error:r}=await F.from("events").update({title:s.title,event_date:s.event_date,event_time:s.event_time??null,description:s.description??null}).eq("id",i);if(r)throw r},pg=async(i,s)=>{if(!wt(s))throw new Error(" ");const{error:l}=await F.from("events").delete().eq("id",i);if(l)throw l},W_=async i=>{const{data:s}=await F.from("posts").select("id, content").eq("author_id",i);if(!(s!=null&&s.length))return[];const l=s.map(g=>g.id),r={};s.forEach(g=>{var v;r[g.id]=(g.content||"").slice(0,50)+(((v=g.content)==null?void 0:v.length)>50?"...":"")});const u=[],{data:f}=await F.from("likes").select("id, post_id, user_id, created_at").in("post_id",l).neq("user_id",i).order("created_at",{ascending:!1}).limit(50);if(f!=null&&f.length){const g=[...new Set(f.map(y=>y.user_id))],{data:v}=await F.from("profiles").select("*").in("id",g),p=new Map((v||[]).map(y=>[y.id,oa(y)]));for(const y of f){const x=p.get(y.user_id);if(x){const N=new Date(y.created_at).getTime();u.push({id:`like-${y.id}`,type:"like",postId:y.post_id,postPreview:r[y.post_id]||"",actor:x,timestamp:new Date(y.created_at).toLocaleString("uk-UA",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),_sortAt:N})}}}const{data:h}=await F.from("comments").select("id, post_id, author_id, text, created_at").in("post_id",l).neq("author_id",i).order("created_at",{ascending:!1}).limit(50);if(h!=null&&h.length){const g=[...new Set(h.map(y=>y.author_id))],{data:v}=await F.from("profiles").select("*").in("id",g),p=new Map((v||[]).map(y=>[y.id,oa(y)]));for(const y of h){const x=p.get(y.author_id);if(x){const N=new Date(y.created_at).getTime();u.push({id:`comment-${y.id}`,type:"comment",postId:y.post_id,postPreview:r[y.post_id]||"",actor:x,text:y.text,timestamp:new Date(y.created_at).toLocaleString("uk-UA",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),_sortAt:N})}}}return u.sort((g,v)=>v._sortAt-g._sortAt),u.slice(0,50).map(({_sortAt:g,...v})=>v)},F_=async i=>{const{data:s,error:l}=await F.from("portfolio_items").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(l)throw l;return(s||[]).map(r=>({id:r.id,user_id:r.user_id,type:r.type,reference_id:r.reference_id??null,title:r.title,image_url:r.image_url??null,created_at:r.created_at}))},e2=async(i,s)=>{const{data:l,error:r}=await F.from("portfolio_items").insert({user_id:i,type:s.type,reference_id:null,title:s.title,image_url:s.image_url??null}).select().single();if(r)throw r;return{id:l.id,user_id:l.user_id,type:l.type,reference_id:l.reference_id??null,title:l.title,image_url:l.image_url??null,created_at:l.created_at}},t2=async(i,s)=>{const{error:l}=await F.from("portfolio_items").delete().eq("id",i).eq("user_id",s);if(l)throw l},a2=async(i,s)=>{const{data:l,error:r}=await F.from("mood_logs").insert({user_id:i,mood:s}).select().single();if(r)throw r;return{id:l.id,user_id:l.user_id,mood:l.mood,created_at:l.created_at}},s2=async i=>{const s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999),{count:u,error:f}=await F.from("mood_logs").select("*",{count:"exact",head:!0}).eq("user_id",i).gte("created_at",l.toISOString()).lte("created_at",r.toISOString());return f?!1:(u??0)>0},n2=async(i,s,l)=>{const{data:r,error:u}=await F.from("startup_team_requests").insert({startup_id:i,user_id:s,message:l.trim()||null,status:"pending"}).select().single();if(u)throw u;return{id:r.id,startup_id:r.startup_id,user_id:r.user_id,message:r.message??null,status:r.status,created_at:r.created_at}},i2=async i=>{const{data:s,error:l}=await F.from("startup_team_requests").select("*, applicant:profiles!user_id(*)").eq("startup_id",i).order("created_at",{ascending:!1});if(l)throw l;return(s||[]).map(r=>({id:r.id,startup_id:r.startup_id,user_id:r.user_id,message:r.message??null,status:r.status,created_at:r.created_at,applicant:r.applicant?oa(r.applicant):void 0}))},l2=async(i,s,l)=>{const{data:r}=await F.from("startup_team_requests").select("startup_id").eq("id",i).single();if(!r)throw new Error("  ");const{data:u}=await F.from("startups").select("author_id").eq("id",r.startup_id).single();if(!u||u.author_id!==l)throw new Error(" ");const{error:f}=await F.from("startup_team_requests").update({status:s}).eq("id",i);if(f)throw f},B0=async i=>{const{data:s,error:l}=await F.from("startup_team_requests").select("*").eq("user_id",i);if(l)return new Map;const r=new Map;return(s||[]).forEach(u=>{r.set(u.startup_id,{id:u.id,startup_id:u.startup_id,user_id:u.user_id,message:u.message??null,status:u.status,created_at:u.created_at})}),r},r2=async i=>{const{count:s,error:l}=await F.from("startup_team_requests").select("*",{count:"exact",head:!0}).eq("startup_id",i).eq("status","pending");return l?0:s??0},o2=async()=>{const i=new Date().toISOString().slice(0,10),{data:s}=await F.from("events").select("*").gte("event_date",i).order("event_date",{ascending:!0}).limit(10);if(!(s!=null&&s.length))return null;const l=new Date;for(const r of s){const u=new Date(r.event_date);if(r.event_time){const[f,h]=String(r.event_time).slice(0,5).split(":").map(Number);u.setHours(f??0,h??0,0,0)}else u.setHours(0,0,0,0);if(u>=l)return{id:r.id,title:r.title,event_date:r.event_date,event_time:r.event_time?String(r.event_time).slice(0,5):void 0,description:r.description||void 0,created_at:r.created_at}}return null},c2=({currentUser:i,onSuccess:s,onError:l})=>{const[r,u]=D.useState(""),[f,h]=D.useState(!1),[g,v]=D.useState([]),[p,y]=D.useState(!1),x=i&&wt(i.role);D.useEffect(()=>{x&&(y(!0),M0().then(v).catch(()=>l==null?void 0:l("   ")).finally(()=>y(!1)))},[x]);const N=async w=>{if(w.preventDefault(),!!r.trim()){h(!0);try{if(await P_(r),u(""),s==null||s("  "),x){const T=await M0();v(T)}}catch{l==null||l(" ")}finally{h(!1)}}};return d.jsxs("div",{className:"bg-white dark:bg-[#171717] rounded-2xl p-6 border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Jr,{size:24})}),d.jsx("h2",{className:"text-xl font-semibold text-[#262626] dark:text-[#fafafa]",children:" "}),d.jsx("p",{className:"text-sm text-[#8e8e8e] dark:text-[#a3a3a3] mt-1 max-w-xs mx-auto",children:"   ,    .     '."})]}),d.jsxs("form",{onSubmit:N,children:[d.jsx("div",{className:"relative mb-4",children:d.jsx("textarea",{value:r,onChange:w=>u(w.target.value),placeholder:"  ?    ?",className:"w-full p-4 bg-[#fafafa] dark:bg-[#262626] border border-[#efefef] dark:border-[#404040] rounded-xl focus:ring-2 focus:ring-emerald-500/50 focus:outline-none min-h-[150px] text-sm text-[#262626] dark:text-[#fafafa] placeholder-[#737373] dark:placeholder-[#a3a3a3] resize-none"})}),d.jsxs(Me,{type:"submit",disabled:!r.trim()||f,isLoading:f,className:"w-full bg-emerald-600 hover:bg-emerald-700 gap-2",children:[d.jsx(V0,{size:16})," "]})]}),x&&d.jsxs("div",{className:"mt-8 pt-6 border-t border-[#efefef] dark:border-[#404040]",children:[d.jsxs("h3",{className:"font-semibold text-[#262626] dark:text-[#fafafa] mb-3 flex items-center gap-2",children:[d.jsx(cb,{size:18}),"  "]}),p?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx(At,{className:"animate-spin text-emerald-600 dark:text-emerald-400",size:24})}):g.length===0?d.jsx("p",{className:"text-sm text-[#8e8e8e] dark:text-[#a3a3a3] py-4",children:"  "}):d.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:g.map(w=>d.jsxs("div",{className:"bg-[#fafafa] dark:bg-[#262626] rounded-xl p-4 border border-[#efefef] dark:border-[#404040] text-sm text-[#262626] dark:text-[#fafafa]",children:[d.jsx("p",{className:"whitespace-pre-wrap",children:w.message}),d.jsx("p",{className:"text-xs text-[#8e8e8e] dark:text-[#a3a3a3] mt-2",children:w.created_at})]},w.id))})]})]})},u2={post:"",startup:"",certificate:""},d2=({userId:i,onClose:s,onSuccess:l,onError:r})=>{const[u,f]=D.useState("certificate"),[h,g]=D.useState(""),[v,p]=D.useState(null),[y,x]=D.useState(null),[N,w]=D.useState(!1),T=q=>{var U;const K=(U=q.target.files)==null?void 0:U[0];!K||!K.type.startsWith("image/")||(p(K),x(URL.createObjectURL(K)))},O=async()=>{if(!h.trim()){r("  ");return}if(u==="certificate"&&!v){r("  ");return}w(!0);try{let q=null;v&&(q=await B_(i,v)),await e2(i,{type:u,reference_id:null,title:h.trim(),image_url:q}),l(),s()}catch(q){console.error("AddPortfolioModal:",q),r("  .   .")}finally{w(!1)}};return d.jsxs("div",{className:"fixed inset-0 z-[70] flex items-end md:items-center justify-center p-0 md:p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:s}),d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] w-full md:max-w-md rounded-t-3xl md:rounded-2xl shadow-2xl p-6 animate-slide-up border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa]",children:" "}),d.jsx("button",{onClick:s,className:"p-2 bg-slate-100 dark:bg-[#262626] rounded-full text-slate-500 hover:bg-slate-200 dark:hover:bg-[#404040]",children:d.jsx(pa,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 block mb-2",children:""}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:["certificate","post","startup"].map(q=>d.jsx("button",{onClick:()=>f(q),className:`px-4 py-2 text-sm font-semibold rounded-full transition-colors ${u===q?"bg-[#0095f6] text-white":"bg-[#efefef] dark:bg-[#262626] text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-[#e0e0e0] dark:hover:bg-[#404040]"}`,children:u2[q]},q))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 block mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-[#262626] border border-slate-200 dark:border-[#404040] rounded-xl p-3 text-sm focus:ring-2 focus:ring-[#0095f6] focus:outline-none text-slate-900 dark:text-[#fafafa] placeholder-slate-400",placeholder:":   ",value:h,onChange:q=>g(q.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 block mb-2",children:""}),d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 bg-slate-50 dark:bg-[#262626] border-2 border-dashed border-slate-200 dark:border-[#404040] rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-[#404040] transition-colors",children:[y?d.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover rounded-xl"}):d.jsxs(d.Fragment,{children:[d.jsx($r,{size:32,className:"text-slate-400 mb-2"}),d.jsx("span",{className:"text-sm text-slate-500 dark:text-[#a3a3a3] font-medium",children:"  "})]}),d.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T})]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-6",children:[d.jsx(Me,{variant:"secondary",className:"flex-1",onClick:s,disabled:N,children:""}),d.jsx(Me,{className:"flex-1",onClick:O,disabled:N,isLoading:N,children:N?d.jsx(At,{size:18,className:"animate-spin"}):""})]})]})]})},f2={post:"",startup:"",certificate:""},h2=({user:i,isOwnProfile:s,onToast:l})=>{const[r,u]=D.useState([]),[f,h]=D.useState(!0),[g,v]=D.useState(!1),[p,y]=D.useState(null),x=async()=>{h(!0);try{const w=await F_(i.id);u(w)}catch(w){console.error("PortfolioTab load:",w),l("error","   ")}finally{h(!1)}};D.useEffect(()=>{x()},[i.id]);const N=async w=>{if(confirm("  ?")){y(w.id);try{await t2(w.id,i.id),u(T=>T.filter(O=>O.id!==w.id)),l("success"," ")}catch(T){console.error("PortfolioTab delete:",T),l("error","  ")}finally{y(null)}}};return f?d.jsx("div",{className:"flex justify-center py-12",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})}):d.jsxs("div",{className:"animate-fade-in",children:[s&&d.jsxs(Me,{onClick:()=>v(!0),className:"w-full mb-4 gap-2",children:[d.jsx(Jn,{size:18})," "]}),r.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#404040] border-dashed",children:[d.jsx($r,{size:48,className:"mx-auto text-slate-300 dark:text-[#404040] mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-[#a3a3a3] font-medium mb-1",children:" "}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-[#737373] mb-4",children:s?" ,   ":"    "}),s&&d.jsxs(Me,{variant:"secondary",onClick:()=>v(!0),className:"gap-2",children:[d.jsx(Jn,{size:16}),"  "]})]}):d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:r.map(w=>d.jsxs("div",{className:"relative group bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#404040] overflow-hidden aspect-square",children:[d.jsx("div",{className:"absolute inset-0",children:w.image_url?d.jsx("img",{src:w.image_url,alt:w.title,className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50 dark:bg-[#262626]",children:d.jsx($r,{size:32,className:"text-slate-300 dark:text-[#404040]"})})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase text-white/90",children:f2[w.type]||w.type}),d.jsx("p",{className:"text-sm font-bold truncate",children:w.title})]}),s&&d.jsx("button",{onClick:()=>N(w),disabled:p===w.id,className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full hover:bg-rose-600 transition-colors opacity-0 group-hover:opacity-100 disabled:opacity-50",children:p===w.id?d.jsx(At,{size:14,className:"animate-spin"}):d.jsx(ga,{size:14})})]},w.id))}),g&&d.jsx(d2,{userId:i.id,onClose:()=>v(!1),onSuccess:()=>{x(),l("success"," ")},onError:l})]})},m2=[{value:"great",emoji:"",label:""},{value:"good",emoji:"",label:""},{value:"neutral",emoji:"",label:""},{value:"sad",emoji:"",label:""},{value:"angry",emoji:"",label:""}],g2=({onSelect:i,onClose:s})=>{const[l,r]=D.useState(!1),[u,f]=D.useState(null),h=async g=>{if(!l){f(g),r(!0);try{await i(g)}finally{r(!1)}}};return d.jsxs("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 safe-area-pb",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:s}),d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] w-full max-w-sm rounded-2xl shadow-2xl p-6 animate-slide-up border border-[#efefef] dark:border-[#404040]",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa] text-center mb-2",children:" "}),d.jsx("p",{className:"text-slate-600 dark:text-[#a3a3a3] text-center text-sm mb-6",children:"   ?"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:m2.map(({value:g,emoji:v,label:p})=>d.jsxs("button",{onClick:()=>h(g),disabled:l,className:`flex flex-col items-center gap-1.5 p-4 rounded-2xl border-2 transition-all min-w-[70px] ${u===g?"border-[#0095f6] bg-[#e0f4ff] dark:bg-indigo-900/30 scale-105":"border-[#efefef] dark:border-[#404040] hover:border-[#0095f6]/50 hover:bg-slate-50 dark:hover:bg-[#262626]"} ${l?"opacity-70 pointer-events-none":""}`,children:[d.jsx("span",{className:"text-3xl",children:v}),d.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-[#a3a3a3]",children:p})]},g))}),l&&d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:24})})]})]})},p2=({startup:i,userId:s,onClose:l,onSuccess:r,onError:u})=>{const[f,h]=D.useState(""),[g,v]=D.useState(!1),p=async()=>{var y;v(!0);try{await n2(i.id,s,f),r(),l()}catch(x){console.error("JoinTeamModal:",x),(y=x==null?void 0:x.message)!=null&&y.includes("duplicate")||(x==null?void 0:x.code)==="23505"?u("      "):u("   .   .")}finally{v(!1)}};return d.jsxs("div",{className:"fixed inset-0 z-[70] flex items-end md:items-center justify-center p-0 md:p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:l}),d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] w-full md:max-w-md rounded-t-3xl md:rounded-2xl shadow-2xl p-6 animate-slide-up border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa]",children:"  "}),d.jsx("button",{onClick:l,className:"p-2 bg-slate-100 dark:bg-[#262626] rounded-full text-slate-500 hover:bg-slate-200 dark:hover:bg-[#404040]",children:d.jsx(pa,{size:20})})]}),d.jsx("p",{className:"text-slate-600 dark:text-[#a3a3a3] text-sm mb-4",children:i.title}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 block mb-2",children:"   ?"}),d.jsx("textarea",{value:f,onChange:y=>h(y.target.value),placeholder:",    ...",className:"w-full bg-slate-50 dark:bg-[#262626] border border-slate-200 dark:border-[#404040] rounded-xl p-4 text-sm min-h-[100px] focus:ring-2 focus:ring-[#0095f6] focus:outline-none resize-none text-slate-900 dark:text-[#fafafa] placeholder-slate-400",rows:4})]}),d.jsxs("div",{className:"flex gap-2 mt-6",children:[d.jsx(Me,{variant:"secondary",className:"flex-1",onClick:l,disabled:g,children:""}),d.jsx(Me,{className:"flex-1",onClick:p,disabled:g,isLoading:g,children:g?d.jsx(At,{size:18,className:"animate-spin"}):" "})]})]})]})},v2=({startup:i,currentUser:s,onClose:l,onSuccess:r,onError:u})=>{const[f,h]=D.useState([]),[g,v]=D.useState(!0),[p,y]=D.useState(null);D.useEffect(()=>{(async()=>{try{const w=await i2(i.id);h(w)}catch(w){console.error("TeamRequestsModal:",w),u("   ")}finally{v(!1)}})()},[i.id]);const x=async(w,T)=>{y(w.id);try{await l2(w.id,T,s.id),h(O=>O.map(q=>q.id===w.id?{...q,status:T}:q)),r(T==="accepted"?" ":" ")}catch(O){console.error("TeamRequestsModal update:",O),u("  ")}finally{y(null)}},N=f.filter(w=>w.status==="pending");return d.jsxs("div",{className:"fixed inset-0 z-[70] flex items-end md:items-center justify-center p-0 md:p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:l}),d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] w-full md:max-w-lg rounded-t-3xl md:rounded-2xl shadow-2xl p-6 animate-slide-up border border-[#efefef] dark:border-[#404040] max-h-[80vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa]",children:"  "}),d.jsx("button",{onClick:l,className:"p-2 bg-slate-100 dark:bg-[#262626] rounded-full text-slate-500 hover:bg-slate-200 dark:hover:bg-[#404040]",children:d.jsx(pa,{size:20})})]}),d.jsx("p",{className:"text-slate-600 dark:text-[#a3a3a3] text-sm mb-4 flex-shrink-0",children:i.title}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:g?d.jsx("div",{className:"flex justify-center py-12",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})}):N.length===0?d.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-[#a3a3a3]",children:"  "}):d.jsx("div",{className:"space-y-3",children:N.map(w=>{var T,O;return d.jsx("div",{className:"p-4 rounded-2xl border border-[#efefef] dark:border-[#404040] bg-slate-50/50 dark:bg-[#262626]/50",children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-bold text-slate-900 dark:text-[#fafafa]",children:((T=w.applicant)==null?void 0:T.name)||""}),((O=w.applicant)==null?void 0:O.grade)&&d.jsx("p",{className:"text-xs text-slate-500 dark:text-[#a3a3a3]",children:w.applicant.grade}),w.message&&d.jsxs("p",{className:"text-sm text-slate-600 dark:text-[#a3a3a3] mt-1 italic",children:['"',w.message,'"']})]}),d.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[d.jsx("button",{onClick:()=>x(w,"accepted"),disabled:p===w.id,className:"p-2 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white transition-colors disabled:opacity-50",title:"",children:p===w.id?d.jsx(At,{size:18,className:"animate-spin"}):d.jsx(Pn,{size:18})}),d.jsx("button",{onClick:()=>x(w,"rejected"),disabled:p===w.id,className:"p-2 rounded-xl bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 hover:bg-rose-200 dark:hover:bg-rose-900/50 transition-colors disabled:opacity-50",title:"",children:d.jsx(H0,{size:18})})]})]})},w.id)})})})]})]})},b2=({imageUrl:i,onClose:s})=>i?d.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center animate-fade-in",onClick:s,children:[d.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-3 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:d.jsx(pa,{size:24})}),d.jsx("img",{src:i,alt:"Full screen",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:l=>l.stopPropagation()})]}):null,y2=({post:i,currentUser:s,onClose:l,onAddComment:r,onDeleteComment:u,onUserClick:f})=>{const[h,g]=D.useState("");if(!i)return null;const v=p=>{p.preventDefault();const y=h.trim();y&&(r(i.id,y),g(""))};return d.jsxs("div",{className:"fixed inset-0 z-[70] flex justify-center items-end md:items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:l}),d.jsxs("div",{className:"relative bg-white w-full md:max-w-lg h-[80vh] md:h-[600px] rounded-t-3xl md:rounded-2xl shadow-2xl flex flex-col animate-slide-up",children:[d.jsxs("div",{className:"p-4 border-b border-[#efefef] flex items-center justify-between flex-shrink-0",children:[d.jsxs("h3",{className:"font-semibold text-[#262626] text-lg",children:[" (",i.commentsCount,")"]}),d.jsx("button",{onClick:l,className:"p-2 bg-[#efefef] rounded-full text-[#8e8e8e] hover:bg-[#e0e0e0]",children:d.jsx(pa,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:!i.commentsData||i.commentsData.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[d.jsx(Gr,{size:48,className:"mb-2 opacity-20"}),d.jsx("p",{className:"text-sm",children:"  .  !"})]}):i.commentsData.map(p=>{const y=s.id===p.author.id||wt(s.role);return d.jsxs("div",{className:"flex gap-3 group",children:[d.jsx("button",{onClick:()=>f(p.author),className:"flex-shrink-0",children:d.jsx("img",{src:p.author.avatar,className:"w-8 h-8 rounded-full object-cover ring-2 ring-[#efefef]",alt:""})}),d.jsxs("div",{className:"bg-[#efefef] p-3 rounded-2xl rounded-tl-none flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[d.jsx("button",{onClick:()=>f(p.author),className:"text-xs font-semibold text-[#262626] hover:underline truncate",children:p.author.name}),d.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[d.jsx("span",{className:"text-[10px] text-slate-400",children:p.timestamp}),y&&d.jsx("button",{onClick:()=>u(p.id,i.id),className:"p-1 rounded text-slate-400 hover:text-rose-600 hover:bg-rose-50 opacity-0 group-hover:opacity-100 transition-opacity",title:" ",children:d.jsx(ga,{size:14})})]})]}),d.jsx("p",{className:"text-sm text-slate-800 leading-relaxed",children:p.text})]})]},p.id)})}),d.jsx("form",{onSubmit:v,className:"p-4 border-t border-[#efefef] bg-white flex-shrink-0 safe-area-pb",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:h,onChange:p=>g(p.target.value),placeholder:" ...",className:"w-full bg-[#efefef] border-0 rounded-full py-3 pl-4 pr-12 text-sm focus:ring-2 focus:ring-[#0095f6]/50 focus:outline-none text-[#262626] placeholder-[#8e8e8e]"}),d.jsx("button",{type:"submit",disabled:!h.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-[#0095f6] text-white rounded-full disabled:opacity-50 disabled:bg-[#c7c7c7] transition-all hover:bg-[#0084e0]",children:d.jsx(V0,{size:16})})]})})]})]})},x2=({onLogin:i})=>{const[s,l]=D.useState(!0),[r,u]=D.useState(!1),[f,h]=D.useState(null),[g,v]=D.useState(""),[p,y]=D.useState(""),[x,N]=D.useState(""),[w,T]=D.useState(""),[O,q]=D.useState(Nt.STUDENT),[K,U]=D.useState(""),B=!!Zm[O],P=Zm[O],ge=async Z=>{if(Z.preventDefault(),u(!0),h(null),!s&&B&&K!==P){h("  .    ."),u(!1);return}try{if(s){const{error:Q}=await F.auth.signInWithPassword({email:p,password:x});if(Q)throw Q}else{const{error:Q}=await F.auth.signUp({email:p,password:x,options:{data:{name:g,role:O,grade:O===Nt.STUDENT?w:null}}});if(Q)throw Q}i()}catch(Q){h(Q instanceof Error?Q.message:" ")}finally{u(!1)}};return d.jsx("div",{className:"min-h-screen bg-[#fafafa] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl border border-[#efefef] overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"bg-gradient-to-br from-[#0095f6] to-[#00376b] p-8 text-center relative overflow-hidden",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[d.jsx("div",{className:"absolute top-[-50px] left-[-50px] w-32 h-32 rounded-full bg-white blur-2xl"}),d.jsx("div",{className:"absolute bottom-[-50px] right-[-50px] w-40 h-40 rounded-full bg-white blur-3xl"})]}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[d.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-lg mb-4",children:d.jsx(Lr,{size:32,className:"text-[#0095f6]"})}),d.jsxs("h1",{className:"text-2xl font-extrabold text-white tracking-tight",children:["Pervoz",d.jsx("span",{className:"text-white/80",children:"Hub"})]}),d.jsx("p",{className:"text-white/70 text-sm mt-1",children:" "})]})]}),d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6 text-center",children:s?" !":" "}),d.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[!s&&d.jsxs("div",{className:"space-y-4 animate-slide-up",children:[d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),d.jsx("input",{type:"text",placeholder:"  '",required:!0,value:g,onChange:Z=>v(Z.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900"})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("select",{value:O,onChange:Z=>{q(Z.target.value),U(""),h(null)},className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 px-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900",children:[d.jsx("option",{value:Nt.STUDENT,children:""}),d.jsx("option",{value:Nt.TEACHER,children:""}),d.jsx("option",{value:Nt.SCHOOL_ADMIN,children:" "}),d.jsx("option",{value:Nt.PARENT,children:""})]}),O===Nt.STUDENT&&d.jsx("input",{type:"text",placeholder:" ( 10-)",required:!0,value:w,onChange:Z=>T(Z.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 px-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900"}),B&&d.jsxs("div",{className:"relative",children:[d.jsx(db,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),d.jsx("input",{type:"password",placeholder:`    "${O}"`,required:!0,value:K,onChange:Z=>{U(Z.target.value),h(null)},className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900 placeholder-slate-400"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(yb,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),d.jsx("input",{type:"email",placeholder:"Email ",required:!0,value:p,onChange:Z=>y(Z.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(gb,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),d.jsx("input",{type:"password",placeholder:"",required:!0,value:x,onChange:Z=>N(Z.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-3 pl-10 pr-4 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900"})]}),f&&d.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-50 p-2 rounded-lg",children:f}),d.jsxs(Me,{type:"submit",isLoading:r,className:"w-full h-12 text-base shadow-xl shadow-indigo-200 mt-2",children:[s?"":""," ",d.jsx(Xv,{size:18,className:"ml-2"})]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-slate-500",children:[s?"  ?":"  ?",d.jsx("button",{onClick:()=>l(!s),className:"ml-1 text-[#0095f6] font-semibold hover:underline",children:s?"":""})]})})]})]})})},_2=({user:i,onClose:s,onSave:l,onError:r})=>{const[u,f]=D.useState(i.name),[h,g]=D.useState(i.grade||""),[v,p]=D.useState(i.bio||""),[y,x]=D.useState(i.avatar),[N,w]=D.useState(null),[T,O]=D.useState(!1),q=async U=>{U.preventDefault(),O(!0);let B=y;if(N)try{B=await q_(i.id,N)}catch(P){console.error("Avatar upload failed",P),r==null||r("   "),O(!1);return}l({...i,name:u,grade:h,bio:v,avatar:B}),O(!1),s()},K=U=>{if(U.target.files&&U.target.files.length>0){const B=U.target.files[0];w(B),x(URL.createObjectURL(B))}};return d.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:s}),d.jsxs("div",{className:"relative bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),d.jsx("button",{onClick:s,className:"p-2 bg-slate-50 rounded-full text-slate-500 hover:bg-slate-100",children:d.jsx(pa,{size:20})})]}),d.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex flex-col items-center mb-6",children:[d.jsxs("div",{className:"relative group cursor-pointer",children:[d.jsx("img",{src:y,alt:"",className:"w-24 h-24 rounded-full object-cover border-4 border-slate-50 shadow-md"}),d.jsxs("label",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[d.jsx(Zb,{className:"text-white",size:24}),d.jsx("input",{type:"file",className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:K})]})]}),d.jsx("span",{className:"text-xs text-slate-400 mt-2",children:"      "})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"'  "}),d.jsx("input",{type:"text",value:u,onChange:U=>f(U.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold text-slate-900"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:" ()"}),d.jsx("div",{className:"w-full bg-slate-100 border border-slate-200 rounded-xl p-3 text-sm font-medium text-slate-500",children:i.role})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:""}),d.jsx("input",{type:"text",value:h,onChange:U=>g(U.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold text-slate-900"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"  (Bio)"}),d.jsx("textarea",{value:v,onChange:U=>p(U.target.value),rows:3,className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-800 resize-none",placeholder:"   ..."})]}),d.jsx("div",{className:"pt-4",children:d.jsxs(Me,{type:"submit",isLoading:T,className:"w-full gap-2",children:[d.jsx(Hu,{size:18}),"  "]})})]})]})]})},w2=({onUserClick:i})=>{const[s,l]=D.useState(""),[r,u]=D.useState([]),[f,h]=D.useState(!1),[g,v]=D.useState(!1),p=D.useCallback(async y=>{if(!y.trim()){u([]),v(!1);return}h(!0),v(!0);try{const x=await Z_(y);u(x)}catch{u([])}finally{h(!1)}},[]);return D.useEffect(()=>{const y=setTimeout(()=>p(s),300);return()=>clearTimeout(y)},[s,p]),d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in",children:[d.jsx("div",{className:"sticky top-0 z-10 -mx-4 px-4 py-3 bg-white/95 backdrop-blur-md border-b border-[#efefef] lg:bg-transparent lg:border-0 lg:relative lg:mx-0 lg:px-0 lg:py-0 lg:mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(tl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),d.jsx("input",{type:"text",value:s,onChange:y=>l(y.target.value),placeholder:"   '  ...",className:"w-full bg-[#efefef] border-0 rounded-2xl py-3.5 pl-12 pr-4 text-[15px] text-[#262626] placeholder-[#8e8e8e] focus:ring-2 focus:ring-[#c7c7c7] focus:outline-none transition-all",autoFocus:!0})]})}),d.jsx("div",{className:"mt-4",children:f?d.jsx("div",{className:"flex justify-center py-16",children:d.jsx(At,{className:"animate-spin text-slate-400",size:32})}):!g||!s.trim()?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mb-4",children:d.jsx(tl,{size:28,className:"text-slate-300"})}),d.jsx("p",{className:"text-sm font-medium",children:"   "}),d.jsx("p",{className:"text-xs mt-1",children:" '  "})]}):r.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[d.jsx($u,{size:40,className:"mb-3 opacity-30"}),d.jsx("p",{className:"text-sm font-medium",children:"  "}),d.jsx("p",{className:"text-xs mt-1",children:"   "})]}):d.jsx("div",{className:"bg-white rounded-2xl border border-[#efefef] overflow-hidden divide-y divide-[#efefef]",children:r.map(y=>d.jsxs("button",{onClick:()=>i(y),className:"w-full flex items-center gap-4 p-4 hover:bg-[#fafafa] active:bg-[#f5f5f5] transition-colors text-left",children:[d.jsx("img",{src:y.avatar,alt:y.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-[#efefef]"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-[#262626] truncate",children:y.name}),d.jsxs("p",{className:"text-sm text-[#8e8e8e]",children:[y.role,y.grade&&`  ${y.grade}`]})]})]},y.id))})})]})},S2=[{id:"profile",icon:$u,label:""},{id:"schedule",icon:Lu,label:" "},{id:"lost_found",icon:G0,label:" "},{id:"trust_box",icon:Jr,label:" "}],j2={id:"admin",icon:Hb,label:" "},N2=({onNavigate:i,isAdmin:s})=>{const l=[...S2,...s?[j2]:[]];return d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in max-w-xl",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa] mb-1",children:""}),d.jsx("p",{className:"text-sm text-[#737373] dark:text-[#a3a3a3]",children:" "})]}),d.jsx("div",{className:"space-y-3",children:l.map(({id:r,icon:u,label:f})=>d.jsxs("button",{onClick:()=>i(r),className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-white dark:bg-[#171717] border border-[#efefef] dark:border-[#404040] hover:bg-[#fafafa] dark:hover:bg-[#262626] transition-colors text-left",children:[d.jsx(u,{size:22,className:"text-[#737373] dark:text-[#a3a3a3] flex-shrink-0"}),d.jsx("span",{className:"font-semibold text-[#262626] dark:text-[#fafafa] flex-1 text-left",children:f})]},r))})]})};function k2(i,s){const[l,r]=D.useState(null),[u,f]=D.useState(!1);return D.useEffect(()=>{if(!i)return;const h=()=>{const v=new Date;let p=new Date(i);if(s){const[O,q]=s.split(":").map(Number);p.setHours(O??0,q??0,0,0)}else p.setHours(23,59,59,999);const y=p.getTime()-v.getTime();if(y<=0){f(!0),r(null);return}const x=Math.floor(y/(1440*60*1e3)),N=Math.floor(y%(1440*60*1e3)/(3600*1e3)),w=Math.floor(y%(3600*1e3)/(60*1e3)),T=Math.floor(y%(60*1e3)/1e3);r({days:x,hours:N,mins:w,secs:T}),f(!1)};h();const g=setInterval(h,1e3);return()=>clearInterval(g)},[i,s]),{diff:l,isPast:u}}function E2(i){const s=new Date;for(const l of i){const r=new Date(l.event_date);if(l.event_time){const[u,f]=l.event_time.split(":").map(Number);r.setHours(u??0,f??0,0,0)}else r.setHours(0,0,0,0);if(r>=s)return l}return null}const A2=({currentUser:i,onToast:s})=>{const[l,r]=D.useState([]),[u,f]=D.useState([]),[h,g]=D.useState(!0),[v,p]=D.useState(!1),[y,x]=D.useState([]),[N,w]=D.useState(!1),[T,O]=D.useState(!1),[q,K]=D.useState(null),[U,B]=D.useState({title:"",event_date:"",event_time:"",description:""}),[P,ge]=D.useState(!1),Z=wt(i.role),Q=E2(u),{diff:Ae,isPast:Re}=k2((Q==null?void 0:Q.event_date)??null,(Q==null?void 0:Q.event_time)??null),rt=D.useCallback(async()=>{g(!0);try{const[V,ee]=await Promise.all([dg(),hg()]);r(V),x(V.length?[...V]:[]),f(ee)}catch{s==null||s("error","   ")}finally{g(!1)}},[s]);D.useEffect(()=>{rt()},[rt]);const dt=async()=>{if(!(!Z||y.length===0)){w(!0);try{await fg(y.map(({id:V,...ee})=>ee),i.role),await rt(),p(!1),s==null||s("success","  ")}catch{s==null||s("error","  ")}finally{w(!1)}}},Ie=()=>{const V=Math.max(0,...y.map(ee=>ee.lesson_number))+1;x([...y,{id:"",lesson_number:V,start_time:"08:00",end_time:"08:45",name:""}])},ae=V=>{x(y.filter((ee,ve)=>ve!==V))},_e=(V,ee,ve)=>{const j=[...y];j[V][ee]=ve,x(j)},ze=V=>{if(V)K(V),B({title:V.title,event_date:V.event_date,event_time:V.event_time||"",description:V.description||""});else{K(null);const ee=new Date().toISOString().slice(0,10);B({title:"",event_date:ee,event_time:"",description:""})}O(!0)},M=async()=>{if(!U.title.trim()||!U.event_date){s==null||s("error","   ");return}ge(!0);try{q?(await gg(q.id,{title:U.title,event_date:U.event_date,event_time:U.event_time||void 0,description:U.description||void 0},i.role),s==null||s("success"," ")):(await mg({title:U.title,event_date:U.event_date,event_time:U.event_time||void 0,description:U.description||void 0},i.id,i.role),s==null||s("success"," ")),await rt(),O(!1)}catch{s==null||s("error","   ")}finally{ge(!1)}},X=async V=>{if(confirm(`  ${V.title}?`))try{await pg(V.id,i.role),await rt(),s==null||s("success"," ")}catch{s==null||s("error","  ")}};return h?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})}):d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in space-y-6",children:[Q&&!Re&&Ae&&d.jsxs("div",{className:"bg-gradient-to-br from-amber-400 via-orange-500 to-rose-500 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Hr,{size:24}),d.jsxs("span",{className:"font-bold text-lg",children:[" : ",Q.title]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-5 py-3 text-center min-w-[70px]",children:[d.jsx("div",{className:"text-2xl font-black",children:Ae.days}),d.jsx("div",{className:"text-xs font-semibold opacity-90",children:""})]}),d.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-5 py-3 text-center min-w-[70px]",children:[d.jsx("div",{className:"text-2xl font-black",children:Ae.hours}),d.jsx("div",{className:"text-xs font-semibold opacity-90",children:""})]}),d.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-5 py-3 text-center min-w-[70px]",children:[d.jsx("div",{className:"text-2xl font-black",children:Ae.mins}),d.jsx("div",{className:"text-xs font-semibold opacity-90",children:""})]}),d.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl px-5 py-3 text-center min-w-[70px]",children:[d.jsx("div",{className:"text-2xl font-black",children:Ae.secs}),d.jsx("div",{className:"text-xs font-semibold opacity-90",children:""})]})]}),d.jsxs("p",{className:"text-white/90 text-sm mt-3",children:[new Date(Q.event_date).toLocaleDateString("uk-UA",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),Q.event_time&&`  ${Q.event_time}`]})]}),d.jsxs("div",{className:"bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#262626] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#efefef] dark:border-[#262626]",children:[d.jsxs("h2",{className:"font-bold text-lg text-[#262626] dark:text-[#fafafa] flex items-center gap-2",children:[d.jsx(Lu,{size:20}),"  "]}),Z&&(v?d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Me,{variant:"secondary",size:"sm",onClick:()=>{p(!1),x([...l])},children:""}),d.jsxs(Me,{size:"sm",onClick:dt,disabled:N,isLoading:N,children:[d.jsx(Hu,{size:16})," "]})]}):d.jsxs("button",{onClick:()=>{p(!0),x(l.length?[...l]:[{id:"",lesson_number:1,start_time:"08:00",end_time:"08:45",name:""}])},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#0095f6] text-white text-sm font-semibold hover:bg-[#0077cc]",children:[d.jsx(Vr,{size:16})," "]}))]}),d.jsx("div",{className:"overflow-x-auto",children:v?d.jsxs("div",{className:"p-4 space-y-2",children:[y.map((V,ee)=>d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("input",{type:"number",className:"w-14 bg-slate-50 dark:bg-[#262626] border rounded-lg px-2 py-1.5 text-sm font-bold",value:V.lesson_number,onChange:ve=>_e(ee,"lesson_number",parseInt(ve.target.value)||0)}),d.jsx("input",{type:"time",className:"bg-slate-50 dark:bg-[#262626] border rounded-lg px-2 py-1.5 text-sm",value:V.start_time,onChange:ve=>_e(ee,"start_time",ve.target.value)}),d.jsx("span",{className:"text-slate-400",children:""}),d.jsx("input",{type:"time",className:"bg-slate-50 dark:bg-[#262626] border rounded-lg px-2 py-1.5 text-sm",value:V.end_time,onChange:ve=>_e(ee,"end_time",ve.target.value)}),d.jsx("input",{type:"text",className:"flex-1 min-w-[120px] bg-slate-50 dark:bg-[#262626] border rounded-lg px-2 py-1.5 text-sm",placeholder:"  (.)",value:V.name||"",onChange:ve=>_e(ee,"name",ve.target.value)}),d.jsx("button",{onClick:()=>ae(ee),className:"p-1.5 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:d.jsx(ga,{size:18})})]},ee)),d.jsxs("button",{onClick:Ie,className:"flex items-center gap-2 px-4 py-2 rounded-xl border-2 border-dashed border-slate-300 dark:border-[#404040] text-slate-500 hover:border-[#0095f6] hover:text-[#0095f6] text-sm font-medium",children:[d.jsx(Yr,{size:18}),"  "]})]}):l.length>0?d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-[#fafafa] dark:bg-[#262626] text-left text-sm font-semibold text-[#737373] dark:text-[#a3a3a3]",children:[d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""})]})}),d.jsx("tbody",{children:l.map(V=>d.jsxs("tr",{className:"border-t border-[#efefef] dark:border-[#262626]",children:[d.jsx("td",{className:"p-3 font-bold text-[#262626] dark:text-[#fafafa]",children:V.lesson_number}),d.jsx("td",{className:"p-3 text-[#262626] dark:text-[#fafafa]",children:V.start_time}),d.jsx("td",{className:"p-3 text-[#262626] dark:text-[#fafafa]",children:V.end_time}),d.jsx("td",{className:"p-3 text-[#737373] dark:text-[#a3a3a3]",children:V.name||""})]},V.id||V.lesson_number))})]}):d.jsxs("div",{className:"p-8 text-center text-[#737373] dark:text-[#a3a3a3]",children:["    ",Z&&d.jsx("button",{onClick:()=>{p(!0),Ie()},className:"block mt-2 text-[#0095f6] font-semibold",children:" "})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#262626] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#efefef] dark:border-[#262626]",children:[d.jsxs("h2",{className:"font-bold text-lg text-[#262626] dark:text-[#fafafa] flex items-center gap-2",children:[d.jsx(L0,{size:20}),"   "]}),Z&&d.jsxs("button",{onClick:()=>ze(),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#0095f6] text-white text-sm font-semibold hover:bg-[#0077cc]",children:[d.jsx(Yr,{size:16}),"  "]})]}),d.jsx("div",{className:"p-4 space-y-3",children:u.length===0?d.jsxs("div",{className:"py-8 text-center text-[#737373] dark:text-[#a3a3a3]",children:["  ",Z&&d.jsx("button",{onClick:()=>ze(),className:"block mt-2 text-[#0095f6] font-semibold",children:" "})]}):u.map(V=>d.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 rounded-xl bg-[#fafafa] dark:bg-[#262626] border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-[#262626] dark:text-[#fafafa]",children:V.title}),d.jsxs("div",{className:"text-sm text-[#737373] dark:text-[#a3a3a3] mt-0.5",children:[new Date(V.event_date).toLocaleDateString("uk-UA",{weekday:"short",day:"numeric",month:"long",year:"numeric"}),V.event_time&&`  ${V.event_time}`]}),V.description&&d.jsx("p",{className:"text-sm text-[#525252] dark:text-[#a3a3a3] mt-2",children:V.description})]}),Z&&d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>ze(V),className:"p-2 text-[#0095f6] hover:bg-[#0095f6]/10 rounded-lg","aria-label":"",children:d.jsx(Vr,{size:18})}),d.jsx("button",{onClick:()=>X(V),className:"p-2 text-rose-500 hover:bg-rose-500/10 rounded-lg","aria-label":"",children:d.jsx(ga,{size:18})})]})]},V.id))})]}),T&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:d.jsxs("div",{className:"bg-white dark:bg-[#171717] w-full max-w-md rounded-2xl shadow-xl p-6 border border-[#efefef] dark:border-[#262626]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold text-lg",children:q?" ":" "}),d.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-[#262626] rounded-lg",children:d.jsx(pa,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3",placeholder:":  ",value:U.title,onChange:V=>B(ee=>({...ee,title:V.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:""}),d.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3",value:U.event_date,onChange:V=>B(ee=>({...ee,event_date:V.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:" (.)"}),d.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3",value:U.event_time,onChange:V=>B(ee=>({...ee,event_time:V.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:" (.)"}),d.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3 resize-none",rows:3,placeholder:"  ...",value:U.description,onChange:V=>B(ee=>({...ee,description:V.target.value}))})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[d.jsx(Me,{variant:"secondary",onClick:()=>O(!1),children:""}),d.jsx(Me,{onClick:M,disabled:P,isLoading:P,children:""})]})]})})]})},T2=({currentUser:i,onToast:s})=>{const[l,r]=D.useState([]),[u,f]=D.useState([]),[h,g]=D.useState(!0),[v,p]=D.useState(!1),[y,x]=D.useState([]),[N,w]=D.useState(!1),[T,O]=D.useState(!1),[q,K]=D.useState(null),[U,B]=D.useState({title:"",event_date:"",event_time:"",description:""}),[P,ge]=D.useState(!1),Z=D.useCallback(async()=>{g(!0);try{const[ae,_e]=await Promise.all([dg(),hg()]);r(ae),x(ae.length?[...ae]:[]),f(_e)}catch{s==null||s("error","  ")}finally{g(!1)}},[s]);D.useEffect(()=>{Z()},[Z]);const Q=async()=>{if(y.length!==0){w(!0);try{await fg(y.map(({id:ae,..._e})=>_e),i.role),await Z(),p(!1),s==null||s("success","  ")}catch{s==null||s("error","  ")}finally{w(!1)}}},Ae=()=>{const ae=Math.max(0,...y.map(_e=>_e.lesson_number))+1;x([...y,{id:"",lesson_number:ae,start_time:"08:00",end_time:"08:45",name:""}])},Re=(ae,_e,ze)=>{const M=[...y];M[ae][_e]=ze,x(M)},rt=ae=>{ae?(K(ae),B({title:ae.title,event_date:ae.event_date,event_time:ae.event_time||"",description:ae.description||""})):(K(null),B({title:"",event_date:new Date().toISOString().slice(0,10),event_time:"",description:""})),O(!0)},dt=async()=>{if(!U.title.trim()||!U.event_date){s==null||s("error","   ");return}ge(!0);try{q?(await gg(q.id,{title:U.title,event_date:U.event_date,event_time:U.event_time||void 0,description:U.description||void 0},i.role),s==null||s("success"," ")):(await mg({title:U.title,event_date:U.event_date,event_time:U.event_time||void 0,description:U.description||void 0},i.id,i.role),s==null||s("success"," ")),await Z(),O(!1)}catch{s==null||s("error","  ")}finally{ge(!1)}},Ie=async ae=>{if(confirm(`  ${ae.title}?`))try{await pg(ae.id,i.role),await Z(),s==null||s("success"," ")}catch{s==null||s("error","  ")}};return h?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})}):d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in space-y-8 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:d.jsx(Jr,{className:"text-amber-600 dark:text-amber-400",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-[#262626] dark:text-[#fafafa]",children:" "}),d.jsx("p",{className:"text-sm text-[#737373] dark:text-[#a3a3a3]",children:"    "})]})]}),d.jsxs("section",{className:"bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#404040] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-[#efefef] dark:border-[#404040]",children:[d.jsxs("h2",{className:"font-bold text-lg text-[#262626] dark:text-[#fafafa] flex items-center gap-2",children:[d.jsx(Lu,{size:20}),"  "]}),v?d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Me,{variant:"secondary",size:"sm",onClick:()=>{p(!1),x([...l])},children:""}),d.jsxs(Me,{size:"sm",onClick:Q,disabled:N,isLoading:N,children:[d.jsx(Hu,{size:16})," "]})]}):d.jsxs("button",{onClick:()=>{p(!0),x(l.length?[...l]:[{id:"",lesson_number:1,start_time:"08:00",end_time:"08:45",name:""}])},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#0095f6] text-white text-sm font-semibold hover:bg-[#0077cc]",children:[d.jsx(Vr,{size:16})," "]})]}),d.jsx("div",{className:"p-5",children:v?d.jsxs("div",{className:"space-y-3",children:[y.map((ae,_e)=>d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("input",{type:"number",className:"w-16 bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-lg px-3 py-2 text-sm font-bold",value:ae.lesson_number,onChange:ze=>Re(_e,"lesson_number",parseInt(ze.target.value)||0)}),d.jsx("input",{type:"time",className:"bg-slate-50 dark:bg-[#262626] border rounded-lg px-3 py-2 text-sm",value:ae.start_time,onChange:ze=>Re(_e,"start_time",ze.target.value)}),d.jsx("span",{className:"text-slate-400",children:""}),d.jsx("input",{type:"time",className:"bg-slate-50 dark:bg-[#262626] border rounded-lg px-3 py-2 text-sm",value:ae.end_time,onChange:ze=>Re(_e,"end_time",ze.target.value)}),d.jsx("input",{type:"text",className:"flex-1 min-w-[140px] bg-slate-50 dark:bg-[#262626] border rounded-lg px-3 py-2 text-sm",placeholder:"  (.)",value:ae.name||"",onChange:ze=>Re(_e,"name",ze.target.value)}),d.jsx("button",{onClick:()=>x(y.filter((ze,M)=>M!==_e)),className:"p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:d.jsx(ga,{size:18})})]},_e)),d.jsxs("button",{onClick:Ae,className:"flex items-center gap-2 px-4 py-2 rounded-xl border-2 border-dashed border-slate-300 dark:border-[#404040] text-slate-500 hover:border-[#0095f6] hover:text-[#0095f6] text-sm font-medium",children:[d.jsx(Yr,{size:18}),"  "]})]}):l.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-[#fafafa] dark:bg-[#262626] text-left text-sm font-semibold text-[#737373] dark:text-[#a3a3a3]",children:[d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:""})]})}),d.jsx("tbody",{children:l.map(ae=>d.jsxs("tr",{className:"border-t border-[#efefef] dark:border-[#404040]",children:[d.jsx("td",{className:"p-3 font-bold text-[#262626] dark:text-[#fafafa]",children:ae.lesson_number}),d.jsx("td",{className:"p-3 text-[#262626] dark:text-[#fafafa]",children:ae.start_time}),d.jsx("td",{className:"p-3 text-[#262626] dark:text-[#fafafa]",children:ae.end_time}),d.jsx("td",{className:"p-3 text-[#737373] dark:text-[#a3a3a3]",children:ae.name||""})]},ae.id||ae.lesson_number))})]})}):d.jsx("p",{className:"text-center py-8 text-[#737373] dark:text-[#a3a3a3]",children:"   .    ."})})]}),d.jsxs("section",{className:"bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#404040] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-[#efefef] dark:border-[#404040]",children:[d.jsxs("h2",{className:"font-bold text-lg text-[#262626] dark:text-[#fafafa] flex items-center gap-2",children:[d.jsx(L0,{size:20}),"   "]}),d.jsxs("button",{onClick:()=>rt(),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#0095f6] text-white text-sm font-semibold hover:bg-[#0077cc]",children:[d.jsx(Yr,{size:16}),"  "]})]}),d.jsx("div",{className:"p-5 space-y-3",children:u.length===0?d.jsx("p",{className:"text-center py-8 text-[#737373] dark:text-[#a3a3a3]",children:"  .   ."}):u.map(ae=>d.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 rounded-xl bg-[#fafafa] dark:bg-[#262626] border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-[#262626] dark:text-[#fafafa]",children:ae.title}),d.jsxs("div",{className:"text-sm text-[#737373] dark:text-[#a3a3a3] mt-0.5",children:[new Date(ae.event_date).toLocaleDateString("uk-UA",{weekday:"short",day:"numeric",month:"long",year:"numeric"}),ae.event_time&&`  ${ae.event_time}`]}),ae.description&&d.jsx("p",{className:"text-sm text-[#525252] dark:text-[#a3a3a3] mt-2",children:ae.description})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>rt(ae),className:"p-2 text-[#0095f6] hover:bg-[#0095f6]/10 rounded-lg",children:d.jsx(Vr,{size:18})}),d.jsx("button",{onClick:()=>Ie(ae),className:"p-2 text-rose-500 hover:bg-rose-500/10 rounded-lg",children:d.jsx(ga,{size:18})})]})]},ae.id))})]}),T&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:d.jsxs("div",{className:"bg-white dark:bg-[#171717] w-full max-w-md rounded-2xl shadow-xl p-6 border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold text-lg text-[#262626] dark:text-[#fafafa]",children:q?" ":" "}),d.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-[#262626] rounded-lg",children:d.jsx(pa,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:""}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3 text-[#262626] dark:text-[#fafafa]",placeholder:":  ",value:U.title,onChange:ae=>B(_e=>({..._e,title:ae.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:""}),d.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3",value:U.event_date,onChange:ae=>B(_e=>({..._e,event_date:ae.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:" (.)"}),d.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3",value:U.event_time,onChange:ae=>B(_e=>({..._e,event_time:ae.target.value}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-[#737373] dark:text-[#a3a3a3] mb-1",children:" (.)"}),d.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-[#262626] border border-[#e5e5e5] dark:border-[#404040] rounded-xl px-4 py-3 resize-none text-[#262626] dark:text-[#fafafa]",rows:3,placeholder:"  ...",value:U.description,onChange:ae=>B(_e=>({..._e,description:ae.target.value}))})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[d.jsx(Me,{variant:"secondary",onClick:()=>O(!1),children:""}),d.jsx(Me,{onClick:dt,disabled:P,isLoading:P,children:""})]})]})})]})},O2=({currentUser:i,posts:s,onCommentClick:l,onUserClick:r})=>{const[u,f]=D.useState([]),[h,g]=D.useState(!0);D.useEffect(()=>{W_(i.id).then(f).catch(()=>f([])).finally(()=>g(!1))},[i.id]);const v=p=>{const y=s.find(x=>x.id===p.postId);y&&l(y)};return h?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})}):d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in max-w-2xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa] mb-1",children:""}),d.jsx("p",{className:"text-sm text-[#737373] dark:text-[#a3a3a3]",children:"     "})]}),u.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#404040] border-dashed",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-[#262626] flex items-center justify-center mb-4",children:d.jsx(Gr,{size:28,className:"text-slate-400 dark:text-[#a3a3a3]"})}),d.jsx("h3",{className:"text-lg font-bold text-[#262626] dark:text-[#fafafa] mb-2",children:"  "}),d.jsx("p",{className:"text-[#737373] dark:text-[#a3a3a3] text-sm max-w-xs",children:"             "})]}):d.jsx("div",{className:"space-y-2",children:u.map(p=>d.jsxs("button",{onClick:()=>v(p),className:"w-full flex items-start gap-4 p-4 rounded-xl bg-white dark:bg-[#171717] border border-[#efefef] dark:border-[#404040] hover:bg-[#fafafa] dark:hover:bg-[#262626] transition-colors text-left",children:[d.jsx("button",{onClick:y=>{y.stopPropagation(),r(p.actor)},className:"flex-shrink-0",children:d.jsx("img",{src:p.actor.avatar,alt:p.actor.name,className:"w-11 h-11 rounded-full object-cover ring-2 ring-[#efefef] dark:ring-[#404040]"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("button",{onClick:y=>{y.stopPropagation(),r(p.actor)},className:"font-semibold text-[#262626] dark:text-[#fafafa] hover:underline",children:p.actor.name}),d.jsx("span",{className:"text-[#737373] dark:text-[#a3a3a3] text-sm",children:p.type==="like"?"()  ":"()  "})]}),p.type==="comment"&&p.text&&d.jsxs("p",{className:"text-sm text-[#525252] dark:text-[#a3a3a3] mt-1 line-clamp-2",children:["",p.text,""]}),p.postPreview&&d.jsxs("p",{className:"text-xs text-[#8e8e8e] dark:text-[#737373] mt-1 truncate",children:[": ",p.postPreview]}),d.jsx("p",{className:"text-xs text-[#8e8e8e] dark:text-[#737373] mt-1",children:p.timestamp})]}),d.jsx("div",{className:"flex-shrink-0 mt-1",children:p.type==="like"?d.jsx($0,{size:20,className:"text-rose-500 fill-rose-500"}):d.jsx(Gr,{size:20,className:"text-[#0095f6]"})})]},p.id))})]})},C2=()=>{const[i,s]=D.useState(null),[l,r]=D.useState(!0),[u,f]=D.useState(null),[h,g]=D.useState(!1);return D.useEffect(()=>{o2().then(v=>{s(v),r(!1)})},[]),D.useEffect(()=>{if(!i)return;const v=()=>{const y=new Date,x=new Date(i.event_date);if(i.event_time){const[w,T]=i.event_time.split(":").map(Number);x.setHours(w??0,T??0,0,0)}else x.setHours(0,0,0,0);const N=x.getTime()-y.getTime();if(N<=0){g(!0),f(null);return}f({d:Math.floor(N/864e5),h:Math.floor(N%864e5/36e5),m:Math.floor(N%36e5/6e4),s:Math.floor(N%6e4/1e3)})};v();const p=setInterval(v,1e3);return()=>clearInterval(p)},[i]),l||!i||h?null:d.jsxs("div",{className:"bg-gradient-to-br from-amber-400 via-orange-500 to-rose-500 rounded-2xl p-4 text-white shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Hr,{size:18}),d.jsx("span",{className:"font-bold text-sm",children:i.title})]}),u&&d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{v:u.d,l:""},{v:u.h,l:""},{v:u.m,l:""},{v:u.s,l:""}].map(({v,l:p})=>d.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-lg px-2 py-1.5 text-center min-w-[44px]",children:[d.jsx("div",{className:"text-lg font-black leading-tight",children:v}),d.jsx("div",{className:"text-[10px] font-semibold opacity-90",children:p})]},p))}),d.jsxs("p",{className:"text-white/90 text-xs mt-2",children:[new Date(i.event_date).toLocaleDateString("uk-UA",{day:"numeric",month:"short",year:"numeric"}),i.event_time&&`  ${i.event_time}`]})]})},R2=()=>d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] rounded-none md:rounded-2xl p-3 md:p-5 mb-0 md:mb-4 border-x-0 border-t-0 md:border border-b border-[#efefef] dark:border-[#262626] animate-pulse",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[d.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-[#efefef] dark:bg-[#262626]"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"h-4 w-24 bg-[#efefef] dark:bg-[#262626] rounded mb-1"}),d.jsx("div",{className:"h-3 w-16 bg-[#efefef] dark:bg-[#262626] rounded"})]})]}),d.jsx("div",{className:"h-4 w-full bg-[#efefef] dark:bg-[#262626] rounded mb-2"}),d.jsx("div",{className:"h-4 w-3/4 bg-[#efefef] dark:bg-[#262626] rounded mb-3 md:mb-4"}),d.jsx("div",{className:"h-48 md:h-64 bg-[#efefef] dark:bg-[#262626] rounded-none md:rounded-xl mb-2 md:mb-3"}),d.jsxs("div",{className:"flex gap-4 pt-2 md:pt-3 border-t border-[#efefef] dark:border-[#262626]",children:[d.jsx("div",{className:"h-4 w-12 bg-[#efefef] dark:bg-[#262626] rounded"}),d.jsx("div",{className:"h-4 w-12 bg-[#efefef] dark:bg-[#262626] rounded"})]})]}),z2=({type:i,message:s,onClose:l,duration:r=2500})=>{D.useEffect(()=>{if(i!=="loading"&&l&&r>0){const h=setTimeout(l,r);return()=>clearTimeout(h)}},[i,l,r]);const u=i==="loading"?d.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white/30 border-t-white flex items-center justify-center animate-spin",children:d.jsx("span",{className:"sr-only",children:""})}):i==="success"?d.jsx("div",{className:"w-10 h-10 rounded-full bg-white/25 flex items-center justify-center flex-shrink-0",children:d.jsx(Pv,{size:22,className:"text-white",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-white/25 flex items-center justify-center flex-shrink-0",children:d.jsx(pa,{size:22,className:"text-white",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})}),f=i==="loading"?"bg-slate-800":i==="success"?"bg-emerald-500":"bg-rose-500";return d.jsxs("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 rounded-2xl ${f} shadow-xl text-white font-medium text-sm animate-toast-in`,children:[u,d.jsx("span",{children:s})]})},D2=600;let Xs=null,nl=new Set;function U2(i){const s=()=>{if(nl.size===0)return;const l=new Set(nl);nl.clear(),Xs=null,l.forEach(r=>i(r))};Xs&&clearTimeout(Xs),Xs=setTimeout(s,D2)}function M2(i){const s=r=>{nl.add(r),U2(i)},l=F.channel("schoolhub-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},()=>s("posts")).on("postgres_changes",{event:"DELETE",schema:"public",table:"posts"},()=>s("posts")).on("postgres_changes",{event:"INSERT",schema:"public",table:"likes"},()=>s("posts")).on("postgres_changes",{event:"DELETE",schema:"public",table:"likes"},()=>s("posts")).on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},()=>s("comments")).on("postgres_changes",{event:"DELETE",schema:"public",table:"comments"},()=>s("comments")).on("postgres_changes",{event:"*",schema:"public",table:"startups"},()=>s("startups")).on("postgres_changes",{event:"INSERT",schema:"public",table:"startup_votes"},()=>s("startup_votes")).on("postgres_changes",{event:"DELETE",schema:"public",table:"startup_votes"},()=>s("startup_votes")).on("postgres_changes",{event:"*",schema:"public",table:"lost_items"},()=>s("lost_items")).subscribe();return()=>{F.removeChannel(l),Xs&&(clearTimeout(Xs),Xs=null),nl.clear()}}const B2=()=>{var bl;const[i,s]=D.useState(null),[l,r]=D.useState(!0),[u,f]=D.useState(re.HOME),[h,g]=D.useState([]),[v,p]=D.useState([]),[y,x]=D.useState([]),[N,w]=D.useState(new Set),[T,O]=D.useState(new Set),[q,K]=D.useState(!1),[U,B]=D.useState(null),[P,ge]=D.useState("feed"),[Z,Q]=D.useState(!1),[Ae,Re]=D.useState(null),[rt,dt]=D.useState(null),[Ie,ae]=D.useState(new Map),[_e,ze]=D.useState({}),[M,X]=D.useState(null),[V,ee]=D.useState(null),ve=D.useRef(null);ve.current=V;const[j,G]=D.useState(!1),[I,te]=D.useState(!1),[he,we]=D.useState(()=>{try{return localStorage.getItem("sidebarOpen")!=="false"}catch{return!0}}),[ye,ot]=D.useState(()=>{try{return localStorage.getItem("theme")==="dark"}catch{return!1}});D.useEffect(()=>{try{localStorage.setItem("sidebarOpen",String(he))}catch{}},[he]),D.useEffect(()=>{document.documentElement.setAttribute("data-theme",ye?"dark":"light"),document.documentElement.classList.toggle("dark",ye);try{localStorage.setItem("theme",ye?"dark":"light")}catch{}},[ye]);const[Ke,Va]=D.useState(!1),[Qe,va]=D.useState("post"),[ei,kt]=D.useState(!1),[ca,Js]=D.useState(""),[Fr,Is]=D.useState([]),[Zs,bs]=D.useState([]),[ys,dl]=D.useState(""),[ti,St]=D.useState(""),[fl,ai]=D.useState(""),[ba,Ya]=D.useState("lost"),[si,ni]=D.useState(""),[ii,eo]=D.useState("all"),[ya,ft]=D.useState(null),de=(R,Y)=>{ft({type:R,message:Y}),R!=="loading"&&setTimeout(()=>ft(null),2800)};D.useEffect(()=>{ht();const{data:{subscription:R}}=F.auth.onAuthStateChange((Y,W)=>{W?ht():(s(null),g([]),p([]),x([]),w(new Set),O(new Set),ee(null),B(null))});return()=>R.unsubscribe()},[]),D.useEffect(()=>{i&&xs()},[i,u]),D.useEffect(()=>{i&&(async()=>{try{await s2(i.id)||Q(!0)}catch{Q(!1)}})()},[i==null?void 0:i.id]),D.useEffect(()=>{!i||u!==re.STARTUPS&&u!==re.PROFILE||(async()=>{try{const R=await B0(i.id);ae(R)}catch{ae(new Map)}})()},[i==null?void 0:i.id,u]),D.useEffect(()=>{if(!i||v.length===0)return;const R=v.filter(Y=>Y.author.id===i.id).map(Y=>Y.id);R.length!==0&&(async()=>{try{const Y={};await Promise.all(R.map(async W=>{Y[W]=await r2(W)})),ze(Y)}catch{ze({})}})()},[i==null?void 0:i.id,v]),D.useEffect(()=>i?M2(to):void 0,[i]);const ht=async()=>{r(!0);try{const R=await z_();s(R)}catch(R){console.error("Session check failed:",R),s(null)}finally{r(!1)}},xs=async(R=!1)=>{if(i){R||K(!0);try{if(u===re.HOME||u===re.PROFILE||u===re.NOTIFICATIONS){const[Y,W]=await Promise.all([T0(),D0(i.id)]);g(Y),w(W)}if(u===re.STARTUPS||u===re.PROFILE){const[Y,W]=await Promise.all([O0(),C0(i.id)]);p(Y),O(W)}if(u===re.LOST_FOUND){const Y=await z0();x(Y)}}catch{R||de("error","   ")}finally{R||K(!1)}}},to=R=>{if(!i)return;R==="posts"||R==="likes"||R==="comments"?(async()=>{const[ce,gt]=await Promise.all([T0(),D0(i.id)]);g(ce),w(gt);const ua=ve.current;if(ua&&(R==="comments"||R==="posts")){const Ze=await U0(ua.id);ee(Ss=>Ss&&Ss.id===ua.id?{...Ss,commentsData:Ze,commentsCount:Ze.length}:Ss)}})():R==="startups"||R==="startup_votes"?(async()=>{const[ce,gt]=await Promise.all([O0(),C0(i.id)]);p(ce),O(gt)})():R==="lost_items"&&(async()=>{const ce=await z0();x(ce)})()},xa=R=>{va(R||"post"),Va(!0)},Ka=()=>{Va(!1),Ps()},Ps=()=>{Js(""),dl(""),St(""),ai(""),ni(""),Ya("lost"),Is([]),bs([]),kt(!1)},Ws=R=>{if(R.target.files&&R.target.files.length>0){const Y=Array.from(R.target.files),W=Y.map(J=>URL.createObjectURL(J));Is(J=>[...J,...Y]),bs(J=>[...J,...W])}},_a=R=>{Is(Y=>Y.filter((W,J)=>J!==R)),bs(Y=>Y.filter((W,J)=>J!==R))},Fs=async()=>{if(i){kt(!0),de("loading","...");try{const R=[];for(const Y of Fr){const W=await M_(Y);R.push(W)}if(Qe==="startup"){if(!ys.trim()||!ti.trim()){de("error","   "),kt(!1);return}await G_(i.id,{title:ys,description:ca,goal:parseInt(ti),tags:fl.split(",").map(Y=>Y.trim()).filter(Boolean)}),await xs(),f(re.STARTUPS),de("success"," ")}else if(Qe==="lost_found"){if(!si.trim()){de("error","  "),kt(!1);return}if(R.length===0){de("error","    "),kt(!1);return}await V_(i.id,{title:si,description:ca||(ba==="lost"?"":""),status:ba,image:R[0],contactInfo:ba==="found"?". ":void 0}),await xs(),f(re.LOST_FOUND),de("success"," ")}else{if(!ca.trim()){de("error","  "),kt(!1);return}const Y=Qe==="announcement";await L_(i.id,ca.trim(),R,Y),await xs(),f(re.HOME),de("success",Y?" ":" ")}Ka()}catch(R){console.error("Publishing error:",R),de("error","  .   .")}finally{kt(!1)}}},Qa=async R=>{if(i)try{const{likes:Y}=await Q_(R.id,i.id),W=N.has(R.id);w(J=>{const ce=new Set(J);return W?ce.delete(R.id):ce.add(R.id),ce}),g(J=>J.map(ce=>ce.id===R.id?{...ce,likes:Y}:ce)),ee(J=>J&&J.id===R.id?{...J,likes:Y}:J)}catch(Y){console.error("Like error",Y),de("error","   ")}},ao=async(R,Y)=>{if(i)try{const W=await I_(i.id,R,Y);g(ce=>ce.map(gt=>gt.id===R?{...gt,commentsCount:gt.commentsCount+1,commentsData:[...gt.commentsData||[],W]}:gt)),ee(ce=>ce&&ce.id===R?{...ce,commentsCount:ce.commentsCount+1,commentsData:[...ce.commentsData||[],W]}:ce)}catch(W){console.error("Error adding comment:",W),de("error","   ")}},li=async R=>{if(i&&confirm("  ?"))try{await X_(R.id,i.id,i.role),g(Y=>Y.filter(W=>W.id!==R.id)),(V==null?void 0:V.id)===R.id&&ee(null),de("success"," ")}catch(Y){console.error(Y),de("error","   ")}},ri=async R=>{if(i)try{const{currentSupport:Y}=await H_(R.id,i.id);p(W=>W.map(J=>J.id===R.id?{...J,currentSupport:Y}:J)),O(W=>{const J=new Set(W);return J.has(R.id)?J.delete(R.id):J.add(R.id),J})}catch(Y){console.error(Y),de("error","  ")}},_s=async R=>{if(i)try{await R0(R.id,"accepted",i.role),p(Y=>Y.map(W=>W.id===R.id?{...W,status:"accepted"}:W)),de("success"," ")}catch(Y){console.error(Y),de("error","  ")}},so=async R=>{if(!(!i||!confirm("  ?    .")))try{await R0(R.id,"rejected",i.role),p(Y=>Y.filter(W=>W.id!==R.id)),de("success"," ")}catch(Y){console.error(Y),de("error","  ")}},hl=async R=>{if(i)try{await Y_(R.id,"found",i.id,i.role),x(Y=>Y.map(W=>W.id===R.id?{...W,status:"found"}:W)),de("success","  ")}catch(Y){console.error(Y),de("error","  ")}},ml=async R=>{if(!(!i||!confirm("  ?")))try{await K_(R.id,i.id,i.role),x(Y=>Y.filter(W=>W.id!==R.id)),de("success"," ")}catch(Y){console.error(Y),de("error","  ")}},gl=async R=>{if(!(!i||!confirm("   ?")))try{await $_(R.id,i.role),p(Y=>Y.filter(W=>W.id!==R.id)),de("success"," ")}catch(Y){console.error(Y),de("error","  ")}},oi=async(R,Y)=>{if(i)try{await J_(R,i.id,i.role),g(W=>W.map(J=>{if(J.id!==Y)return J;const ce=(J.commentsData||[]).filter(gt=>gt.id!==R);return{...J,commentsCount:ce.length,commentsData:ce}})),ee(W=>{var J;return W&&W.id===Y?{...W,commentsCount:(((J=W.commentsData)==null?void 0:J.length)??1)-1,commentsData:(W.commentsData||[]).filter(ce=>ce.id!==R)}:W})}catch(W){console.error(W),de("error","   ")}},ws=async R=>{ee({...R,commentsData:[]});try{const Y=await U0(R.id);ee(W=>W?{...W,commentsData:Y}:null)}catch(Y){console.error(Y),de("error","   ")}},pl=async R=>{if(i){de("loading","...");try{let Y=R.avatar;const W=await D_(i.id,R);s(W),de("success"," ")}catch(Y){console.error("Profile update failed",Y),de("error","   ")}}},vl=async()=>{await F.auth.signOut(),s(null),f(re.HOME),g([]),p([]),x([]),w(new Set),O(new Set),B(null),ee(null)},Tt=R=>{B(R),ge("feed"),ee(null),window.scrollTo(0,0)},Fe=()=>{f(re.SERVICES),B(null),te(!1)},mt=I||u===re.PROFILE||u===re.SCHEDULE||u===re.LOST_FOUND||u===re.ADMIN,wa=({onClick:R,icon:Y,label:W})=>d.jsxs("button",{onClick:R,className:"flex flex-col md:flex-row items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-[#262626] dark:hover:text-[#fafafa] md:hover:bg-[#f5f5f5] dark:md:hover:bg-[#262626]",children:[d.jsx(Y,{size:22,strokeWidth:2}),d.jsx("span",{className:"text-[10px] md:text-sm font-medium mt-1 md:mt-0",children:W})]}),Kt=({tab:R,icon:Y,label:W})=>{const J=u===R&&!U;return d.jsxs("button",{onClick:()=>{f(R),B(null)},className:`flex flex-col md:flex-row items-center md:gap-3 p-2 md:px-4 md:py-3 rounded-xl transition-all ${J?"text-[#0095f6] md:bg-[#efefef] dark:md:bg-[#262626]":"text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-[#262626] dark:hover:text-[#fafafa] md:hover:bg-[#f5f5f5] dark:md:hover:bg-[#262626]"}`,children:[d.jsx(Y,{size:J?24:22,className:J?"fill-current md:fill-none":"",strokeWidth:J?2.5:2}),d.jsx("span",{className:`text-[10px] md:text-sm font-medium mt-1 md:mt-0 ${J?"md:font-bold":""}`,children:W})]})},no=()=>{if(q&&!U&&u!==re.CREATE&&u!==re.SEARCH&&u!==re.NOTIFICATIONS&&u!==re.SERVICES&&u!==re.SCHEDULE&&u!==re.ADMIN)return u===re.HOME||u===re.PROFILE?d.jsx("div",{className:"-mx-4 md:mx-0 space-y-0 md:space-y-4 pb-24 md:pb-0",children:[1,2,3].map(R=>d.jsx(R2,{},R))}):d.jsx("div",{className:"flex justify-center py-20",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:32})});if(U||u===re.PROFILE){if(!i)return null;const R=U||i,Y=h.filter(ce=>ce.author.id===R.id),W=v.filter(ce=>ce.author.id===R.id),J=R.id===i.id;return J&&!U&&I?d.jsx("div",{className:"pb-24 md:pb-0 animate-fade-in",children:d.jsx(c2,{currentUser:i,onSuccess:ce=>de("success",ce),onError:ce=>de("error",ce)})}):d.jsxs("div",{className:"pb-24 md:pb-0 animate-fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-[#171717] rounded-2xl p-6 border border-[#efefef] dark:border-[#404040] text-center mb-6",children:[d.jsxs("div",{className:"relative inline-block mb-4",children:[d.jsx("img",{src:R.avatar,alt:"Profile",className:"w-24 h-24 rounded-full mx-auto border-4 border-slate-50 dark:border-[#262626] object-cover"}),d.jsx("div",{className:"absolute bottom-0 right-0 bg-[#0095f6] text-white rounded-full p-1.5 border-2 border-white dark:border-[#171717]",children:d.jsx(Lr,{size:14})})]}),d.jsx("h2",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa]",children:R.name}),d.jsxs("p",{className:"text-[#8e8e8e] dark:text-[#a3a3a3] mb-2 font-medium",children:[R.role,"  ",R.grade]}),R.bio&&d.jsx("p",{className:"text-sm text-slate-600 dark:text-[#a3a3a3] mb-4 max-w-sm mx-auto",children:R.bio}),d.jsxs("div",{className:"flex justify-center gap-8 mb-6 border-t border-b border-slate-50 dark:border-[#404040] py-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa]",children:Y.length}),d.jsx("div",{className:"text-xs font-medium text-[#8e8e8e] dark:text-[#a3a3a3] uppercase tracking-wide",children:""})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa]",children:W.length}),d.jsx("div",{className:"text-xs font-medium text-[#8e8e8e] dark:text-[#a3a3a3] uppercase tracking-wide",children:""})]})]}),J&&!U&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>te(!0),className:"w-full mb-4 py-4 px-6 bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-200 dark:border-emerald-700 rounded-2xl flex items-center justify-center gap-3 text-emerald-700 dark:text-emerald-400 font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors",children:[d.jsx(Jr,{size:24})," "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>G(!0),className:"flex-1 flex items-center justify-center gap-2 text-sm text-slate-600 dark:text-[#a3a3a3] hover:text-indigo-600 dark:hover:text-indigo-400 py-3 px-4 hover:bg-slate-100 dark:hover:bg-[#262626] rounded-xl transition-colors font-medium",children:[d.jsx(Bb,{size:16}),"  "]}),d.jsxs("button",{onClick:vl,className:"flex-1 flex items-center justify-center gap-2 text-sm text-rose-600 hover:text-rose-700 py-3 px-4 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-colors font-medium",children:[d.jsx(vb,{size:16})," "]})]})]})]}),d.jsxs("div",{className:"flex gap-2 mb-4 border-b border-[#efefef] dark:border-[#404040]",children:[d.jsx("button",{onClick:()=>ge("feed"),className:`pb-3 px-4 font-bold text-sm transition-colors border-b-2 -mb-px ${P==="feed"?"border-[#0095f6] text-[#0095f6]":"border-transparent text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-[#262626] dark:hover:text-[#fafafa]"}`,children:""}),d.jsx("button",{onClick:()=>ge("portfolio"),className:`pb-3 px-4 font-bold text-sm transition-colors border-b-2 -mb-px ${P==="portfolio"?"border-[#0095f6] text-[#0095f6]":"border-transparent text-[#8e8e8e] dark:text-[#a3a3a3] hover:text-[#262626] dark:hover:text-[#fafafa]"}`,children:""})]}),P==="portfolio"?d.jsx(h2,{user:R,isOwnProfile:J,onToast:de}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-[#fafafa] mb-3 px-1 text-lg",children:""}),d.jsx("div",{className:"space-y-4",children:Y.length>0?Y.map(ce=>d.jsx(Pm,{post:ce,isLiked:N.has(ce.id),currentUser:i,onUserClick:Tt,onCommentClick:ws,onImageClick:X,onLikeClick:Qa,onDeletePost:li},ce.id)):d.jsx("div",{className:"text-center py-10 text-slate-400 dark:text-[#a3a3a3] bg-white dark:bg-[#171717] rounded-2xl border border-slate-100 dark:border-[#404040] border-dashed",children:d.jsx("p",{children:" "})})})]})]})}if(u===re.SEARCH)return d.jsx(w2,{onUserClick:Tt});if(u===re.SERVICES){const R=Y=>{Y==="profile"?(f(re.PROFILE),B(null),te(!1)):Y==="lost_found"?(f(re.LOST_FOUND),B(null)):Y==="trust_box"?(f(re.PROFILE),B(null),te(!0)):Y==="schedule"?(f(re.SCHEDULE),B(null)):Y==="admin"&&(f(re.ADMIN),B(null))};return d.jsx(N2,{onNavigate:R,isAdmin:i?wt(i.role):!1})}if(u===re.SCHEDULE)return i?d.jsx(A2,{currentUser:i,onToast:de}):null;if(u===re.ADMIN)return i?d.jsx(T2,{currentUser:i,onToast:de}):null;if(u===re.NOTIFICATIONS)return i?d.jsx(O2,{currentUser:i,posts:h,onCommentClick:ws,onUserClick:Tt}):null;switch(u){case re.HOME:return d.jsx("div",{className:"-mx-2 sm:-mx-4 md:mx-0 space-y-0 md:space-y-4 lg:space-y-5 pb-24 md:pb-0",children:h.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[d.jsx("span",{className:"text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-bold text-[#262626] dark:text-[#fafafa] mb-2",children:"  "}),d.jsx("p",{className:"text-[#737373] dark:text-[#a3a3a3] text-sm mb-4 max-w-xs",children:"      !"}),d.jsx(Me,{onClick:xa,className:"gap-2",children:"+  "})]}):h.map(J=>d.jsx(Pm,{post:J,isLiked:N.has(J.id),currentUser:i,onUserClick:Tt,onCommentClick:ws,onImageClick:X,onLikeClick:Qa,onDeletePost:li},J.id))});case re.STARTUPS:return d.jsxs("div",{className:"space-y-4 lg:space-y-5 pb-24 md:pb-0",children:[d.jsxs("div",{className:"bg-gradient-to-br from-[#0095f6] to-[#00376b] rounded-2xl p-6 text-white mb-6 relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:" ?"}),d.jsx("p",{className:"text-indigo-100 text-sm mb-4 max-w-sm font-medium",children:"  ,    ,     !"}),d.jsx(Me,{variant:"secondary",onClick:xa,className:"!bg-white !text-[#0095f6] hover:!bg-white/90 !border-none font-semibold py-3 px-6",children:" "})]}),d.jsx("div",{className:"absolute right-[-20px] top-[-20px] opacity-20",children:d.jsx(yu,{size:150})})]}),v.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#262626]",children:[d.jsx("span",{className:"text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-bold text-[#262626] dark:text-[#fafafa] mb-2",children:"  "}),d.jsx("p",{className:"text-[#737373] dark:text-[#a3a3a3] text-sm mb-4 max-w-xs",children:"       !"}),d.jsx(Me,{onClick:xa,variant:"secondary",className:"gap-2",children:"+  "})]}):v.map(J=>d.jsx(ey,{startup:J,currentUser:i,isVoted:T.has(J.id),myTeamRequest:Ie.get(J.id)??null,pendingRequestsCount:_e[J.id]??0,onVote:ri,onAccept:_s,onReject:so,onDelete:gl,onJoinTeam:ce=>Re(ce),onOpenTeamRequests:ce=>dt(ce)},J.id))]});case re.LOST_FOUND:const R=y.filter(J=>J.status==="lost").length,Y=y.filter(J=>J.status==="found").length,W=ii==="all"?y:y.filter(J=>J.status===ii);return d.jsxs("div",{className:"space-y-4 lg:space-y-5 pb-24 md:pb-0",children:[d.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 rounded-2xl p-5 border border-rose-100 dark:border-rose-800 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa]",children:" "}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-[#a3a3a3] mt-0.5",children:"  ?  "})]}),d.jsxs(Me,{onClick:()=>xa("lost_found"),className:"gap-2 bg-rose-600 hover:bg-rose-700 border-rose-500 shadow-rose-200",children:[d.jsx(Jn,{size:18})," "]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:["all","lost","found"].map(J=>d.jsx("button",{onClick:()=>eo(J),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${ii===J?J==="lost"?"bg-rose-600 text-white":J==="found"?"bg-emerald-600 text-white":"bg-slate-700 dark:bg-slate-600 text-white":"bg-white/60 dark:bg-[#171717]/60 text-slate-600 dark:text-[#a3a3a3] hover:bg-white dark:hover:bg-[#262626]"}`,children:J==="all"?"":J==="lost"?` (${R})`:` (${Y})`},J))})]}),y.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#262626] border-dashed",children:[d.jsx("span",{className:"text-6xl mb-4",children:""}),d.jsx("p",{className:"font-bold text-[#262626] dark:text-[#fafafa] mb-2",children:"   "}),d.jsx("p",{className:"text-[#737373] dark:text-[#a3a3a3] text-sm mb-4",children:"       "}),d.jsxs(Me,{onClick:()=>xa("lost_found"),variant:"secondary",className:"gap-2",children:[d.jsx(Jn,{size:16}),"  "]})]}):W.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center bg-white dark:bg-[#171717] rounded-2xl border border-[#efefef] dark:border-[#262626] border-dashed",children:[d.jsx("span",{className:"text-4xl mb-2",children:""}),d.jsx("p",{className:"text-[#737373] dark:text-[#a3a3a3]",children:"    "})]}):W.map(J=>d.jsx(ty,{item:J,currentUser:i,onImageClick:X,onMarkFound:hl,onDelete:ml},J.id))]});default:return null}};return l?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#fafafa] dark:bg-[#0a0a0a]",children:d.jsx(At,{className:"animate-spin text-[#0095f6]",size:48})}):i?d.jsxs("div",{className:"min-h-screen bg-[#fafafa] dark:bg-[#0a0a0a] text-[#262626] dark:text-[#fafafa] transition-colors",children:[d.jsxs("div",{className:"w-full min-h-screen flex",children:[d.jsxs("aside",{className:`hidden lg:flex flex-col w-52 fixed left-0 top-0 h-screen p-4 border-r border-[#efefef] dark:border-[#404040] bg-white dark:bg-[#0a0a0a] z-20 transition-transform duration-300 ${he?"translate-x-0":"-translate-x-full"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 px-1",children:[U?d.jsxs("button",{onClick:()=>B(null),className:"flex items-center gap-2 text-[#262626] dark:text-[#fafafa] font-medium hover:opacity-80 py-1",children:[d.jsx(Cr,{size:18}),d.jsx("span",{children:""})]}):mt?d.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 text-[#262626] dark:text-[#fafafa] font-medium hover:opacity-80 py-1",children:[d.jsx(Cr,{size:18}),d.jsx("span",{children:""})]}):d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer min-w-0",onClick:()=>{f(re.HOME),B(null)},children:[d.jsx("div",{className:"bg-gradient-to-br from-[#0095f6] to-[#00376b] p-1.5 rounded-lg text-white shadow-sm flex-shrink-0",children:d.jsx(Lr,{size:20})}),d.jsxs("h1",{className:"text-xl font-bold tracking-tight text-[#262626] dark:text-[#fafafa] truncate",children:["Pervoz",d.jsx("span",{className:"text-[#0095f6]",children:"Hub"})]})]}),d.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>ot(!ye),className:"p-1.5 rounded-lg text-[#737373] dark:text-[#a3a3a3] hover:bg-[#efefef] dark:hover:bg-[#262626]","aria-label":ye?" ":" ",children:ye?d.jsx(Jm,{size:18}):d.jsx(Xm,{size:18})}),d.jsx("button",{onClick:()=>{f(re.SEARCH),B(null)},className:"p-1.5 rounded-lg text-[#737373] dark:text-[#a3a3a3] hover:bg-[#efefef] dark:hover:bg-[#262626]","aria-label":"",children:d.jsx(tl,{size:18})}),d.jsx("button",{onClick:()=>we(!1),className:"p-1.5 rounded-lg text-[#737373] dark:text-[#a3a3a3] hover:bg-[#efefef] dark:hover:bg-[#262626]","aria-label":" ",children:d.jsx(Nb,{size:18})})]})]}),d.jsxs("nav",{className:"space-y-1 flex-1",children:[d.jsx(Kt,{tab:re.HOME,icon:Km,label:""}),d.jsx(Kt,{tab:re.STARTUPS,icon:yu,label:""}),d.jsx(wa,{onClick:xa,icon:Jn,label:""}),d.jsx(Kt,{tab:re.NOTIFICATIONS,icon:Hr,label:""}),d.jsx(Kt,{tab:re.SERVICES,icon:Qm,label:""})]})]}),!he&&d.jsx("button",{onClick:()=>we(!0),className:"hidden lg:flex fixed left-0 top-20 z-30 p-2.5 rounded-r-xl bg-white dark:bg-[#171717]/95 backdrop-blur border border-l-0 border-[#efefef] dark:border-[#404040] shadow-md text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-white dark:hover:bg-[#262626] hover:text-[#262626] dark:hover:text-[#fafafa] transition-all","aria-label":" ",children:d.jsx(Eb,{size:20})}),d.jsxs("main",{className:`w-full max-w-[600px] min-w-0 pt-4 px-2 sm:px-4 lg:px-6 transition-[margin] duration-300 ${he?"lg:ml-52":"lg:ml-4"} xl:mr-80`,children:[d.jsxs("header",{className:"lg:hidden flex justify-between items-center py-3 px-4 mb-1 sticky top-0 z-20 bg-[#fafafa]/95 dark:bg-[#0a0a0a]/95 backdrop-blur-md border-b border-[#efefef] dark:border-[#404040]",children:[U?d.jsxs("button",{onClick:()=>B(null),className:"flex items-center gap-2 text-[#262626] dark:text-[#fafafa] font-medium hover:opacity-80",children:[d.jsx(Cr,{size:20}),""]}):mt?d.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 text-[#262626] dark:text-[#fafafa] font-medium hover:opacity-80",children:[d.jsx(Cr,{size:20}),""]}):d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{f(re.HOME),B(null)},children:[d.jsx("div",{className:"bg-gradient-to-br from-[#0095f6] to-[#00376b] p-1.5 rounded-lg text-white shadow-sm",children:d.jsx(Lr,{size:18})}),d.jsxs("h1",{className:"text-xl font-bold text-[#262626] dark:text-[#fafafa]",children:["Pervoz",d.jsx("span",{className:"text-[#0095f6]",children:"Hub"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>ot(!ye),className:"p-2 rounded-full text-[#262626] dark:text-[#fafafa] hover:bg-[#efefef] dark:hover:bg-[#262626]","aria-label":ye?" ":" ",children:ye?d.jsx(Jm,{size:20}):d.jsx(Xm,{size:20})}),d.jsx("button",{onClick:()=>{f(re.SEARCH),B(null)},className:"p-2 -mr-2 rounded-full text-[#262626] dark:text-[#fafafa] hover:bg-[#efefef] dark:hover:bg-[#262626]","aria-label":"",children:d.jsx(tl,{size:22})})]})]}),no()]}),d.jsxs("aside",{className:"hidden xl:block w-80 fixed right-0 top-0 h-screen p-6 overflow-y-auto no-scrollbar border-l border-[#efefef] dark:border-[#404040] bg-white dark:bg-[#0a0a0a] z-20",children:[d.jsx("div",{className:"sticky top-0 bg-white dark:bg-[#0a0a0a] pt-2 pb-4 z-10",children:d.jsxs("button",{onClick:()=>{f(re.SEARCH),B(null)},className:"w-full flex items-center gap-3 bg-slate-100 dark:bg-[#262626] border-0 rounded-xl py-2.5 px-4 text-sm text-slate-500 dark:text-[#a3a3a3] hover:bg-slate-200 dark:hover:bg-[#404040] transition-colors text-left",children:[d.jsx(tl,{className:"text-slate-400 dark:text-[#a3a3a3] flex-shrink-0",size:18}),d.jsx("span",{children:" ..."})]})}),d.jsx(C2,{}),d.jsxs("div",{className:"bg-[#fafafa] dark:bg-[#171717] rounded-2xl p-4 border border-[#efefef] dark:border-[#404040] mb-6 mt-6",children:[d.jsx("h3",{className:"font-semibold text-[#262626] dark:text-[#fafafa] mb-4 text-sm uppercase tracking-wide",children:" "}),d.jsxs("div",{className:"space-y-4",children:[[...v].sort((R,Y)=>Y.currentSupport-R.currentSupport).slice(0,3).map((R,Y)=>d.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-slate-200/50 dark:hover:bg-[#262626] p-2 -mx-2 rounded-lg transition-colors",onClick:()=>f(re.STARTUPS),children:[d.jsx("div",{className:"font-black text-indigo-600 dark:text-indigo-400 text-lg w-4",children:Y+1}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-[#fafafa] truncate",children:R.title}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-[#a3a3a3] font-medium",children:[R.currentSupport," "]})]})]},R.id)),v.length===0&&d.jsx("p",{className:"text-xs text-slate-400 dark:text-[#a3a3a3] py-2",children:"  "})]})]}),h.some(R=>R.isAnnouncement)&&d.jsxs("div",{className:"bg-amber-50/80 dark:bg-amber-900/20 rounded-2xl p-4 border border-amber-200/60 dark:border-amber-700/50",children:[d.jsxs("h3",{className:"font-bold text-amber-900 dark:text-amber-200 mb-2 flex items-center gap-2",children:[d.jsx(el,{size:16})," "]}),d.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200/90 leading-relaxed font-medium line-clamp-2",children:(bl=h.find(R=>R.isAnnouncement))==null?void 0:bl.content})]})]})]}),d.jsxs("nav",{className:"lg:hidden mobile-nav-fixed fixed bottom-0 left-0 right-0 w-full bg-white dark:bg-[#0a0a0a] border-t border-[#efefef] dark:border-[#404040] px-2 py-2 flex justify-around items-center z-[100] safe-area-pb",children:[d.jsx(Kt,{tab:re.HOME,icon:Km,label:""}),d.jsx(Kt,{tab:re.STARTUPS,icon:yu,label:""}),d.jsx(wa,{onClick:xa,icon:Jn,label:""}),d.jsx(Kt,{tab:re.NOTIFICATIONS,icon:Hr,label:""}),d.jsx(Kt,{tab:re.SERVICES,icon:Qm,label:""})]}),Ke&&d.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end md:items-center justify-center p-0 md:p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:Ka}),d.jsxs("div",{className:"relative bg-white dark:bg-[#171717] w-full md:max-w-lg rounded-t-3xl md:rounded-2xl shadow-2xl p-6 animate-slide-up md:animate-scale-in flex flex-col max-h-[90vh] border border-[#efefef] dark:border-[#404040]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-[#fafafa]",children:""}),d.jsx("button",{onClick:Ka,className:"p-2 bg-slate-100 dark:bg-[#262626] rounded-full text-slate-500 dark:text-[#a3a3a3] hover:bg-slate-200 dark:hover:bg-[#404040]",children:d.jsx(pa,{size:20})})]}),d.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar flex-shrink-0",children:[d.jsx("button",{onClick:()=>va("post"),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${Qe==="post"?"bg-[#0095f6] text-white":"bg-[#efefef] dark:bg-[#262626] text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-[#e0e0e0] dark:hover:bg-[#404040]"}`,children:""}),d.jsx("button",{onClick:()=>va("startup"),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${Qe==="startup"?"bg-[#0095f6] text-white":"bg-[#efefef] dark:bg-[#262626] text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-[#e0e0e0] dark:hover:bg-[#404040]"}`,children:""}),d.jsx("button",{onClick:()=>va("lost_found"),className:`px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${Qe==="lost_found"?"bg-rose-500 text-white":"bg-[#efefef] dark:bg-[#262626] text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-[#e0e0e0] dark:hover:bg-[#404040]"}`,children:" "}),d.jsxs("button",{onClick:()=>va("announcement"),className:`flex items-center gap-1.5 px-4 py-2 text-sm font-semibold rounded-full whitespace-nowrap transition-colors ${Qe==="announcement"?"bg-amber-500 text-white":"bg-[#efefef] dark:bg-[#262626] text-[#8e8e8e] dark:text-[#a3a3a3] hover:bg-[#e0e0e0] dark:hover:bg-[#404040]"}`,children:[d.jsx(el,{size:14})," "]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[Qe==="startup"&&d.jsxs("div",{className:"space-y-3 mb-3 animate-slide-up",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:" "}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold text-slate-900 placeholder-slate-400",placeholder:": -",value:ys,onChange:R=>dl(R.target.value)})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 flex items-center gap-1",children:[d.jsx(Kb,{size:12}),"  ()"]}),d.jsx("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold text-slate-900",placeholder:"100",value:ti,onChange:R=>St(R.target.value)})]}),d.jsxs("div",{className:"flex-[2]",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 flex items-center gap-1",children:[d.jsx(Vb,{size:12})," "]}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-medium text-slate-900",placeholder:", IT, ...",value:fl,onChange:R=>ai(R.target.value)})]})]})]}),Qe==="lost_found"&&d.jsxs("div",{className:"space-y-3 mb-3 animate-slide-up",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>Ya("lost"),className:`flex-1 py-3 rounded-xl border-2 font-bold text-sm flex items-center justify-center gap-2 transition-all ${ba==="lost"?"border-rose-500 bg-rose-50 text-rose-600":"border-slate-100 text-slate-400 hover:border-rose-100"}`,children:[d.jsx(el,{size:18})," "]}),d.jsxs("button",{onClick:()=>Ya("found"),className:`flex-1 py-3 rounded-xl border-2 font-bold text-sm flex items-center justify-center gap-2 transition-all ${ba==="found"?"border-emerald-500 bg-emerald-50 text-emerald-600":"border-slate-100 text-slate-400 hover:border-emerald-100"}`,children:[d.jsx(Pn,{size:18})," "]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:" ?"}),d.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold text-slate-900 placeholder-slate-400",placeholder:ba==="lost"?":   Nike":": ' ",value:si,onChange:R=>ni(R.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1 block",children:Qe==="startup"?" ":Qe==="lost_found"?" (, )":""}),d.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-4 text-sm min-h-[120px] focus:ring-2 focus:ring-indigo-500 focus:outline-none resize-none text-slate-800 placeholder-slate-400 font-medium",placeholder:Qe==="startup"?"   ...":Qe==="lost_found"?" ,  ...":"  ?",value:ca,onChange:R=>Js(R.target.value)})]}),(Qe==="post"||Qe==="lost_found")&&d.jsxs("div",{className:"mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[d.jsxs("label",{className:"flex flex-col items-center justify-center w-20 h-20 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl cursor-pointer hover:bg-slate-100 flex-shrink-0",children:[d.jsx($r,{size:20,className:"text-slate-400 mb-1"}),d.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:""}),d.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:Ws})]}),Zs.map((R,Y)=>d.jsxs("div",{className:"relative w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 group border border-slate-100",children:[d.jsx("img",{src:R,className:"w-full h-full object-cover"}),d.jsx("button",{onClick:()=>_a(Y),className:"absolute top-1 right-1 bg-black/50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(ga,{size:12})})]},Y))]}),Qe==="lost_found"&&Zs.length===0&&d.jsx("p",{className:"text-xs text-rose-500 mt-1 font-medium",children:"*  '  "})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4 flex-shrink-0 pt-2 border-t border-slate-50",children:[d.jsx("div",{})," ",d.jsx(Me,{onClick:Fs,disabled:!ca&&Qe!=="lost_found"||ei,isLoading:ei,children:""})]})]})]}),d.jsx(b2,{imageUrl:M,onClose:()=>X(null)}),d.jsx(y2,{post:V,currentUser:i,onClose:()=>ee(null),onAddComment:ao,onDeleteComment:oi,onUserClick:Tt}),j&&i&&d.jsx(_2,{user:i,onClose:()=>G(!1),onSave:pl,onError:R=>de("error",R)}),Z&&i&&d.jsx(g2,{onSelect:async R=>{await a2(i.id,R),Q(!1)},onClose:()=>Q(!1)}),Ae&&i&&d.jsx(p2,{startup:Ae,userId:i.id,onClose:()=>Re(null),onSuccess:async()=>{const R=await B0(i.id);ae(R),de("success"," ")},onError:R=>de("error",R)}),rt&&i&&d.jsx(v2,{startup:rt,currentUser:i,onClose:()=>dt(null),onSuccess:R=>{de("success",R),xs()},onError:R=>de("error",R)}),ya&&d.jsx(z2,{type:ya.type,message:ya.message,onClose:()=>ft(null)}),d.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        @keyframes scale-in {
          from { transform: scale(0.95); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-slide-up { animation: slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
        .animate-scale-in { animation: scale-in 0.2s cubic-bezier(0.16, 1, 0.3, 1); }
        .animate-fade-in { animation: fade-in 0.2s ease-out; }
      `})]}):d.jsx(x2,{onLogin:ht})},vg=document.getElementById("root");if(!vg)throw new Error("Could not find root element to mount to");const q2=Lv.createRoot(vg);q2.render(d.jsx(Cv.StrictMode,{children:d.jsx(B2,{})}));
